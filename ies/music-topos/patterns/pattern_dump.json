{
  "technical_innovation": [
    {
      "file": "lib/bb6_hypercomputation.rb",
      "pattern_type": "function_definition",
      "start_line": 364,
      "end_line": 364,
      "symbols": [
        "verify"
      ],
      "complexity": 0.2,
      "leitmotif_type": "technical_innovation",
      "snippet_length": 21,
      "snippet": "    def verify(index)"
    },
    {
      "file": "lib/bb6_hypercomputation.rb",
      "pattern_type": "class_definition",
      "start_line": 271,
      "end_line": 370,
      "symbols": [
        "BusyBeaverExplorer"
      ],
      "complexity": 3.4,
      "leitmotif_type": "technical_innovation",
      "snippet_length": 2702,
      "snippet": "  class BusyBeaverExplorer\n    KNOWN_BB = {\n      1 => 1,\n      2 => 6,\n      3 => 21,\n      4 => 107,\n      5 => 47_176_870,\n      # BB(6) is unknown, lower bound is enormous\n      6 => :unknown\n    }\n\n    attr_reader :n, :oracle, :best_trajectory, :max_steps\n\n    def initialize(n, seed: 1069)\n    "
    },
    {
      "file": "lib/bb6_hypercomputation.rb",
      "pattern_type": "class_definition",
      "start_line": 340,
      "end_line": 439,
      "symbols": [
        "ThreeMatchWitness"
      ],
      "complexity": 3.7,
      "leitmotif_type": "technical_innovation",
      "snippet_length": 2908,
      "snippet": "  class ThreeMatchWitness\n    def initialize(seed)\n      @seed = seed\n      @witnesses = []\n    end\n\n    def record!(trajectory, oracle_response)\n      index = @witnesses.size + 1\n      color = SeedMiner.color_at(@seed, index)\n      hex = lch_to_hex(color)\n      fingerprint = Digest::SHA256.hexdiges"
    },
    {
      "file": "lib/blume_capel_coinflip.rb",
      "pattern_type": "function_definition",
      "start_line": 472,
      "end_line": 472,
      "symbols": [
        "verify_at"
      ],
      "complexity": 0.2,
      "leitmotif_type": "technical_innovation",
      "snippet_length": 24,
      "snippet": "    def verify_at(index)"
    },
    {
      "file": "lib/blume_capel_coinflip.rb",
      "pattern_type": "class_definition",
      "start_line": 72,
      "end_line": 171,
      "symbols": [
        "Spin"
      ],
      "complexity": 6.0,
      "leitmotif_type": "technical_innovation",
      "snippet_length": 2461,
      "snippet": "  class Spin\n    attr_reader :value, :girard_polarity, :musical_mode\n\n    def initialize(value)\n      raise ArgumentError, \"Spin must be -1, 0, or +1\" unless [-1, 0, 1].include?(value)\n      @value = value\n      @girard_polarity = case value\n                         when 1  then :positive\n          "
    },
    {
      "file": "lib/blume_capel_coinflip.rb",
      "pattern_type": "class_definition",
      "start_line": 104,
      "end_line": 203,
      "symbols": [
        "Lattice"
      ],
      "complexity": 4.5,
      "leitmotif_type": "technical_innovation",
      "snippet_length": 2443,
      "snippet": "  class Lattice\n    attr_reader :spins, :energy, :magnetization, :j, :delta\n\n    def initialize(size: 10, j: DEFAULT_J, delta: DEFAULT_DELTA)\n      @size = size\n      @j = j\n      @delta = delta\n      @spins = Array.new(size) { Spin.new(0) }  # Start neutral\n      @rng = SeedMiner::SplitMix64.new(10"
    },
    {
      "file": "lib/blume_capel_coinflip.rb",
      "pattern_type": "class_definition",
      "start_line": 467,
      "end_line": 515,
      "symbols": [
        "ThreeMatchVerifier"
      ],
      "complexity": 2.3,
      "leitmotif_type": "technical_innovation",
      "snippet_length": 1354,
      "snippet": "  class ThreeMatchVerifier\n    def initialize(seed)\n      @seed = seed\n    end\n\n    def verify_at(index)\n      color = SeedMiner.color_at(@seed, index)\n      hex = lch_to_hex(color)\n      fingerprint = Digest::SHA256.hexdigest(\"#{@seed}:#{hex}:#{index}\")[0, 16]\n\n      polarity = SeedMiner.send(:hue_"
    },
    {
      "file": "lib/chaitin_machine.rb",
      "pattern_type": "class_definition",
      "start_line": 17,
      "end_line": 116,
      "symbols": [
        "Program"
      ],
      "complexity": 6.9,
      "leitmotif_type": "technical_innovation",
      "snippet_length": 2699,
      "snippet": "  class Program\n    attr_reader :code, :encoding, :length\n\n    def initialize(code, encoding: nil)\n      @code = code\n      @encoding = encoding || Moebius::TernaryEncoder.encode(code.hash.abs % 1000)\n      @length = @encoding.length\n    end\n\n    def prefix?(other)\n      other.encoding.start_with?(@"
    },
    {
      "file": "lib/chaitin_machine.rb",
      "pattern_type": "class_definition",
      "start_line": 38,
      "end_line": 137,
      "symbols": [
        "UniversalMachine"
      ],
      "complexity": 6.8,
      "leitmotif_type": "technical_innovation",
      "snippet_length": 2670,
      "snippet": "  class UniversalMachine\n    BLANK = 0\n    TAPE_SIZE = 1000\n\n    attr_reader :tape, :head, :state, :halted, :steps\n\n    def initialize\n      @tape = Array.new(TAPE_SIZE, BLANK)\n      @head = TAPE_SIZE / 2\n      @state = 0\n      @halted = false\n      @steps = 0\n      @transition_table = {}\n    end\n\n "
    },
    {
      "file": "lib/exa_research_history.rb",
      "pattern_type": "function_definition",
      "start_line": 40,
      "end_line": 40,
      "symbols": [
        "fetch_all_research_tasks"
      ],
      "complexity": 0.2,
      "leitmotif_type": "technical_innovation",
      "snippet_length": 53,
      "snippet": "  def fetch_all_research_tasks(include_events: false)"
    },
    {
      "file": "lib/exa_research_history.rb",
      "pattern_type": "function_definition",
      "start_line": 337,
      "end_line": 337,
      "symbols": [
        "search_tasks_by_instruction"
      ],
      "complexity": 0.2,
      "leitmotif_type": "technical_innovation",
      "snippet_length": 42,
      "snippet": "  def search_tasks_by_instruction(keyword)"
    },
    {
      "file": "lib/exa_research_history.rb",
      "pattern_type": "function_definition",
      "start_line": 344,
      "end_line": 344,
      "symbols": [
        "get_task_by_id"
      ],
      "complexity": 0.2,
      "leitmotif_type": "technical_innovation",
      "snippet_length": 33,
      "snippet": "  def get_task_by_id(research_id)"
    },
    {
      "file": "lib/exa_research_history.rb",
      "pattern_type": "class_definition",
      "start_line": 22,
      "end_line": 121,
      "symbols": [
        "ExaResearchHistory"
      ],
      "complexity": 4.8,
      "leitmotif_type": "technical_innovation",
      "snippet_length": 2691,
      "snippet": "class ExaResearchHistory\n  # ========================================================================\n  # Initialization\n  # ========================================================================\n\n  BASE_URL = 'https://api.exa.ai/research/v1'\n\n  def initialize(api_key: ENV['EXA_API_KEY'])\n    @api"
    },
    {
      "file": "lib/gay_neverending.rb",
      "pattern_type": "class_definition",
      "start_line": 43,
      "end_line": 142,
      "symbols": [
        "GayClient"
      ],
      "complexity": 4.0,
      "leitmotif_type": "technical_innovation",
      "snippet_length": 2600,
      "snippet": "  class GayClient\n    attr_reader :seed, :index\n    \n    def initialize(seed: nil)\n      @seed = seed || 42\n      @index = 0\n      @color_cache = []\n      @http_available = false  # Will use local simulation\n      \n      # Precompute golden angle colors locally (matching Gay.jl algorithm)\n      @phi"
    },
    {
      "file": "lib/gay_neverending.rb",
      "pattern_type": "class_definition",
      "start_line": 153,
      "end_line": 252,
      "symbols": [
        "ColorMusicMapper"
      ],
      "complexity": 3.3,
      "leitmotif_type": "technical_innovation",
      "snippet_length": 3284,
      "snippet": "  class ColorMusicMapper\n    # Hue to pitch class (chromatic)\n    def self.hue_to_pitch_class(hue)\n      (hue / 30.0).floor % 12  # 30\u00b0 per semitone\n    end\n    \n    # Hue to scale degree (diatonic)\n    MAJOR_SCALE = [0, 2, 4, 5, 7, 9, 11]\n    MINOR_SCALE = [0, 2, 3, 5, 7, 8, 10]\n    DORIAN_SCALE = "
    },
    {
      "file": "lib/genesis_chain.rb",
      "pattern_type": "function_definition",
      "start_line": 114,
      "end_line": 114,
      "symbols": [
        "self"
      ],
      "complexity": 0.2,
      "leitmotif_type": "technical_innovation",
      "snippet_length": 37,
      "snippet": "  def self.local_update(trits, index)"
    },
    {
      "file": "lib/genetic_spectral_search.rb",
      "pattern_type": "function_definition",
      "start_line": 59,
      "end_line": 59,
      "symbols": [
        "self"
      ],
      "complexity": 0.2,
      "leitmotif_type": "technical_innovation",
      "snippet_length": 61,
      "snippet": "  def self.search(pop_size: 20, generations: 10, seed: 0x42D)"
    },
    {
      "file": "lib/geometric_morphism.rb",
      "pattern_type": "class_definition",
      "start_line": 32,
      "end_line": 131,
      "symbols": [
        "ColorSpace"
      ],
      "complexity": 2.8,
      "leitmotif_type": "technical_innovation",
      "snippet_length": 3312,
      "snippet": "  class ColorSpace\n    attr_reader :seed, :dimension\n    \n    def initialize(seed: 0x42D, dimension: 3)\n      @seed = seed\n      @dimension = dimension\n      @streams = SplitMixTernary::TripartiteStreams.new(seed)\n    end\n    \n    # Generate n colors from this space (GF(3) conserved triplets)\n    de"
    },
    {
      "file": "lib/girard_colors.rb",
      "pattern_type": "function_definition",
      "start_line": 147,
      "end_line": 196,
      "symbols": [
        "initialize"
      ],
      "complexity": 2.2,
      "leitmotif_type": "technical_innovation",
      "snippet_length": 1515,
      "snippet": "    def initialize(seed)\n      @state = seed & 0xFFFFFFFFFFFFFFFF\n    end\n\n    def next_u64\n      @state = (@state + 0x9E3779B97F4A7C15) & 0xFFFFFFFFFFFFFFFF\n      z = @state\n      z = ((z ^ (z >> 30)) * 0xBF58476D1CE4E5B9) & 0xFFFFFFFFFFFFFFFF\n      z = ((z ^ (z >> 27)) * 0x94D049BB133111EB) & 0xFF"
    },
    {
      "file": "lib/girard_colors.rb",
      "pattern_type": "function_definition",
      "start_line": 151,
      "end_line": 200,
      "symbols": [
        "next_u64"
      ],
      "complexity": 2.0,
      "leitmotif_type": "technical_innovation",
      "snippet_length": 1492,
      "snippet": "    def next_u64\n      @state = (@state + 0x9E3779B97F4A7C15) & 0xFFFFFFFFFFFFFFFF\n      z = @state\n      z = ((z ^ (z >> 30)) * 0xBF58476D1CE4E5B9) & 0xFFFFFFFFFFFFFFFF\n      z = ((z ^ (z >> 27)) * 0x94D049BB133111EB) & 0xFFFFFFFFFFFFFFFF\n      z ^ (z >> 31)\n    end\n\n    def next_float\n      next_u"
    },
    {
      "file": "lib/girard_colors.rb",
      "pattern_type": "function_definition",
      "start_line": 159,
      "end_line": 208,
      "symbols": [
        "next_float"
      ],
      "complexity": 1.8,
      "leitmotif_type": "technical_innovation",
      "snippet_length": 1465,
      "snippet": "    def next_float\n      next_u64.to_f / 0xFFFFFFFFFFFFFFFF.to_f\n    end\n  end\n\n  # Generate color from seed at index (matches Gay.jl algorithm)\n  def self.color_at(seed, index)\n    rng = SplitMix64.new(seed)\n    index.times { rng.next_u64 }  # Advance to position\n    \n    # LCH generation\n    l = 1"
    },
    {
      "file": "lib/girard_colors.rb",
      "pattern_type": "function_definition",
      "start_line": 165,
      "end_line": 214,
      "symbols": [
        "self"
      ],
      "complexity": 1.6,
      "leitmotif_type": "technical_innovation",
      "snippet_length": 1518,
      "snippet": "  def self.color_at(seed, index)\n    rng = SplitMix64.new(seed)\n    index.times { rng.next_u64 }  # Advance to position\n    \n    # LCH generation\n    l = 10 + rng.next_float * 85  # L: 10-95\n    c = rng.next_float * 100       # C: 0-100\n    h = rng.next_float * 360       # H: 0-360\n    \n    { L: l, "
    },
    {
      "file": "lib/girard_colors.rb",
      "pattern_type": "function_definition",
      "start_line": 354,
      "end_line": 354,
      "symbols": [
        "self"
      ],
      "complexity": 0.2,
      "leitmotif_type": "technical_innovation",
      "snippet_length": 49,
      "snippet": "  def self.motif(seed, start_index: 0, length: 4)"
    },
    {
      "file": "lib/glass_bead_game.rb",
      "pattern_type": "function_definition",
      "start_line": 53,
      "end_line": 53,
      "symbols": [
        "split"
      ],
      "complexity": 0.2,
      "leitmotif_type": "technical_innovation",
      "snippet_length": 20,
      "snippet": "    def split(index)"
    },
    {
      "file": "lib/glass_bead_game.rb",
      "pattern_type": "class_definition",
      "start_line": 30,
      "end_line": 129,
      "symbols": [
        "SplitMixTernary"
      ],
      "complexity": 2.8,
      "leitmotif_type": "technical_innovation",
      "snippet_length": 2559,
      "snippet": "  class SplitMixTernary\n    GOLDEN = 0x9e3779b97f4a7c15\n    \n    def initialize(seed)\n      @state = seed & 0xFFFFFFFFFFFFFFFF\n    end\n    \n    def next_u64\n      @state = (@state + GOLDEN) & 0xFFFFFFFFFFFFFFFF\n      z = @state\n      z = ((z ^ (z >> 30)) * 0xbf58476d1ce4e5b9) & 0xFFFFFFFFFFFFFFFF\n  "
    },
    {
      "file": "lib/group_theory.rb",
      "pattern_type": "function_definition",
      "start_line": 170,
      "end_line": 219,
      "symbols": [
        "initialize"
      ],
      "complexity": 2.9,
      "leitmotif_type": "technical_innovation",
      "snippet_length": 1257,
      "snippet": "  def initialize(mapping)\n    @mapping = mapping.freeze\n    @order = mapping.length\n  end\n\n  # Create identity permutation\n  def self.identity(n)\n    Permutation.new((0...n).to_a)\n  end\n\n  # Create transposition: swaps two elements\n  def self.transposition(n, i, j)\n    perm = (0...n).to_a\n    perm[i"
    },
    {
      "file": "lib/group_theory.rb",
      "pattern_type": "function_definition",
      "start_line": 176,
      "end_line": 225,
      "symbols": [
        "self"
      ],
      "complexity": 2.9,
      "leitmotif_type": "technical_innovation",
      "snippet_length": 1269,
      "snippet": "  def self.identity(n)\n    Permutation.new((0...n).to_a)\n  end\n\n  # Create transposition: swaps two elements\n  def self.transposition(n, i, j)\n    perm = (0...n).to_a\n    perm[i], perm[j] = perm[j], perm[i]\n    Permutation.new(perm)\n  end\n\n  # Create cycle: (a\u2080 a\u2081 ... a\u2096)\n  # Means a\u2080 \u2192 a\u2081 \u2192 ... \u2192 a"
    },
    {
      "file": "lib/group_theory.rb",
      "pattern_type": "function_definition",
      "start_line": 181,
      "end_line": 230,
      "symbols": [
        "self"
      ],
      "complexity": 3.7,
      "leitmotif_type": "technical_innovation",
      "snippet_length": 1273,
      "snippet": "  def self.transposition(n, i, j)\n    perm = (0...n).to_a\n    perm[i], perm[j] = perm[j], perm[i]\n    Permutation.new(perm)\n  end\n\n  # Create cycle: (a\u2080 a\u2081 ... a\u2096)\n  # Means a\u2080 \u2192 a\u2081 \u2192 ... \u2192 a\u2096 \u2192 a\u2080\n  def self.cycle(n, *cycle_elements)\n    perm = (0...n).to_a\n    cycle_elements.each_with_index do |el"
    },
    {
      "file": "lib/group_theory.rb",
      "pattern_type": "function_definition",
      "start_line": 189,
      "end_line": 238,
      "symbols": [
        "self"
      ],
      "complexity": 4.0,
      "leitmotif_type": "technical_innovation",
      "snippet_length": 1227,
      "snippet": "  def self.cycle(n, *cycle_elements)\n    perm = (0...n).to_a\n    cycle_elements.each_with_index do |elem, idx|\n      next_elem = cycle_elements[(idx + 1) % cycle_elements.length]\n      perm[elem] = next_elem\n    end\n    Permutation.new(perm)\n  end\n\n  # Compose two permutations: self \u2218 other\n  # Mean"
    },
    {
      "file": "lib/group_theory.rb",
      "pattern_type": "function_definition",
      "start_line": 200,
      "end_line": 249,
      "symbols": [
        "compose"
      ],
      "complexity": 4.7,
      "leitmotif_type": "technical_innovation",
      "snippet_length": 1101,
      "snippet": "  def compose(other)\n    raise \"Order mismatch\" if @order != other.order\n    new_mapping = @mapping.map { |i| other.mapping[i] }\n    Permutation.new(new_mapping)\n  end\n\n  # Inverse: perm\u207b\u00b9 such that perm \u2218 perm\u207b\u00b9 = identity\n  def inverse\n    inv_mapping = Array.new(@order)\n    @mapping.each_with_ind"
    },
    {
      "file": "lib/group_theory.rb",
      "pattern_type": "function_definition",
      "start_line": 207,
      "end_line": 256,
      "symbols": [
        "inverse"
      ],
      "complexity": 3.7,
      "leitmotif_type": "technical_innovation",
      "snippet_length": 946,
      "snippet": "  def inverse\n    inv_mapping = Array.new(@order)\n    @mapping.each_with_index do |to, from|\n      inv_mapping[to] = from\n    end\n    Permutation.new(inv_mapping)\n  end\n\n  # Apply permutation to array\n  def apply_to_array(arr)\n    arr.map { |elem| @mapping[elem] }\n  end\n\n  # Convert to cycle notatio"
    },
    {
      "file": "lib/group_theory.rb",
      "pattern_type": "function_definition",
      "start_line": 376,
      "end_line": 425,
      "symbols": [
        "triangle_inequality_satisfied?"
      ],
      "complexity": 4.5,
      "leitmotif_type": "technical_innovation",
      "snippet_length": 1233,
      "snippet": "  def triangle_inequality_satisfied?(perm_a, perm_b, perm_c, tolerance = 1e-10)\n    d_ab = distance(perm_a, perm_b)\n    d_bc = distance(perm_b, perm_c)\n    d_ac = distance(perm_a, perm_c)\n\n    return false if d_ab.nil? || d_bc.nil? || d_ac.nil?\n\n    d_ac <= d_ab + d_bc + tolerance\n  end\n\n  private\n\n"
    },
    {
      "file": "lib/group_theory.rb",
      "pattern_type": "function_definition",
      "start_line": 389,
      "end_line": 434,
      "symbols": [
        "generate_s_n"
      ],
      "complexity": 3.3,
      "leitmotif_type": "technical_innovation",
      "snippet_length": 1032,
      "snippet": "  def generate_s_n(n)\n    if n > 8\n      # For large n, return generator set instead (space-efficient)\n      # In practice, we work with generators, not full set\n      return Set.new([Permutation.identity(n)])\n    end\n\n    perms = Set.new\n    (0...factorial(n)).each do |idx|\n      perms << permutati"
    },
    {
      "file": "lib/group_theory.rb",
      "pattern_type": "function_definition",
      "start_line": 404,
      "end_line": 434,
      "symbols": [
        "generate_generators"
      ],
      "complexity": 1.6,
      "leitmotif_type": "technical_innovation",
      "snippet_length": 599,
      "snippet": "  def generate_generators(n)\n    gens = []\n    (0...n-1).each do |i|\n      gens << Permutation.transposition(n, i, i + 1)\n    end\n    gens\n  end\n\n  def factorial(n)\n    (1..n).reduce(1, :*)\n  end\n\n  # Convert factorial number system index to permutation\n  def permutation_from_index(n, idx)\n    eleme"
    },
    {
      "file": "lib/group_theory.rb",
      "pattern_type": "function_definition",
      "start_line": 412,
      "end_line": 434,
      "symbols": [
        "factorial"
      ],
      "complexity": 0.9,
      "leitmotif_type": "technical_innovation",
      "snippet_length": 453,
      "snippet": "  def factorial(n)\n    (1..n).reduce(1, :*)\n  end\n\n  # Convert factorial number system index to permutation\n  def permutation_from_index(n, idx)\n    elements = (0...n).to_a\n    perm = []\n\n    (0...n).each do |i|\n      fact = factorial(n - i - 1)\n      pos = idx / fact\n      idx = idx % fact\n\n      p"
    },
    {
      "file": "lib/group_theory.rb",
      "pattern_type": "function_definition",
      "start_line": 417,
      "end_line": 434,
      "symbols": [
        "permutation_from_index"
      ],
      "complexity": 0.7,
      "leitmotif_type": "technical_innovation",
      "snippet_length": 345,
      "snippet": "  def permutation_from_index(n, idx)\n    elements = (0...n).to_a\n    perm = []\n\n    (0...n).each do |i|\n      fact = factorial(n - i - 1)\n      pos = idx / fact\n      idx = idx % fact\n\n      perm << elements[pos]\n      elements.delete_at(pos)\n    end\n\n    Permutation.new(perm)\n  end\nend\n\n# S\u2081\u2082 speci"
    },
    {
      "file": "lib/group_theory.rb",
      "pattern_type": "class_definition",
      "start_line": 167,
      "end_line": 259,
      "symbols": [
        "Permutation"
      ],
      "complexity": 5.7,
      "leitmotif_type": "technical_innovation",
      "snippet_length": 2050,
      "snippet": "class Permutation\n  attr_reader :mapping, :order\n\n  def initialize(mapping)\n    @mapping = mapping.freeze\n    @order = mapping.length\n  end\n\n  # Create identity permutation\n  def self.identity(n)\n    Permutation.new((0...n).to_a)\n  end\n\n  # Create transposition: swaps two elements\n  def self.transpo"
    },
    {
      "file": "lib/group_theory.rb",
      "pattern_type": "class_definition",
      "start_line": 260,
      "end_line": 434,
      "symbols": [
        "SymmetricGroup"
      ],
      "complexity": 10.0,
      "leitmotif_type": "technical_innovation",
      "snippet_length": 4477,
      "snippet": "class SymmetricGroup < Group\n  attr_reader :n, :cayley_graph_cache\n\n  def initialize(n)\n    @n = n\n    @cayley_graph_cache = {}\n    identity = Permutation.identity(n)\n    super(generate_s_n(n), identity, generate_generators(n))\n  end\n\n  # Multiply two permutations: compose them\n  def multiply(perm1,"
    },
    {
      "file": "lib/group_theory.rb",
      "pattern_type": "class_definition",
      "start_line": 435,
      "end_line": 470,
      "symbols": [
        "S12"
      ],
      "complexity": 3.1,
      "leitmotif_type": "technical_innovation",
      "snippet_length": 996,
      "snippet": "class S12 < SymmetricGroup\n  def initialize\n    super(12)\n  end\n\n  # Voice leading under S\u2081\u2082 action\n  # Apply permutation to chord pitches\n  def voice_leading_action(chord, permutation)\n    original_pitches = chord.voices.map(&:value)\n    new_pitches = permutation.apply_to_array(original_pitches)\n\n "
    },
    {
      "file": "lib/hedges_open_games.rb",
      "pattern_type": "class_definition",
      "start_line": 30,
      "end_line": 129,
      "symbols": [
        "Lens"
      ],
      "complexity": 2.1,
      "leitmotif_type": "technical_innovation",
      "snippet_length": 3296,
      "snippet": "  class Lens\n    attr_reader :forward, :backward, :name, :trit\n    \n    def initialize(name:, forward:, backward:, trit: 0)\n      @name = name\n      @forward = forward   # X \u2192 Y (state transformation)\n      @backward = backward # (X, R) \u2192 S (utility propagation)\n      @trit = trit\n    end\n    \n    #"
    },
    {
      "file": "lib/maximum_dynamism.rb",
      "pattern_type": "function_definition",
      "start_line": 539,
      "end_line": 539,
      "symbols": [
        "derange"
      ],
      "complexity": 0.2,
      "leitmotif_type": "technical_innovation",
      "snippet_length": 38,
      "snippet": "    def derange(onset, event_index: 0)"
    },
    {
      "file": "lib/maximum_dynamism.rb",
      "pattern_type": "class_definition",
      "start_line": 442,
      "end_line": 541,
      "symbols": [
        "AmplitudeDerangement"
      ],
      "complexity": 4.3,
      "leitmotif_type": "technical_innovation",
      "snippet_length": 2930,
      "snippet": "  class AmplitudeDerangement\n    attr_accessor :enabled, :intensity, :strategy, :allow_silence, :allow_clip,\n                  :dynamics_curve\n    \n    def initialize(\n      enabled: true,\n      intensity: 0.3,\n      strategy: :gaussian,\n      allow_silence: false,\n      allow_clip: false,\n      dyn"
    },
    {
      "file": "lib/modulation.rb",
      "pattern_type": "function_definition",
      "start_line": 37,
      "end_line": 86,
      "symbols": [
        "self"
      ],
      "complexity": 0.8,
      "leitmotif_type": "technical_innovation",
      "snippet_length": 1656,
      "snippet": "  def self.transpose_key(key, semitones)\n    # Simple key transposition\n    # If key is 'C', semitones=2 \u2192 'D'\n    key_map = {\n      'C' => 0, 'G' => 7, 'D' => 2, 'A' => 9, 'E' => 4, 'B' => 11,\n      'F#' => 6, 'C#' => 1, 'G#' => 8, 'D#' => 3, 'A#' => 10, 'F' => 5,\n      'Bb' => 10, 'Eb' => 3, 'Ab' "
    },
    {
      "file": "lib/modulation.rb",
      "pattern_type": "function_definition",
      "start_line": 55,
      "end_line": 104,
      "symbols": [
        "self"
      ],
      "complexity": 0.6,
      "leitmotif_type": "technical_innovation",
      "snippet_length": 1588,
      "snippet": "  def self.chromatic_distance(key1, key2)\n    key_pitches = {\n      'C' => 0, 'G' => 7, 'D' => 2, 'A' => 9, 'E' => 4, 'B' => 11,\n      'F#' => 6, 'C#' => 1, 'G#' => 8, 'D#' => 3, 'A#' => 10, 'F' => 5,\n      'Bb' => 10, 'Eb' => 3, 'Ab' => 8, 'Db' => 1, 'Gb' => 6, 'Cb' => 11\n    }\n\n    pitch1 = key_pi"
    },
    {
      "file": "lib/modulation.rb",
      "pattern_type": "function_definition",
      "start_line": 71,
      "end_line": 120,
      "symbols": [
        "self"
      ],
      "complexity": 2.1,
      "leitmotif_type": "technical_innovation",
      "snippet_length": 1593,
      "snippet": "  def self.circle_of_fifths_distance(key1, key2)\n    # In circle of fifths: C - G - D - A - E - B - F# - C# - G# - D# - A# - F - C\n    circle = ['C', 'G', 'D', 'A', 'E', 'B', 'F#', 'C#', 'G#', 'D#', 'A#', 'F']\n\n    idx1 = circle.index(key1) || 0\n    idx2 = circle.index(key2) || 0\n\n    diff = (idx2 -"
    },
    {
      "file": "lib/moebius.rb",
      "pattern_type": "class_definition",
      "start_line": 62,
      "end_line": 161,
      "symbols": [
        "PrefixLattice"
      ],
      "complexity": 9.8,
      "leitmotif_type": "technical_innovation",
      "snippet_length": 2534,
      "snippet": "  class PrefixLattice\n    attr_reader :programs\n\n    def initialize\n      @programs = {}  # encoding \u2192 program\n      @cache = {}     # memoization for \u03bc\n    end\n\n    def add(encoding, program)\n      @programs[encoding] = program\n      @cache.clear\n    end\n\n    def prefix?(p, q)\n      p.length <= q.l"
    },
    {
      "file": "lib/moebius.rb",
      "pattern_type": "class_definition",
      "start_line": 110,
      "end_line": 161,
      "symbols": [
        "TernaryEncoder"
      ],
      "complexity": 4.6,
      "leitmotif_type": "technical_innovation",
      "snippet_length": 1285,
      "snippet": "  class TernaryEncoder\n    # Elias-like prefix-free code in ternary\n    # Length prefix: unary in ternary, then payload\n    def self.encode(n)\n      return \"0\" if n == 0\n      \n      # Convert to balanced ternary\n      trits = []\n      temp = n.abs\n      while temp > 0\n        rem = temp % 3\n       "
    },
    {
      "file": "lib/opn/drone.rb",
      "pattern_type": "class_definition",
      "start_line": 8,
      "end_line": 88,
      "symbols": [
        "InfiniteDrone"
      ],
      "complexity": 1.8,
      "leitmotif_type": "technical_innovation",
      "snippet_length": 1959,
      "snippet": "    class InfiniteDrone\n      def initialize(root: 36, harmonics: 8)\n        @root = root\n        @harmonics = harmonics\n      end\n      \n      def generate(duration: 32.0)\n        events = []\n        \n        # Fundamental\n        events << {\n          at: 0,\n          pitch: @root,\n          dur: "
    },
    {
      "file": "lib/opn/eccojam.rb",
      "pattern_type": "class_definition",
      "start_line": 8,
      "end_line": 91,
      "symbols": [
        "ChopLoop"
      ],
      "complexity": 2.3,
      "leitmotif_type": "technical_innovation",
      "snippet_length": 2089,
      "snippet": "    class ChopLoop\n      def initialize(pitches, durations, loop_count: 4, decay: 0.95)\n        @pitches = pitches\n        @durations = durations\n        @loop_count = loop_count\n        @decay = decay\n      end\n      \n      def generate\n        events = []\n        time = 0\n        amp = 0.6\n       "
    },
    {
      "file": "lib/opn/midi_orchestra.rb",
      "pattern_type": "class_definition",
      "start_line": 8,
      "end_line": 106,
      "symbols": [
        "HyperrealEnsemble"
      ],
      "complexity": 3.8,
      "leitmotif_type": "technical_innovation",
      "snippet_length": 2559,
      "snippet": "    class HyperrealEnsemble\n      RANGES = {\n        violin: [55, 96],\n        viola: [48, 84],\n        cello: [36, 72],\n        bass: [28, 55],\n        flute: [60, 96],\n        oboe: [58, 91],\n        clarinet: [50, 89],\n        bassoon: [34, 72],\n        horn: [41, 77],\n        trumpet: [55, 82],\n"
    },
    {
      "file": "lib/opn/polyrhythm.rb",
      "pattern_type": "class_definition",
      "start_line": 8,
      "end_line": 93,
      "symbols": [
        "PolyLayer"
      ],
      "complexity": 3.5,
      "leitmotif_type": "technical_innovation",
      "snippet_length": 2118,
      "snippet": "    class PolyLayer\n      def initialize(divisions)\n        @divisions = divisions  # e.g., [3, 4, 5, 7]\n      end\n      \n      def generate(duration: 16.0, pitches: nil)\n        events = []\n        \n        @divisions.each_with_index do |div, layer|\n          pitch = pitches ? pitches[layer % pitch"
    },
    {
      "file": "lib/opn/vocoder.rb",
      "pattern_type": "class_definition",
      "start_line": 8,
      "end_line": 96,
      "symbols": [
        "VocoderVoice"
      ],
      "complexity": 4.0,
      "leitmotif_type": "technical_innovation",
      "snippet_length": 2140,
      "snippet": "    class VocoderVoice\n      FORMANTS = {\n        a: [730, 1090, 2440],\n        e: [530, 1840, 2480],\n        i: [270, 2290, 3010],\n        o: [570, 840, 2410],\n        u: [440, 1020, 2240]\n      }\n      \n      def initialize(carrier_pitch: 48)\n        @carrier = carrier_pitch\n      end\n      \n     "
    },
    {
      "file": "lib/pitch_class.rb",
      "pattern_type": "class_definition",
      "start_line": 4,
      "end_line": 82,
      "symbols": [
        "PitchClass"
      ],
      "complexity": 3.5,
      "leitmotif_type": "technical_innovation",
      "snippet_length": 1470,
      "snippet": "class PitchClass\n  SEMITONES = 12\n  CHROMATIC_NOTES = ['C', 'C#', 'D', 'D#', 'E', 'F', 'F#', 'G', 'G#', 'A', 'A#', 'B']\n\n  attr_reader :value\n\n  def self.from_midi(midi_note)\n    new(midi_note)\n  end\n\n  def self.from_name(name)\n    # Normalize flats to sharps\n    normalization = {\n      'Cb' => 'B',"
    },
    {
      "file": "lib/plr_color_renderer.rb",
      "pattern_type": "function_definition",
      "start_line": 367,
      "end_line": 367,
      "symbols": [
        "color_cache_key"
      ],
      "complexity": 0.2,
      "leitmotif_type": "technical_innovation",
      "snippet_length": 28,
      "snippet": "  def color_cache_key(color)"
    },
    {
      "file": "lib/plr_color_renderer.rb",
      "pattern_type": "class_definition",
      "start_line": 22,
      "end_line": 121,
      "symbols": [
        "PLRColorRenderer"
      ],
      "complexity": 3.7,
      "leitmotif_type": "technical_innovation",
      "snippet_length": 3268,
      "snippet": "class PLRColorRenderer\n  # Color space boundaries\n  HUE_MIN = 0.0\n  HUE_MAX = 360.0\n  LIGHTNESS_MIN = 0.0\n  LIGHTNESS_MAX = 100.0\n  CHROMA_MIN = 0.0\n  CHROMA_MAX = 130.0\n\n  # MIDI pitch range (C1 to C7)\n  MIDI_MIN = 24\n  MIDI_MAX = 108\n  MIDI_RANGE = MIDI_MAX - MIDI_MIN\n\n  # Timing and amplitude ran"
    },
    {
      "file": "lib/prediction_market_proofs.rb",
      "pattern_type": "function_definition",
      "start_line": 166,
      "end_line": 166,
      "symbols": [
        "edges_for"
      ],
      "complexity": 0.2,
      "leitmotif_type": "technical_innovation",
      "snippet_length": 31,
      "snippet": "    def edges_for(vertex_index)"
    },
    {
      "file": "lib/prediction_market_proofs.rb",
      "pattern_type": "class_definition",
      "start_line": 131,
      "end_line": 230,
      "symbols": [
        "RamanujanExpander"
      ],
      "complexity": 6.3,
      "leitmotif_type": "technical_innovation",
      "snippet_length": 3009,
      "snippet": "  class RamanujanExpander\n    attr_reader :vertices, :edges, :spectral_gap\n\n    def initialize(prime_base, dimension: 2)\n      @prime = prime_base\n      @dimension = dimension\n      @vertices = generate_vertices\n      @edges = generate_edges\n      @spectral_gap = compute_spectral_gap\n    end\n\n    # "
    },
    {
      "file": "lib/quantum_aphex_autechre.rb",
      "pattern_type": "class_definition",
      "start_line": 59,
      "end_line": 158,
      "symbols": [
        "PolymetricGrid"
      ],
      "complexity": 6.2,
      "leitmotif_type": "technical_innovation",
      "snippet_length": 3225,
      "snippet": "    class PolymetricGrid\n      attr_reader :periods, :accents\n      \n      def initialize(*periods, accents: nil)\n        @periods = periods\n        @accents = accents || periods.map { |p| [0] }  # Default: accent first beat\n      end\n      \n      # Get the phase vector at time t\n      def phase_at("
    },
    {
      "file": "lib/quantum_aphex_autechre.rb",
      "pattern_type": "class_definition",
      "start_line": 345,
      "end_line": 444,
      "symbols": [
        "ElementaryCA"
      ],
      "complexity": 7.3,
      "leitmotif_type": "technical_innovation",
      "snippet_length": 2783,
      "snippet": "    class ElementaryCA\n      attr_reader :state, :rule\n      \n      def initialize(size, rule: 30, seed: nil)\n        @size = size\n        @rule = rule\n        @state = seed || Array.new(size) { rand > 0.5 }\n        @state[@size / 2] = true if seed.nil?  # Single cell start\n      end\n      \n      de"
    },
    {
      "file": "lib/quantum_aphex_autechre.rb",
      "pattern_type": "class_definition",
      "start_line": 483,
      "end_line": 582,
      "symbols": [
        "EntangledPair"
      ],
      "complexity": 4.7,
      "leitmotif_type": "technical_innovation",
      "snippet_length": 3005,
      "snippet": "    class EntangledPair\n      def initialize(param_a_states, param_b_states, correlation_matrix)\n        @a_states = param_a_states\n        @b_states = param_b_states\n        @correlations = correlation_matrix  # P(b|a)\n        @measured_a = nil\n      end\n      \n      def measure_a\n        @measured"
    },
    {
      "file": "lib/ramanujan_complex.rb",
      "pattern_type": "function_definition",
      "start_line": 637,
      "end_line": 637,
      "symbols": [
        "concept_to_pitch"
      ],
      "complexity": 0.2,
      "leitmotif_type": "technical_innovation",
      "snippet_length": 40,
      "snippet": "    def concept_to_pitch(concept, index)"
    },
    {
      "file": "lib/ramanujan_complex.rb",
      "pattern_type": "class_definition",
      "start_line": 28,
      "end_line": 127,
      "symbols": [
        "SimplicialComplex"
      ],
      "complexity": 8.0,
      "leitmotif_type": "technical_innovation",
      "snippet_length": 2760,
      "snippet": "  class SimplicialComplex\n    attr_reader :vertices, :simplices, :dimension\n    \n    def initialize\n      @vertices = Set.new\n      @simplices = Hash.new { |h, k| h[k] = Set.new }  # dim \u2192 set of simplices\n      @dimension = -1\n    end\n    \n    def add_vertex(v)\n      @vertices << v\n      @simplices"
    },
    {
      "file": "lib/ramanujan_complex.rb",
      "pattern_type": "class_definition",
      "start_line": 91,
      "end_line": 190,
      "symbols": [
        "Laplacian"
      ],
      "complexity": 4.7,
      "leitmotif_type": "technical_innovation",
      "snippet_length": 2803,
      "snippet": "  class Laplacian\n    attr_reader :complex, :dimension\n    \n    def initialize(complex, dim)\n      @complex = complex\n      @dimension = dim\n      @simplices = complex.simplices[dim].to_a\n      @index = @simplices.each_with_index.to_h\n    end\n    \n    # Upper Laplacian L_up = \u03b4*\u03b4 (coboundary \u2218 cobou"
    },
    {
      "file": "lib/ramanujan_complex.rb",
      "pattern_type": "class_definition",
      "start_line": 354,
      "end_line": 453,
      "symbols": [
        "UngarGame"
      ],
      "complexity": 6.6,
      "leitmotif_type": "technical_innovation",
      "snippet_length": 2577,
      "snippet": "  class UngarGame\n    attr_reader :lattice, :left_position, :right_position, :round\n    \n    def initialize(lattice, start_left, start_right)\n      @lattice = lattice\n      @left_position = start_left\n      @right_position = start_right\n      @round = 0\n      @spoiler_moves = []\n      @duplicator_mo"
    },
    {
      "file": "lib/ramanujan_complex.rb",
      "pattern_type": "class_definition",
      "start_line": 413,
      "end_line": 512,
      "symbols": [
        "MusicalLattice"
      ],
      "complexity": 5.8,
      "leitmotif_type": "technical_innovation",
      "snippet_length": 2926,
      "snippet": "  class MusicalLattice\n    attr_reader :elements\n    \n    def initialize\n      # Lattice of pitch classes with circle-of-fifths ordering\n      @elements = (0..11).to_a\n      @cof = [0, 7, 2, 9, 4, 11, 6, 1, 8, 3, 10, 5]  # Circle of fifths\n      @cof_index = @cof.each_with_index.to_h\n    end\n    \n  "
    },
    {
      "file": "lib/ramanujan_complex.rb",
      "pattern_type": "class_definition",
      "start_line": 528,
      "end_line": 627,
      "symbols": [
        "RamanujanMusicalComplex"
      ],
      "complexity": 5.5,
      "leitmotif_type": "technical_innovation",
      "snippet_length": 3187,
      "snippet": "  class RamanujanMusicalComplex\n    attr_reader :depaiva_complex, :walker, :lattice, :harmonies\n    \n    def initialize(seed: 0x42D)\n      @seed = seed\n      @depaiva_complex = DePaivaSpace.build_complex\n      @walker = RandomWalk.new(@depaiva_complex, seed: seed)\n      @lattice = MusicalLattice.new"
    },
    {
      "file": "lib/rubato_bridge.rb",
      "pattern_type": "function_definition",
      "start_line": 365,
      "end_line": 365,
      "symbols": [
        "self"
      ],
      "complexity": 0.2,
      "leitmotif_type": "technical_innovation",
      "snippet_length": 34,
      "snippet": "    def self.color_at(seed, index)"
    },
    {
      "file": "lib/rubato_bridge.rb",
      "pattern_type": "class_definition",
      "start_line": 114,
      "end_line": 213,
      "symbols": [
        "SimpleDenotator"
      ],
      "complexity": 6.1,
      "leitmotif_type": "technical_innovation",
      "snippet_length": 2081,
      "snippet": "  class SimpleDenotator < Denotator\n    attr_reader :value\n\n    def initialize(name:, form:, value:)\n      super(name: name, form: form)\n      @value = value\n    end\n\n    def to_sonic_pi\n      case @form.name\n      when 'Pitch' then { note: @value }\n      when 'Duration' then { sustain: @value }\n   "
    },
    {
      "file": "lib/rubato_bridge.rb",
      "pattern_type": "class_definition",
      "start_line": 319,
      "end_line": 418,
      "symbols": [
        "SonicPiBridge"
      ],
      "complexity": 5.4,
      "leitmotif_type": "technical_innovation",
      "snippet_length": 2514,
      "snippet": "  class SonicPiBridge\n    OSC_PORT = 4560\n\n    def initialize(host: 'localhost', port: OSC_PORT)\n      @host = host\n      @port = port\n    end\n\n    def play_denotator(denotator)\n      case denotator\n      when SimpleDenotator\n        play_simple(denotator)\n      when LimitDenotator\n        play_note"
    },
    {
      "file": "lib/skill_1069_generator.rb",
      "pattern_type": "function_definition",
      "start_line": 459,
      "end_line": 459,
      "symbols": [
        "self"
      ],
      "complexity": 0.2,
      "leitmotif_type": "technical_innovation",
      "snippet_length": 33,
      "snippet": "  def self.generate_index(skills)"
    },
    {
      "file": "lib/skill_sonification.rb",
      "pattern_type": "function_definition",
      "start_line": 89,
      "end_line": 89,
      "symbols": [
        "pitch_from_index"
      ],
      "complexity": 0.2,
      "leitmotif_type": "technical_innovation",
      "snippet_length": 31,
      "snippet": "    def pitch_from_index(index)"
    },
    {
      "file": "lib/spi_parallel.rb",
      "pattern_type": "class_definition",
      "start_line": 140,
      "end_line": 239,
      "symbols": [
        "RactorPool"
      ],
      "complexity": 4.4,
      "leitmotif_type": "technical_innovation",
      "snippet_length": 3121,
      "snippet": "  class RactorPool\n    def initialize(seed, n_workers: Etc.nprocessors)\n      @seed = seed\n      @n_workers = n_workers\n    end\n    \n    # Generate colors in true parallel using Ractors\n    def parallel_colors(indices)\n      unless RACTOR_AVAILABLE\n        warn \"Ractors not available, falling back t"
    },
    {
      "file": "lib/spi_parallel.rb",
      "pattern_type": "class_definition",
      "start_line": 231,
      "end_line": 330,
      "symbols": [
        "ProcessPool"
      ],
      "complexity": 7.0,
      "leitmotif_type": "technical_innovation",
      "snippet_length": 2758,
      "snippet": "  class ProcessPool\n    def initialize(seed, n_workers: Etc.nprocessors)\n      @seed = seed\n      @n_workers = n_workers\n    end\n    \n    # Generate colors in parallel processes\n    def parallel_colors(indices, output_file: nil)\n      chunks = partition_indices(indices, @n_workers)\n      \n      # Cr"
    },
    {
      "file": "lib/splitmix_ternary.rb",
      "pattern_type": "function_definition",
      "start_line": 80,
      "end_line": 80,
      "symbols": [
        "split"
      ],
      "complexity": 0.2,
      "leitmotif_type": "technical_innovation",
      "snippet_length": 26,
      "snippet": "    def split(child_index)"
    },
    {
      "file": "lib/splitmix_ternary.rb",
      "pattern_type": "function_definition",
      "start_line": 248,
      "end_line": 248,
      "symbols": [
        "self"
      ],
      "complexity": 0.2,
      "leitmotif_type": "technical_innovation",
      "snippet_length": 32,
      "snippet": "  def self.color_at(seed, index)"
    },
    {
      "file": "lib/splitmix_ternary.rb",
      "pattern_type": "function_definition",
      "start_line": 252,
      "end_line": 252,
      "symbols": [
        "self"
      ],
      "complexity": 0.2,
      "leitmotif_type": "technical_innovation",
      "snippet_length": 31,
      "snippet": "  def self.trit_at(seed, index)"
    },
    {
      "file": "lib/splitmix_ternary.rb",
      "pattern_type": "class_definition",
      "start_line": 45,
      "end_line": 144,
      "symbols": [
        "Generator"
      ],
      "complexity": 4.2,
      "leitmotif_type": "technical_innovation",
      "snippet_length": 3039,
      "snippet": "  class Generator\n    attr_reader :seed, :state, :index\n    \n    def initialize(seed = DEFAULT_SEED)\n      @seed = seed & MASK64\n      @state = @seed\n      @index = 0\n    end\n    \n    # Core SplitMix64 step\n    def next_u64\n      @state = (@state + GOLDEN) & MASK64\n      z = @state\n      z = ((z ^ ("
    },
    {
      "file": "lib/splitmix_ternary.rb",
      "pattern_type": "class_definition",
      "start_line": 124,
      "end_line": 223,
      "symbols": [
        "TripartiteStreams"
      ],
      "complexity": 6.3,
      "leitmotif_type": "technical_innovation",
      "snippet_length": 3058,
      "snippet": "  class TripartiteStreams\n    attr_reader :minus, :ergodic, :plus, :master_seed\n    \n    def initialize(seed = DEFAULT_SEED)\n      @master_seed = seed\n      \n      # Use xoroshiro jump distances for true independence\n      # Each stream is 2^64 steps apart in the period\n      @minus   = Generator.ne"
    },
    {
      "file": "lib/splitmix_ternary.rb",
      "pattern_type": "class_definition",
      "start_line": 182,
      "end_line": 281,
      "symbols": [
        "OutOfOrderProof"
      ],
      "complexity": 5.9,
      "leitmotif_type": "technical_innovation",
      "snippet_length": 3290,
      "snippet": "  class OutOfOrderProof\n    def initialize(seed = DEFAULT_SEED)\n      @seed = seed\n    end\n    \n    # Compute colors at indices in GIVEN order\n    def compute_ordered(indices)\n      gen = Generator.new(@seed)\n      indices.map { |i| gen.color_at(i) }\n    end\n    \n    # Compute colors at indices in R"
    },
    {
      "file": "lib/tdx_color_logic.rb",
      "pattern_type": "function_definition",
      "start_line": 63,
      "end_line": 63,
      "symbols": [
        "initialize"
      ],
      "complexity": 0.2,
      "leitmotif_type": "technical_innovation",
      "snippet_length": 72,
      "snippet": "    def initialize(name, shadow: Shadow::ERGODIC, seed: 0x42D, index: 0)"
    },
    {
      "file": "lib/tdx_color_logic.rb",
      "pattern_type": "function_definition",
      "start_line": 101,
      "end_line": 101,
      "symbols": [
        "initialize"
      ],
      "complexity": 0.2,
      "leitmotif_type": "technical_innovation",
      "snippet_length": 67,
      "snippet": "    def initialize(name, domain:, codomain:, seed: 0x42D, index: 0)"
    },
    {
      "file": "lib/tdx_color_logic.rb",
      "pattern_type": "function_definition",
      "start_line": 148,
      "end_line": 148,
      "symbols": [
        "initialize"
      ],
      "complexity": 0.2,
      "leitmotif_type": "technical_innovation",
      "snippet_length": 65,
      "snippet": "    def initialize(name, source:, target:, seed: 0x42D, index: 0)"
    },
    {
      "file": "lib/tdx_color_logic.rb",
      "pattern_type": "function_definition",
      "start_line": 320,
      "end_line": 320,
      "symbols": [
        "next_index!"
      ],
      "complexity": 0.2,
      "leitmotif_type": "technical_innovation",
      "snippet_length": 19,
      "snippet": "    def next_index!"
    },
    {
      "file": "lib/tdx_color_logic.rb",
      "pattern_type": "class_definition",
      "start_line": 60,
      "end_line": 159,
      "symbols": [
        "Cell0"
      ],
      "complexity": 3.9,
      "leitmotif_type": "technical_innovation",
      "snippet_length": 2871,
      "snippet": "  class Cell0\n    attr_reader :name, :shadow, :color, :hue\n    \n    def initialize(name, shadow: Shadow::ERGODIC, seed: 0x42D, index: 0)\n      @name = name\n      @shadow = shadow\n      @seed = seed\n      @index = index\n      @color = SeedMiner.color_at(seed, index)\n      @hue = @color[:H]\n    end\n  "
    },
    {
      "file": "lib/tdx_color_logic.rb",
      "pattern_type": "class_definition",
      "start_line": 278,
      "end_line": 377,
      "symbols": [
        "VerificationCertificate"
      ],
      "complexity": 2.8,
      "leitmotif_type": "technical_innovation",
      "snippet_length": 3283,
      "snippet": "  class VerificationCertificate\n    attr_reader :expression, :cells, :shadow_sum, :valid, :derivation\n    \n    def initialize(expression, cells)\n      @expression = expression\n      @cells = cells\n      @derivation = []\n      @shadow_sum = compute_balance\n      @valid = (@shadow_sum % 3) == 0  # Bal"
    },
    {
      "file": "lib/ternary_computer.rb",
      "pattern_type": "class_definition",
      "start_line": 9,
      "end_line": 108,
      "symbols": [
        "Trit"
      ],
      "complexity": 9.9,
      "leitmotif_type": "technical_innovation",
      "snippet_length": 2582,
      "snippet": "  class Trit\n    SYMBOLS = { -1 => 'T', 0 => '0', 1 => '1' }.freeze\n    VALUES = { 'T' => -1, '0' => 0, '1' => 1 }.freeze\n\n    attr_reader :value\n\n    def initialize(v)\n      @value = case v\n               when Integer then v <=> 0  # normalize to {-1, 0, 1}\n               when String then VALUES[v]"
    },
    {
      "file": "lib/ternary_computer.rb",
      "pattern_type": "class_definition",
      "start_line": 31,
      "end_line": 130,
      "symbols": [
        "Word"
      ],
      "complexity": 7.9,
      "leitmotif_type": "technical_innovation",
      "snippet_length": 2489,
      "snippet": "  class Word\n    attr_reader :trits, :width\n\n    def initialize(value, width: 12)\n      @width = width\n      @trits = case value\n               when Integer then int_to_trits(value, width)\n               when Array then value.map { |t| t.is_a?(Trit) ? t : Trit.new(t) }\n               when String the"
    },
    {
      "file": "lib/ternary_computer.rb",
      "pattern_type": "class_definition",
      "start_line": 118,
      "end_line": 198,
      "symbols": [
        "Machine"
      ],
      "complexity": 5.7,
      "leitmotif_type": "technical_innovation",
      "snippet_length": 3150,
      "snippet": "  class Machine\n    REGISTER_COUNT = 9  # R0-R8 (ternary: TTT to 111)\n    MEMORY_SIZE = 729   # 3^6 words\n\n    attr_reader :registers, :memory, :pc, :halted, :cycles\n\n    def initialize\n      @registers = Array.new(REGISTER_COUNT) { Word.new(0) }\n      @memory = Array.new(MEMORY_SIZE) { Word.new(0) "
    },
    {
      "file": "lib/three_match_geodesic_gadget.rb",
      "pattern_type": "class_definition",
      "start_line": 26,
      "end_line": 125,
      "symbols": [
        "ThreeMatch"
      ],
      "complexity": 6.8,
      "leitmotif_type": "technical_innovation",
      "snippet_length": 3030,
      "snippet": "  class ThreeMatch\n    attr_reader :color_a, :color_b, :color_c, :depth, :seed\n    \n    def initialize(seed: 0x42D, depth: 1)\n      @seed = seed\n      @depth = depth\n      @rng = SplitMixTernary::TripartiteStreams.new(seed)\n      \n      # Generate three colors from same seed (GF(3) conserved)\n      "
    },
    {
      "file": "lib/unworld.rb",
      "pattern_type": "function_definition",
      "start_line": 41,
      "end_line": 41,
      "symbols": [
        "self"
      ],
      "complexity": 0.2,
      "leitmotif_type": "technical_innovation",
      "snippet_length": 40,
      "snippet": "  def self.derive_color(seed, index = 0)"
    },
    {
      "file": "lib/unworlding_involution.rb",
      "pattern_type": "function_definition",
      "start_line": 70,
      "end_line": 70,
      "symbols": [
        "generate_color"
      ],
      "complexity": 0.2,
      "leitmotif_type": "technical_innovation",
      "snippet_length": 29,
      "snippet": "    def generate_color(index)"
    },
    {
      "file": "lib/unworlding_involution.rb",
      "pattern_type": "class_definition",
      "start_line": 22,
      "end_line": 121,
      "symbols": [
        "Involution"
      ],
      "complexity": 3.5,
      "leitmotif_type": "technical_innovation",
      "snippet_length": 2699,
      "snippet": "  class Involution\n    attr_reader :state, :seed, :history\n    \n    def initialize(seed: 0x42D)\n      @seed = seed\n      @state = :original\n      @color = generate_color(0)\n      @history = [{ state: @state, color: @color }]\n    end\n    \n    # Apply involution: original \u2194 inverted\n    def apply!\n   "
    },
    {
      "file": "lib/von_neumann.rb",
      "pattern_type": "class_definition",
      "start_line": 20,
      "end_line": 119,
      "symbols": [
        "MachineState"
      ],
      "complexity": 6.0,
      "leitmotif_type": "technical_innovation",
      "snippet_length": 2785,
      "snippet": "  class MachineState\n    attr_accessor :memory, :pc, :accumulator, :flags, :halted\n\n    def initialize(memory_size: 256)\n      @memory = Array.new(memory_size, 0)\n      @pc = 0\n      @accumulator = 0\n      @flags = { zero: false, negative: false, overflow: false }\n      @halted = false\n    end\n\n    "
    },
    {
      "file": "lib/von_neumann.rb",
      "pattern_type": "class_definition",
      "start_line": 76,
      "end_line": 175,
      "symbols": [
        "InstructionSet"
      ],
      "complexity": 5.8,
      "leitmotif_type": "technical_innovation",
      "snippet_length": 2599,
      "snippet": "  class InstructionSet\n    OPCODES = {\n      0x0 => :NOP,   # No operation\n      0x1 => :LDA,   # Load accumulator from memory\n      0x2 => :STA,   # Store accumulator to memory\n      0x3 => :ADD,   # Add memory to accumulator\n      0x4 => :SUB,   # Subtract memory from accumulator\n      0x5 => :JMP"
    },
    {
      "file": "lib/world_broadcast.rb",
      "pattern_type": "class_definition",
      "start_line": 504,
      "end_line": 603,
      "symbols": [
        "MathematicianAgent"
      ],
      "complexity": 6.7,
      "leitmotif_type": "technical_innovation",
      "snippet_length": 3331,
      "snippet": "  class MathematicianAgent\n    attr_reader :profile, :state, :history, :address\n    \n    def initialize(profile_key)\n      @profile = MATHEMATICIAN_PROFILES[profile_key] || MATHEMATICIAN_PROFILES[:euler]\n      @state = 0\n      @history = []\n      @address = []\n      @rng = SeedMiner::SplitMix64.new("
    },
    {
      "file": "lib/xoroshiro_3color.rb",
      "pattern_type": "class_definition",
      "start_line": 120,
      "end_line": 219,
      "symbols": [
        "ColorStream"
      ],
      "complexity": 5.5,
      "leitmotif_type": "technical_innovation",
      "snippet_length": 2993,
      "snippet": "  class ColorStream\n    HUE_RANGES = {\n      minus:   [180, 300],  # Cold: cyan/blue/purple\n      ergodic: [60, 180],   # Neutral: yellow/green/cyan\n      plus:    [[0, 60], [300, 360]]  # Warm: red/orange/magenta\n    }.freeze\n    \n    TRIT_MAP = { minus: -1, ergodic: 0, plus: 1 }.freeze\n    \n    at"
    }
  ],
  "collaborative_work": [
    {
      "file": "bin/pattern_runs_on_matter.rb",
      "pattern_type": "function_definition",
      "start_line": 418,
      "end_line": 418,
      "symbols": [
        "build_osc_message"
      ],
      "complexity": 0.2,
      "leitmotif_type": "collaborative_work",
      "snippet_length": 36,
      "snippet": "  def build_osc_message(path, *args)"
    },
    {
      "file": "bin/pattern_runs_on_matter.rb",
      "pattern_type": "class_definition",
      "start_line": 387,
      "end_line": 486,
      "symbols": [
        "OscSender"
      ],
      "complexity": 7.0,
      "leitmotif_type": "collaborative_work",
      "snippet_length": 3542,
      "snippet": "class OscSender\n  def initialize(host: '127.0.0.1', port: 57110)\n    @socket = UDPSocket.new\n    @host = host\n    @port = port\n    @node_id = 1000\n  end\n  \n  def play_event(event)\n    return unless event[:audio]\n    \n    freqs = event[:audio][:frequencies]\n    amp = event[:audio][:amplitude] || 0.3\n"
    },
    {
      "file": "bin/play_curriculum.rb",
      "pattern_type": "function_definition",
      "start_line": 105,
      "end_line": 105,
      "symbols": [
        "encode_osc_message"
      ],
      "complexity": 0.2,
      "leitmotif_type": "collaborative_work",
      "snippet_length": 38,
      "snippet": "    def encode_osc_message(path, args)"
    },
    {
      "file": "lib/crdt_skill.rb",
      "pattern_type": "function_definition",
      "start_line": 744,
      "end_line": 744,
      "symbols": [
        "assert"
      ],
      "complexity": 0.2,
      "leitmotif_type": "collaborative_work",
      "snippet_length": 32,
      "snippet": "  def assert(condition, message)"
    },
    {
      "file": "lib/event_scheduler.rb",
      "pattern_type": "function_definition",
      "start_line": 87,
      "end_line": 87,
      "symbols": [
        "encode_osc_message"
      ],
      "complexity": 0.2,
      "leitmotif_type": "collaborative_work",
      "snippet_length": 36,
      "snippet": "  def encode_osc_message(path, args)"
    },
    {
      "file": "lib/girard_colors.rb",
      "pattern_type": "function_definition",
      "start_line": 273,
      "end_line": 322,
      "symbols": [
        "self"
      ],
      "complexity": 5.5,
      "leitmotif_type": "collaborative_work",
      "snippet_length": 1720,
      "snippet": "  def self.polarity_balance(colors)\n    # Hue 0-180 = positive, 180-360 = negative\n    positive = colors.count { |c| c[:H] < 180 }\n    negative = colors.size - positive\n    1.0 - (positive - negative).abs.to_f / colors.size\n  end\n\n  def self.leitmotif_potential(pitches)\n    # Look for recurring 2-3 "
    },
    {
      "file": "lib/girard_colors.rb",
      "pattern_type": "function_definition",
      "start_line": 280,
      "end_line": 323,
      "symbols": [
        "self"
      ],
      "complexity": 5.3,
      "leitmotif_type": "collaborative_work",
      "snippet_length": 1522,
      "snippet": "  def self.leitmotif_potential(pitches)\n    # Look for recurring 2-3 note patterns\n    bigrams = pitches.each_cons(2).map { |a, b| [a, b] }\n    trigrams = pitches.each_cons(3).map { |a, b, c| [a, b, c] }\n    \n    bigram_repeats = bigrams.group_by(&:itself).values.count { |v| v.size > 1 }\n    trigram"
    },
    {
      "file": "lib/girard_colors.rb",
      "pattern_type": "function_definition",
      "start_line": 291,
      "end_line": 323,
      "symbols": [
        "self"
      ],
      "complexity": 3.6,
      "leitmotif_type": "collaborative_work",
      "snippet_length": 1058,
      "snippet": "  def self.circle_of_fifths_alignment(pitches)\n    # Score based on fifths relationships\n    intervals = pitches.each_cons(2).map { |a, b| (b - a) % 12 }\n    fifths = intervals.count { |i| [5, 7].include?(i) }  # P4 or P5\n    fifths.to_f / [intervals.size, 1].max\n  end\n\n  def self.hue_to_polarity(hu"
    },
    {
      "file": "lib/girard_colors.rb",
      "pattern_type": "function_definition",
      "start_line": 298,
      "end_line": 323,
      "symbols": [
        "self"
      ],
      "complexity": 2.9,
      "leitmotif_type": "collaborative_work",
      "snippet_length": 787,
      "snippet": "  def self.hue_to_polarity(hue)\n    case hue\n    when 0...60    then :positive    # Red-orange\n    when 60...120  then :additive    # Yellow-green\n    when 120...180 then :neutral     # Green-cyan\n    when 180...240 then :negative    # Cyan-blue\n    when 240...300 then :multiplicative  # Blue-magent"
    },
    {
      "file": "lib/glass_bead_game.rb",
      "pattern_type": "function_definition",
      "start_line": 547,
      "end_line": 547,
      "symbols": [
        "self"
      ],
      "complexity": 0.2,
      "leitmotif_type": "collaborative_work",
      "snippet_length": 44,
      "snippet": "  def self.from_broadcast(tripartite_system)"
    },
    {
      "file": "lib/jungle_involution.rb",
      "pattern_type": "function_definition",
      "start_line": 504,
      "end_line": 504,
      "symbols": [
        "evaluate_syncopation"
      ],
      "complexity": 0.2,
      "leitmotif_type": "collaborative_work",
      "snippet_length": 35,
      "snippet": "    def evaluate_syncopation(state)"
    },
    {
      "file": "lib/jungle_involution.rb",
      "pattern_type": "class_definition",
      "start_line": 463,
      "end_line": 562,
      "symbols": [
        "Evaluator"
      ],
      "complexity": 7.6,
      "leitmotif_type": "collaborative_work",
      "snippet_length": 3315,
      "snippet": "  class Evaluator\n    def initialize\n      @intuition_bank = IntuitionBank.new\n    end\n    \n    def evaluate(state)\n      scores = {\n        density: evaluate_density(state),\n        syncopation: evaluate_syncopation(state),\n        bass_power: evaluate_bass(state),\n        chaos: evaluate_chaos(sta"
    },
    {
      "file": "lib/parametrised_optics.rb",
      "pattern_type": "class_definition",
      "start_line": 72,
      "end_line": 171,
      "symbols": [
        "Lens"
      ],
      "complexity": 4.5,
      "leitmotif_type": "collaborative_work",
      "snippet_length": 2796,
      "snippet": "  class Lens < Optic\n    def self.create(name, get:, set:)\n      new(\n        name,\n        forward: ->(s) { [s, get.call(s)] },  # Residual is whole state\n        backward: ->(s, a) { set.call(s, a) }\n      )\n    end\n  end\n\n  # Prism: optic for sum types (optional access)\n  # Prism(S, A) when S \u2245 A"
    },
    {
      "file": "lib/parametrised_optics.rb",
      "pattern_type": "class_definition",
      "start_line": 84,
      "end_line": 183,
      "symbols": [
        "Prism"
      ],
      "complexity": 4.0,
      "leitmotif_type": "collaborative_work",
      "snippet_length": 2870,
      "snippet": "  class Prism < Optic\n    def self.create(name, match:, build:)\n      new(\n        name,\n        forward: ->(s) {\n          result = match.call(s)\n          result ? [:matched, result] : [:unmatched, s]\n        },\n        backward: ->(tag, a) {\n          tag == :matched ? build.call(a) : a\n        }"
    },
    {
      "file": "lib/ramanujan_nats_coordinator.rb",
      "pattern_type": "function_definition",
      "start_line": 60,
      "end_line": 109,
      "symbols": [
        "initialize"
      ],
      "complexity": 3.4,
      "leitmotif_type": "collaborative_work",
      "snippet_length": 1181,
      "snippet": "    def initialize(document_id)\n      # Hash document ID to Sierpinski address\n      hash_val = Digest::SHA256.hexdigest(document_id).to_i(16)\n\n      # Extract 2 ternary digits (0-8 = 0-2 in base 3, 0-2 in base 3)\n      @trits = [\n        (hash_val >> 0) % 3,\n        (hash_val >> 16) % 3\n      ]\n   "
    },
    {
      "file": "lib/ramanujan_nats_coordinator.rb",
      "pattern_type": "function_definition",
      "start_line": 72,
      "end_line": 121,
      "symbols": [
        "to_agent_id"
      ],
      "complexity": 4.3,
      "leitmotif_type": "collaborative_work",
      "snippet_length": 1271,
      "snippet": "    def to_agent_id\n      @trits[0] * 3 + @trits[1]\n    end\n\n    # Linear address for NATS subject routing\n    def to_subject_prefix\n      \"sierpinski.#{@trits.join('.')}\"\n    end\n\n    def to_s\n      \"[#{@trits.join(',')}]\"\n    end\n  end\n\n  # ========================================================="
    },
    {
      "file": "lib/ramanujan_nats_coordinator.rb",
      "pattern_type": "function_definition",
      "start_line": 77,
      "end_line": 126,
      "symbols": [
        "to_subject_prefix"
      ],
      "complexity": 3.8,
      "leitmotif_type": "collaborative_work",
      "snippet_length": 1236,
      "snippet": "    def to_subject_prefix\n      \"sierpinski.#{@trits.join('.')}\"\n    end\n\n    def to_s\n      \"[#{@trits.join(',')}]\"\n    end\n  end\n\n  # ===========================================================================\n  # Vector Clock for Causality\n  # ====================================================="
    },
    {
      "file": "lib/ramanujan_nats_coordinator.rb",
      "pattern_type": "function_definition",
      "start_line": 81,
      "end_line": 130,
      "symbols": [
        "to_s"
      ],
      "complexity": 3.8,
      "leitmotif_type": "collaborative_work",
      "snippet_length": 1219,
      "snippet": "    def to_s\n      \"[#{@trits.join(',')}]\"\n    end\n  end\n\n  # ===========================================================================\n  # Vector Clock for Causality\n  # ===========================================================================\n\n  class VectorClock\n    attr_reader :clocks\n\n    d"
    },
    {
      "file": "lib/ramanujan_nats_coordinator.rb",
      "pattern_type": "function_definition",
      "start_line": 93,
      "end_line": 142,
      "symbols": [
        "initialize"
      ],
      "complexity": 3.1,
      "leitmotif_type": "collaborative_work",
      "snippet_length": 1366,
      "snippet": "    def initialize(agent_id = nil)\n      @clocks = {}\n      @clocks[agent_id] = 0 if agent_id\n    end\n\n    def increment!(agent_id)\n      @clocks[agent_id] = (@clocks[agent_id] || 0) + 1\n      self\n    end\n\n    def merge!(other)\n      other.clocks.each do |agent_id, clock|\n        @clocks[agent_id] "
    },
    {
      "file": "lib/ramanujan_nats_coordinator.rb",
      "pattern_type": "function_definition",
      "start_line": 98,
      "end_line": 147,
      "symbols": [
        "increment!"
      ],
      "complexity": 2.6,
      "leitmotif_type": "collaborative_work",
      "snippet_length": 1432,
      "snippet": "    def increment!(agent_id)\n      @clocks[agent_id] = (@clocks[agent_id] || 0) + 1\n      self\n    end\n\n    def merge!(other)\n      other.clocks.each do |agent_id, clock|\n        @clocks[agent_id] = [@clocks[agent_id] || 0, clock].max\n      end\n      self\n    end\n\n    def happens_before?(other)\n    "
    },
    {
      "file": "lib/ramanujan_nats_coordinator.rb",
      "pattern_type": "function_definition",
      "start_line": 103,
      "end_line": 152,
      "symbols": [
        "merge!"
      ],
      "complexity": 2.4,
      "leitmotif_type": "collaborative_work",
      "snippet_length": 1454,
      "snippet": "    def merge!(other)\n      other.clocks.each do |agent_id, clock|\n        @clocks[agent_id] = [@clocks[agent_id] || 0, clock].max\n      end\n      self\n    end\n\n    def happens_before?(other)\n      # Check if all clocks in self are \u2264 other, with at least one <\n      all_leq = @clocks.all? { |agent_i"
    },
    {
      "file": "lib/ramanujan_nats_coordinator.rb",
      "pattern_type": "function_definition",
      "start_line": 110,
      "end_line": 159,
      "symbols": [
        "happens_before?"
      ],
      "complexity": 1.9,
      "leitmotif_type": "collaborative_work",
      "snippet_length": 1461,
      "snippet": "    def happens_before?(other)\n      # Check if all clocks in self are \u2264 other, with at least one <\n      all_leq = @clocks.all? { |agent_id, clock| clock <= (other.clocks[agent_id] || 0) }\n      some_less = @clocks.any? { |agent_id, clock| clock < (other.clocks[agent_id] || 0) }\n      all_leq && so"
    },
    {
      "file": "lib/ramanujan_nats_coordinator.rb",
      "pattern_type": "function_definition",
      "start_line": 117,
      "end_line": 166,
      "symbols": [
        "concurrent?"
      ],
      "complexity": 1.4,
      "leitmotif_type": "collaborative_work",
      "snippet_length": 1317,
      "snippet": "    def concurrent?(other)\n      !happens_before?(other) && !other.happens_before?(self)\n    end\n\n    def to_h\n      @clocks.dup\n    end\n\n    def to_json\n      JSON.generate(@clocks)\n    end\n\n    def self.from_json(json_str)\n      vc = new\n      vc.instance_variable_set(:@clocks, JSON.parse(json_str"
    },
    {
      "file": "lib/ramanujan_nats_coordinator.rb",
      "pattern_type": "function_definition",
      "start_line": 121,
      "end_line": 170,
      "symbols": [
        "to_h"
      ],
      "complexity": 1.2,
      "leitmotif_type": "collaborative_work",
      "snippet_length": 1369,
      "snippet": "    def to_h\n      @clocks.dup\n    end\n\n    def to_json\n      JSON.generate(@clocks)\n    end\n\n    def self.from_json(json_str)\n      vc = new\n      vc.instance_variable_set(:@clocks, JSON.parse(json_str))\n      vc\n    end\n  end\n\n  # ==================================================================="
    },
    {
      "file": "lib/ramanujan_nats_coordinator.rb",
      "pattern_type": "function_definition",
      "start_line": 125,
      "end_line": 174,
      "symbols": [
        "to_json"
      ],
      "complexity": 1.0,
      "leitmotif_type": "collaborative_work",
      "snippet_length": 1500,
      "snippet": "    def to_json\n      JSON.generate(@clocks)\n    end\n\n    def self.from_json(json_str)\n      vc = new\n      vc.instance_variable_set(:@clocks, JSON.parse(json_str))\n      vc\n    end\n  end\n\n  # ===========================================================================\n  # CRDT Operation Message Form"
    },
    {
      "file": "lib/ramanujan_nats_coordinator.rb",
      "pattern_type": "function_definition",
      "start_line": 129,
      "end_line": 178,
      "symbols": [
        "self"
      ],
      "complexity": 0.8,
      "leitmotif_type": "collaborative_work",
      "snippet_length": 1554,
      "snippet": "    def self.from_json(json_str)\n      vc = new\n      vc.instance_variable_set(:@clocks, JSON.parse(json_str))\n      vc\n    end\n  end\n\n  # ===========================================================================\n  # CRDT Operation Message Format\n  # ==============================================="
    },
    {
      "file": "lib/ramanujan_nats_coordinator.rb",
      "pattern_type": "function_definition",
      "start_line": 144,
      "end_line": 193,
      "symbols": [
        "initialize"
      ],
      "complexity": 0.6,
      "leitmotif_type": "collaborative_work",
      "snippet_length": 1532,
      "snippet": "    def initialize(operation:, document_id:, payload:, agent_id:, vector_clock:)\n      @operation = operation\n      @document_id = document_id\n      @payload = payload\n      @agent_id = agent_id\n      @vector_clock = vector_clock\n      @timestamp = Time.now\n\n      # Look up mathematician info\n      "
    },
    {
      "file": "lib/ramanujan_nats_coordinator.rb",
      "pattern_type": "function_definition",
      "start_line": 159,
      "end_line": 208,
      "symbols": [
        "to_nats_subject"
      ],
      "complexity": 1.1,
      "leitmotif_type": "collaborative_work",
      "snippet_length": 1495,
      "snippet": "    def to_nats_subject\n      address = SierpinskiAddress.new(@document_id)\n      \"world.crdt.#{@agent_id}.#{@operation}\"\n    end\n\n    def to_nats_message\n      {\n        subject: to_nats_subject,\n        headers: {\n          \"X-Agent-ID\" => @agent_id.to_s,\n          \"X-Mathematician\" => @mathematic"
    },
    {
      "file": "lib/ramanujan_nats_coordinator.rb",
      "pattern_type": "function_definition",
      "start_line": 164,
      "end_line": 213,
      "symbols": [
        "to_nats_message"
      ],
      "complexity": 0.9,
      "leitmotif_type": "collaborative_work",
      "snippet_length": 1545,
      "snippet": "    def to_nats_message\n      {\n        subject: to_nats_subject,\n        headers: {\n          \"X-Agent-ID\" => @agent_id.to_s,\n          \"X-Mathematician\" => @mathematician,\n          \"X-Polarity\" => @polarity.to_s,\n          \"X-Color\" => @color.to_s,\n          \"X-Operation\" => @operation,\n         "
    },
    {
      "file": "lib/ramanujan_nats_coordinator.rb",
      "pattern_type": "function_definition",
      "start_line": 199,
      "end_line": 248,
      "symbols": [
        "initialize"
      ],
      "complexity": 1.6,
      "leitmotif_type": "collaborative_work",
      "snippet_length": 1426,
      "snippet": "    def initialize\n      @agents = {}\n      @subjects = {}\n      @message_log = []\n      @subscriptions = {}\n\n      # Initialize agent registry\n      MATHEMATICIANS.each do |math|\n        @agents[math[:agent_id]] = {\n          name: math[:name],\n          polarity: math[:polarity],\n          color: "
    },
    {
      "file": "lib/ramanujan_nats_coordinator.rb",
      "pattern_type": "function_definition",
      "start_line": 221,
      "end_line": 270,
      "symbols": [
        "init_nats_subjects"
      ],
      "complexity": 2.6,
      "leitmotif_type": "collaborative_work",
      "snippet_length": 1407,
      "snippet": "    def init_nats_subjects\n      # Global subjects\n      @subjects[\"world.crdt.*.*\"] = []\n      @subjects[\"world.sierpinski.*.*\"] = []\n      @subjects[\"world.merge.*\"] = []\n      @subjects[\"world.vector_clock.*\"] = []\n      @subjects[\"world.superposition.*\"] = []\n      @subjects[\"world.egg.verify.*\""
    },
    {
      "file": "lib/ramanujan_nats_coordinator.rb",
      "pattern_type": "function_definition",
      "start_line": 238,
      "end_line": 287,
      "symbols": [
        "publish"
      ],
      "complexity": 2.8,
      "leitmotif_type": "collaborative_work",
      "snippet_length": 1340,
      "snippet": "    def publish(operation:, document_id:, payload:, agent_id:)\n      msg = CRDTMessage.new(\n        operation: operation,\n        document_id: document_id,\n        payload: payload,\n        agent_id: agent_id,\n        vector_clock: @agents[agent_id][:vector_clock]\n      )\n\n      # Increment agent's "
    },
    {
      "file": "lib/ramanujan_nats_coordinator.rb",
      "pattern_type": "function_definition",
      "start_line": 260,
      "end_line": 309,
      "symbols": [
        "distribute_message"
      ],
      "complexity": 3.7,
      "leitmotif_type": "collaborative_work",
      "snippet_length": 1366,
      "snippet": "    def distribute_message(msg)\n      subject = msg.to_nats_subject\n\n      # Find matching subscriptions\n      @subscriptions.each do |pattern, subscribers|\n        if subject_matches_pattern?(subject, pattern)\n          subscribers.each do |subscriber|\n            subscriber.call(msg)\n          end"
    },
    {
      "file": "lib/ramanujan_nats_coordinator.rb",
      "pattern_type": "function_definition",
      "start_line": 273,
      "end_line": 322,
      "symbols": [
        "subject_matches_pattern?"
      ],
      "complexity": 2.7,
      "leitmotif_type": "collaborative_work",
      "snippet_length": 1361,
      "snippet": "    def subject_matches_pattern?(subject, pattern)\n      # Simple wildcard matching: * matches one segment\n      s_parts = subject.split('.')\n      p_parts = pattern.split('.')\n\n      return false if s_parts.length != p_parts.length\n\n      s_parts.zip(p_parts).all? { |s, p| p == '*' || s == p }\n    "
    },
    {
      "file": "lib/ramanujan_nats_coordinator.rb",
      "pattern_type": "function_definition",
      "start_line": 284,
      "end_line": 333,
      "symbols": [
        "subscribe"
      ],
      "complexity": 2.2,
      "leitmotif_type": "collaborative_work",
      "snippet_length": 1349,
      "snippet": "    def subscribe(pattern, &block)\n      @subscriptions[pattern] ||= []\n      @subscriptions[pattern] << block\n    end\n\n    # Route operation to agent based on document ID\n    def route_to_agent(document_id)\n      address = SierpinskiAddress.new(document_id)\n      address.to_agent_id\n    end\n\n    # "
    },
    {
      "file": "lib/ramanujan_nats_coordinator.rb",
      "pattern_type": "function_definition",
      "start_line": 290,
      "end_line": 339,
      "symbols": [
        "route_to_agent"
      ],
      "complexity": 2.2,
      "leitmotif_type": "collaborative_work",
      "snippet_length": 1373,
      "snippet": "    def route_to_agent(document_id)\n      address = SierpinskiAddress.new(document_id)\n      address.to_agent_id\n    end\n\n    # Agent status check\n    def agent_status(agent_id)\n      @agents[agent_id]\n    end\n\n    # Get all agent statuses\n    def all_agent_statuses\n      @agents.map do |agent_id, i"
    },
    {
      "file": "lib/ramanujan_nats_coordinator.rb",
      "pattern_type": "function_definition",
      "start_line": 296,
      "end_line": 345,
      "symbols": [
        "agent_status"
      ],
      "complexity": 2.0,
      "leitmotif_type": "collaborative_work",
      "snippet_length": 1443,
      "snippet": "    def agent_status(agent_id)\n      @agents[agent_id]\n    end\n\n    # Get all agent statuses\n    def all_agent_statuses\n      @agents.map do |agent_id, info|\n        {\n          agent_id: agent_id,\n          name: info[:name],\n          polarity: info[:polarity],\n          color: info[:color],\n     "
    },
    {
      "file": "lib/ramanujan_nats_coordinator.rb",
      "pattern_type": "function_definition",
      "start_line": 301,
      "end_line": 350,
      "symbols": [
        "all_agent_statuses"
      ],
      "complexity": 2.3,
      "leitmotif_type": "collaborative_work",
      "snippet_length": 1463,
      "snippet": "    def all_agent_statuses\n      @agents.map do |agent_id, info|\n        {\n          agent_id: agent_id,\n          name: info[:name],\n          polarity: info[:polarity],\n          color: info[:color],\n          status: info[:status],\n          vector_clock: info[:vector_clock].to_h,\n          last_"
    },
    {
      "file": "lib/ramanujan_nats_coordinator.rb",
      "pattern_type": "function_definition",
      "start_line": 316,
      "end_line": 365,
      "symbols": [
        "merge_vector_clocks"
      ],
      "complexity": 3.3,
      "leitmotif_type": "collaborative_work",
      "snippet_length": 1390,
      "snippet": "    def merge_vector_clocks(agent_ids)\n      merged = VectorClock.new\n      agent_ids.each do |agent_id|\n        merged.merge!(@agents[agent_id][:vector_clock])\n      end\n      merged\n    end\n\n    # Verify causality between two operations\n    def verify_causality(msg1, msg2)\n      {\n        happens_"
    },
    {
      "file": "lib/ramanujan_nats_coordinator.rb",
      "pattern_type": "function_definition",
      "start_line": 325,
      "end_line": 374,
      "symbols": [
        "verify_causality"
      ],
      "complexity": 2.8,
      "leitmotif_type": "collaborative_work",
      "snippet_length": 1547,
      "snippet": "    def verify_causality(msg1, msg2)\n      {\n        happens_before: msg1.vector_clock.happens_before?(msg2.vector_clock),\n        concurrent: msg1.vector_clock.concurrent?(msg2.vector_clock),\n        msg1_id: msg1.document_id,\n        msg2_id: msg2.document_id\n      }\n    end\n\n    # Simulate merge "
    },
    {
      "file": "lib/ramanujan_nats_coordinator.rb",
      "pattern_type": "function_definition",
      "start_line": 335,
      "end_line": 384,
      "symbols": [
        "coordinate_merge"
      ],
      "complexity": 2.6,
      "leitmotif_type": "collaborative_work",
      "snippet_length": 1568,
      "snippet": "    def coordinate_merge(document_id)\n      agent_id = route_to_agent(document_id)\n      agent = @agents[agent_id]\n\n      # Prepare merge operation\n      msg = CRDTMessage.new(\n        operation: :merge,\n        document_id: document_id,\n        payload: { merge_type: :join_semilattice },\n        ag"
    },
    {
      "file": "lib/ramanujan_nats_coordinator.rb",
      "pattern_type": "function_definition",
      "start_line": 356,
      "end_line": 405,
      "symbols": [
        "broadcast_to_all"
      ],
      "complexity": 2.3,
      "leitmotif_type": "collaborative_work",
      "snippet_length": 1634,
      "snippet": "    def broadcast_to_all(msg)\n      # Simulate broadcast to all agents\n      @agents.each do |agent_id, _|\n        next if agent_id == msg.agent_id\n\n        # Each agent increments their clock for received message\n        @agents[agent_id][:vector_clock].merge!(msg.vector_clock)\n      end\n    end\n\n "
    },
    {
      "file": "lib/ramanujan_nats_coordinator.rb",
      "pattern_type": "function_definition",
      "start_line": 367,
      "end_line": 416,
      "symbols": [
        "stats"
      ],
      "complexity": 0.6,
      "leitmotif_type": "collaborative_work",
      "snippet_length": 1678,
      "snippet": "    def stats\n      {\n        total_agents: @agents.length,\n        total_messages: @message_log.length,\n        by_operation: @message_log.group_by(&:operation).transform_values(&:length),\n        by_polarity: {\n          positive: @message_log.count { |m| m.polarity == :positive },\n          negat"
    },
    {
      "file": "lib/ramanujan_nats_coordinator.rb",
      "pattern_type": "function_definition",
      "start_line": 435,
      "end_line": 452,
      "symbols": [
        "test_sierpinski_addressing"
      ],
      "complexity": 0.7,
      "leitmotif_type": "collaborative_work",
      "snippet_length": 585,
      "snippet": "def test_sierpinski_addressing\n  puts \"\\n\" + \"=\"*70\n  puts \"TEST: Sierpinski Addressing\"\n  puts \"=\"*70\n\n  documents = [\"doc_42d\", \"doc_xyz\", \"user_alice\", \"item_99\", \"crdt_text_1\"]\n  coordinator = RamanujanNatsCoordinator::NatsCoordinator.new\n\n  documents.each do |doc_id|\n    agent_id = coordinator."
    },
    {
      "file": "lib/ramanujan_nats_coordinator.rb",
      "pattern_type": "function_definition",
      "start_line": 453,
      "end_line": 483,
      "symbols": [
        "test_vector_clock_causality"
      ],
      "complexity": 0.2,
      "leitmotif_type": "collaborative_work",
      "snippet_length": 777,
      "snippet": "def test_vector_clock_causality\n  puts \"\\n\" + \"=\"*70\n  puts \"TEST: Vector Clock Causality\"\n  puts \"=\"*70\n\n  coordinator = RamanujanNatsCoordinator::NatsCoordinator.new\n\n  # Agent 0 publishes\n  msg1 = coordinator.publish(\n    operation: :insert,\n    document_id: \"doc_1\",\n    payload: { text: \"hello\" "
    },
    {
      "file": "lib/ramanujan_nats_coordinator.rb",
      "pattern_type": "function_definition",
      "start_line": 484,
      "end_line": 520,
      "symbols": [
        "test_message_statistics"
      ],
      "complexity": 0.7,
      "leitmotif_type": "collaborative_work",
      "snippet_length": 922,
      "snippet": "def test_message_statistics\n  puts \"\\n\" + \"=\"*70\n  puts \"TEST: Message Statistics & Agent Activity\"\n  puts \"=\"*70\n\n  coordinator = RamanujanNatsCoordinator::NatsCoordinator.new\n\n  # Simulate operations across agents\n  operations = [\n    [:insert, \"doc_1\", 0],\n    [:insert, \"doc_2\", 1],\n    [:delete,"
    },
    {
      "file": "lib/ramanujan_nats_coordinator.rb",
      "pattern_type": "class_definition",
      "start_line": 57,
      "end_line": 156,
      "symbols": [
        "SierpinskiAddress"
      ],
      "complexity": 5.1,
      "leitmotif_type": "collaborative_work",
      "snippet_length": 2695,
      "snippet": "  class SierpinskiAddress\n    attr_reader :trits  # Array of ternary digits [0,1,2]\n\n    def initialize(document_id)\n      # Hash document ID to Sierpinski address\n      hash_val = Digest::SHA256.hexdigest(document_id).to_i(16)\n\n      # Extract 2 ternary digits (0-8 = 0-2 in base 3, 0-2 in base 3)\n "
    },
    {
      "file": "lib/ramanujan_nats_coordinator.rb",
      "pattern_type": "class_definition",
      "start_line": 90,
      "end_line": 189,
      "symbols": [
        "VectorClock"
      ],
      "complexity": 3.7,
      "leitmotif_type": "collaborative_work",
      "snippet_length": 2812,
      "snippet": "  class VectorClock\n    attr_reader :clocks\n\n    def initialize(agent_id = nil)\n      @clocks = {}\n      @clocks[agent_id] = 0 if agent_id\n    end\n\n    def increment!(agent_id)\n      @clocks[agent_id] = (@clocks[agent_id] || 0) + 1\n      self\n    end\n\n    def merge!(other)\n      other.clocks.each do"
    },
    {
      "file": "lib/ramanujan_nats_coordinator.rb",
      "pattern_type": "class_definition",
      "start_line": 140,
      "end_line": 239,
      "symbols": [
        "CRDTMessage"
      ],
      "complexity": 2.2,
      "leitmotif_type": "collaborative_work",
      "snippet_length": 2994,
      "snippet": "  class CRDTMessage\n    attr_reader :operation, :document_id, :payload, :vector_clock,\n                :agent_id, :mathematician, :polarity, :color, :timestamp\n\n    def initialize(operation:, document_id:, payload:, agent_id:, vector_clock:)\n      @operation = operation\n      @document_id = document"
    },
    {
      "file": "lib/ramanujan_nats_coordinator.rb",
      "pattern_type": "class_definition",
      "start_line": 196,
      "end_line": 295,
      "symbols": [
        "NatsCoordinator"
      ],
      "complexity": 4.4,
      "leitmotif_type": "collaborative_work",
      "snippet_length": 2668,
      "snippet": "  class NatsCoordinator\n    attr_reader :agents, :subjects, :message_log\n\n    def initialize\n      @agents = {}\n      @subjects = {}\n      @message_log = []\n      @subscriptions = {}\n\n      # Initialize agent registry\n      MATHEMATICIANS.each do |math|\n        @agents[math[:agent_id]] = {\n         "
    },
    {
      "file": "lib/ramanujan_nats_coordinator.rb",
      "pattern_type": "class_definition",
      "start_line": 386,
      "end_line": 485,
      "symbols": [
        "RamanujanProperties"
      ],
      "complexity": 1.7,
      "leitmotif_type": "collaborative_work",
      "snippet_length": 2862,
      "snippet": "  class RamanujanProperties\n    # p=3 (ternary), d=2 (2D)\n    # Vertex count: p^d = 3^2 = 9\n    # Spectral gap: \u03bb_gap \u2265 2\u221a(d-1) = 2\u221a1 = 2\n    # Mixing time: O(log n / \u03bb_gap) = O(log 9 / 2) \u2248 1.58 steps\n\n    def self.properties\n      {\n        prime: 3,\n        dimension: 2,\n        vertex_count: 9,\n"
    },
    {
      "file": "lib/rubato_bridge.rb",
      "pattern_type": "function_definition",
      "start_line": 58,
      "end_line": 58,
      "symbols": [
        "initialize"
      ],
      "complexity": 0.2,
      "leitmotif_type": "collaborative_work",
      "snippet_length": 71,
      "snippet": "    def initialize(name:, type:, identifier: nil, coordinate_forms: [])"
    },
    {
      "file": "lib/rubato_bridge.rb",
      "pattern_type": "function_definition",
      "start_line": 92,
      "end_line": 92,
      "symbols": [
        "initialize"
      ],
      "complexity": 0.2,
      "leitmotif_type": "collaborative_work",
      "snippet_length": 72,
      "snippet": "    def initialize(name:, form:, coordinate: nil, frame_coordinate: nil)"
    },
    {
      "file": "lib/rubato_bridge.rb",
      "pattern_type": "class_definition",
      "start_line": 55,
      "end_line": 154,
      "symbols": [
        "Form"
      ],
      "complexity": 4.5,
      "leitmotif_type": "collaborative_work",
      "snippet_length": 2359,
      "snippet": "  class Form\n    attr_reader :name, :type, :identifier, :coordinate_forms\n\n    def initialize(name:, type:, identifier: nil, coordinate_forms: [])\n      @name = name\n      @type = FORM_TYPES[type] || type\n      @identifier = identifier\n      @coordinate_forms = coordinate_forms\n    end\n\n    def type"
    },
    {
      "file": "lib/rubato_bridge.rb",
      "pattern_type": "class_definition",
      "start_line": 89,
      "end_line": 188,
      "symbols": [
        "Denotator"
      ],
      "complexity": 5.7,
      "leitmotif_type": "collaborative_work",
      "snippet_length": 2210,
      "snippet": "  class Denotator\n    attr_reader :name, :form, :coordinate, :frame_coordinate\n\n    def initialize(name:, form:, coordinate: nil, frame_coordinate: nil)\n      @name = name\n      @form = form\n      @coordinate = coordinate\n      @frame_coordinate = frame_coordinate || coordinate\n    end\n\n    # Conver"
    },
    {
      "file": "lib/skill_sonification.rb",
      "pattern_type": "function_definition",
      "start_line": 317,
      "end_line": 317,
      "symbols": [
        "to_osc_messages"
      ],
      "complexity": 0.2,
      "leitmotif_type": "collaborative_work",
      "snippet_length": 23,
      "snippet": "    def to_osc_messages"
    },
    {
      "file": "lib/skill_sonification.rb",
      "pattern_type": "class_definition",
      "start_line": 219,
      "end_line": 318,
      "symbols": [
        "SkillAvailabilityMatrix"
      ],
      "complexity": 5.2,
      "leitmotif_type": "collaborative_work",
      "snippet_length": 3021,
      "snippet": "  class SkillAvailabilityMatrix\n    attr_reader :skills, :worlds, :matrix\n\n    def initialize\n      @skills = {}  # name -> SkillVoice\n      @worlds = {}  # name -> WorldLayer\n      @matrix = {}  # [skill_name, world_name] -> availability (0-1)\n    end\n\n    def add_skill(name, seed: nil, tap_state: "
    },
    {
      "file": "lib/skill_sonification.rb",
      "pattern_type": "class_definition",
      "start_line": 276,
      "end_line": 375,
      "symbols": [
        "SonificationGenerator"
      ],
      "complexity": 4.8,
      "leitmotif_type": "collaborative_work",
      "snippet_length": 2735,
      "snippet": "  class SonificationGenerator\n    def initialize(matrix)\n      @matrix = matrix\n    end\n\n    # Generate Sonic Pi composition\n    def to_sonic_pi\n      lines = [\n        \"# Skill Availability Sonification\",\n        \"# Generated from #{@matrix.skills.size} skills across #{@matrix.worlds.size} worlds\","
    },
    {
      "file": "lib/sonic_pi_renderer.rb",
      "pattern_type": "function_definition",
      "start_line": 93,
      "end_line": 93,
      "symbols": [
        "send_osc_message"
      ],
      "complexity": 0.2,
      "leitmotif_type": "collaborative_work",
      "snippet_length": 35,
      "snippet": "  def send_osc_message(path, *args)"
    },
    {
      "file": "lib/synadia_broadcast.rb",
      "pattern_type": "function_definition",
      "start_line": 195,
      "end_line": 195,
      "symbols": [
        "broadcast_step!"
      ],
      "complexity": 0.2,
      "leitmotif_type": "collaborative_work",
      "snippet_length": 30,
      "snippet": "    def broadcast_step!(epoch)"
    },
    {
      "file": "lib/synadia_broadcast.rb",
      "pattern_type": "function_definition",
      "start_line": 460,
      "end_line": 460,
      "symbols": [
        "self"
      ],
      "complexity": 0.2,
      "leitmotif_type": "collaborative_work",
      "snippet_length": 85,
      "snippet": "  def self.broadcast(mathematicians: [:ramanujan, :grothendieck, :euler], steps: 12, "
    },
    {
      "file": "lib/synadia_broadcast.rb",
      "pattern_type": "class_definition",
      "start_line": 103,
      "end_line": 202,
      "symbols": [
        "MessageEnvelope"
      ],
      "complexity": 3.8,
      "leitmotif_type": "collaborative_work",
      "snippet_length": 2771,
      "snippet": "  class MessageEnvelope\n    attr_reader :subject, :data, :headers, :reply\n    \n    def initialize(subject:, data:, headers: {}, reply: nil)\n      @subject = subject\n      @data = data\n      @headers = headers\n      @reply = reply\n    end\n    \n    def to_nats_msg\n      {\n        subject: @subject,\n  "
    },
    {
      "file": "lib/synadia_broadcast.rb",
      "pattern_type": "class_definition",
      "start_line": 146,
      "end_line": 245,
      "symbols": [
        "SynadiaBroadcaster"
      ],
      "complexity": 3.7,
      "leitmotif_type": "collaborative_work",
      "snippet_length": 3013,
      "snippet": "  class SynadiaBroadcaster\n    attr_reader :nats, :js, :mathematician_key, :profile, :agent\n    \n    def initialize(mathematician_key, nats_url: \"nats://127.0.0.1:4222\")\n      @mathematician_key = mathematician_key\n      @profile = WorldBroadcast::MATHEMATICIAN_PROFILES[mathematician_key]\n      rais"
    },
    {
      "file": "lib/synadia_broadcast.rb",
      "pattern_type": "class_definition",
      "start_line": 299,
      "end_line": 398,
      "symbols": [
        "TripartiteSynadiaSystem"
      ],
      "complexity": 9.1,
      "leitmotif_type": "collaborative_work",
      "snippet_length": 3035,
      "snippet": "  class TripartiteSynadiaSystem\n    attr_reader :broadcasters, :epoch, :nats_url\n    \n    def initialize(mathematician_keys = [:ramanujan, :grothendieck, :euler], nats_url: \"nats://127.0.0.1:4222\")\n      @mathematician_keys = mathematician_keys\n      @nats_url = nats_url\n      @broadcasters = []\n   "
    },
    {
      "file": "lib/synergistic_triads.rb",
      "pattern_type": "function_definition",
      "start_line": 74,
      "end_line": 74,
      "symbols": [
        "subagent_assignment"
      ],
      "complexity": 0.2,
      "leitmotif_type": "collaborative_work",
      "snippet_length": 27,
      "snippet": "    def subagent_assignment"
    },
    {
      "file": "lib/synergistic_triads.rb",
      "pattern_type": "function_definition",
      "start_line": 203,
      "end_line": 203,
      "symbols": [
        "assign_subagents"
      ],
      "complexity": 0.2,
      "leitmotif_type": "collaborative_work",
      "snippet_length": 38,
      "snippet": "    def assign_subagents(triad_skills)"
    },
    {
      "file": "lib/synergistic_triads.rb",
      "pattern_type": "class_definition",
      "start_line": 59,
      "end_line": 158,
      "symbols": [
        "Triad"
      ],
      "complexity": 4.7,
      "leitmotif_type": "collaborative_work",
      "snippet_length": 3546,
      "snippet": "  class Triad\n    attr_reader :skills, :trits, :sum, :valid\n    \n    def initialize(skill1, skill2, skill3)\n      @skills = [skill1, skill2, skill3].sort\n      @trits = @skills.map { |s| SKILLS.dig(s, :trit) || 0 }\n      @sum = @trits.sum\n      @valid = (@sum % 3) == 0\n    end\n    \n    def gf3_conse"
    },
    {
      "file": "lib/synergistic_triads.rb",
      "pattern_type": "class_definition",
      "start_line": 177,
      "end_line": 276,
      "symbols": [
        "SubagentDeterminer"
      ],
      "complexity": 6.0,
      "leitmotif_type": "collaborative_work",
      "snippet_length": 3590,
      "snippet": "  class SubagentDeterminer\n    SUBAGENT_ROLES = {\n      validator:   { trit: -1, color: '#2626D8', action: :verify },\n      coordinator: { trit: 0,  color: '#26D826', action: :coordinate },\n      generator:   { trit: 1,  color: '#D82626', action: :generate }\n    }.freeze\n    \n    def initialize(seed"
    },
    {
      "file": "lib/tritwise_letter_spirit.rb",
      "pattern_type": "class_definition",
      "start_line": 59,
      "end_line": 158,
      "symbols": [
        "Agent"
      ],
      "complexity": 5.8,
      "leitmotif_type": "collaborative_work",
      "snippet_length": 3079,
      "snippet": "  class Agent\n    attr_accessor :identity, :state, :perception, :color\n    \n    def initialize(seed)\n      @identity = seed        # Immutable\n      @state = 0              # Mutable index\n      @perception = 0         # Current perceived hue (mod 360)\n      @color = nil            # Full color data"
    },
    {
      "file": "lib/tritwise_letter_spirit.rb",
      "pattern_type": "class_definition",
      "start_line": 86,
      "end_line": 185,
      "symbols": [
        "LetterSpiritSystem"
      ],
      "complexity": 5.6,
      "leitmotif_type": "collaborative_work",
      "snippet_length": 3188,
      "snippet": "  class LetterSpiritSystem\n    attr_reader :agents, :epoch, :match_depth, :history\n    \n    def initialize(seeds)\n      raise ArgumentError, \"Need exactly 3 seeds\" unless seeds.size == 3\n      @agents = seeds.map { |s| Agent.new(s) }\n      @epoch = 0\n      @match_depth = 0\n      @history = []\n    en"
    },
    {
      "file": "lib/unworld.rb",
      "pattern_type": "class_definition",
      "start_line": 340,
      "end_line": 439,
      "symbols": [
        "BestResponseChain"
      ],
      "complexity": 3.0,
      "leitmotif_type": "collaborative_work",
      "snippet_length": 3214,
      "snippet": "  class BestResponseChain\n    attr_reader :genesis_seed, :rounds\n    \n    def initialize(genesis_seed: 0x42D, max_rounds: 10)\n      @genesis_seed = genesis_seed\n      @max_rounds = max_rounds\n      @rounds = []\n      derive_equilibrium!\n    end\n    \n    def derive_equilibrium!\n      # Initialize age"
    },
    {
      "file": "lib/unworlding_involution.rb",
      "pattern_type": "function_definition",
      "start_line": 177,
      "end_line": 177,
      "symbols": [
        "initialize_agents"
      ],
      "complexity": 0.2,
      "leitmotif_type": "collaborative_work",
      "snippet_length": 25,
      "snippet": "    def initialize_agents"
    },
    {
      "file": "lib/unworlding_involution.rb",
      "pattern_type": "class_definition",
      "start_line": 98,
      "end_line": 197,
      "symbols": [
        "FrameInvariantSelf"
      ],
      "complexity": 3.9,
      "leitmotif_type": "collaborative_work",
      "snippet_length": 2938,
      "snippet": "  class FrameInvariantSelf\n    attr_reader :seed, :frames\n    \n    def initialize(seed: 0x42D)\n      @seed = seed\n      @frames = {}\n    end\n    \n    # Observe from a specific frame (agent perspective)\n    def observe_from(frame_id)\n      # Same seed \u2192 same colors, regardless of frame\n      rng = Sp"
    },
    {
      "file": "lib/unworlding_involution.rb",
      "pattern_type": "class_definition",
      "start_line": 167,
      "end_line": 266,
      "symbols": [
        "BestResponseDynamics"
      ],
      "complexity": 6.6,
      "leitmotif_type": "collaborative_work",
      "snippet_length": 2939,
      "snippet": "  class BestResponseDynamics\n    attr_reader :agents, :seed, :history\n    \n    def initialize(seed: 0x42D)\n      @seed = seed\n      @agents = initialize_agents\n      @history = [@agents.map { |a| a[:trit] }]\n    end\n    \n    # Initialize 3 agents with trits from seed\n    def initialize_agents\n      "
    },
    {
      "file": "lib/world_broadcast.rb",
      "pattern_type": "function_definition",
      "start_line": 475,
      "end_line": 475,
      "symbols": [
        "self"
      ],
      "complexity": 0.2,
      "leitmotif_type": "collaborative_work",
      "snippet_length": 49,
      "snippet": "    def self.lamport_timestamp(agent_id, counter)"
    },
    {
      "file": "lib/world_broadcast.rb",
      "pattern_type": "function_definition",
      "start_line": 480,
      "end_line": 480,
      "symbols": [
        "self"
      ],
      "complexity": 0.2,
      "leitmotif_type": "collaborative_work",
      "snippet_length": 43,
      "snippet": "    def self.vector_clock(agents, counters)"
    },
    {
      "file": "lib/world_broadcast.rb",
      "pattern_type": "function_definition",
      "start_line": 490,
      "end_line": 490,
      "symbols": [
        "self"
      ],
      "complexity": 0.2,
      "leitmotif_type": "collaborative_work",
      "snippet_length": 52,
      "snippet": "    def self.g_counter_increment(counters, agent_id)"
    },
    {
      "file": "lib/world_broadcast.rb",
      "pattern_type": "function_definition",
      "start_line": 763,
      "end_line": 763,
      "symbols": [
        "broadcast_sexps"
      ],
      "complexity": 0.2,
      "leitmotif_type": "collaborative_work",
      "snippet_length": 23,
      "snippet": "    def broadcast_sexps"
    },
    {
      "file": "lib/world_broadcast.rb",
      "pattern_type": "class_definition",
      "start_line": 676,
      "end_line": 775,
      "symbols": [
        "TripartiteSystem"
      ],
      "complexity": 8.6,
      "leitmotif_type": "collaborative_work",
      "snippet_length": 3270,
      "snippet": "  class TripartiteSystem\n    attr_reader :agents, :epoch, :broadcast_log, :crdt_state\n    \n    def initialize(mathematician_keys = [:ramanujan, :grothendieck, :euler])\n      @mathematician_keys = mathematician_keys\n      @agents = mathematician_keys.map { |k| MathematicianAgent.new(k) }\n      @epoch"
    },
    {
      "file": "test/test_phase_3_ramanujan.rb",
      "pattern_type": "function_definition",
      "start_line": 28,
      "end_line": 28,
      "symbols": [
        "assert"
      ],
      "complexity": 0.2,
      "leitmotif_type": "collaborative_work",
      "snippet_length": 34,
      "snippet": "    def assert(condition, message)"
    },
    {
      "file": "test/test_phase_3_ramanujan.rb",
      "pattern_type": "function_definition",
      "start_line": 39,
      "end_line": 39,
      "symbols": [
        "assert_equal"
      ],
      "complexity": 0.2,
      "leitmotif_type": "collaborative_work",
      "snippet_length": 47,
      "snippet": "    def assert_equal(actual, expected, message)"
    },
    {
      "file": "test/test_phase_3_ramanujan.rb",
      "pattern_type": "function_definition",
      "start_line": 181,
      "end_line": 181,
      "symbols": [
        "test_agent_registration"
      ],
      "complexity": 0.2,
      "leitmotif_type": "collaborative_work",
      "snippet_length": 31,
      "snippet": "    def test_agent_registration"
    },
    {
      "file": "test/test_phase_3_ramanujan.rb",
      "pattern_type": "function_definition",
      "start_line": 275,
      "end_line": 275,
      "symbols": [
        "test_message_broadcasting"
      ],
      "complexity": 0.2,
      "leitmotif_type": "collaborative_work",
      "snippet_length": 33,
      "snippet": "    def test_message_broadcasting"
    },
    {
      "file": "test/test_phase_3_ramanujan.rb",
      "pattern_type": "function_definition",
      "start_line": 391,
      "end_line": 391,
      "symbols": [
        "test_agent_failure_recovery"
      ],
      "complexity": 0.2,
      "leitmotif_type": "collaborative_work",
      "snippet_length": 35,
      "snippet": "    def test_agent_failure_recovery"
    },
    {
      "file": "test/test_phase_3_ramanujan.rb",
      "pattern_type": "class_definition",
      "start_line": 20,
      "end_line": 119,
      "symbols": [
        "TestRunner"
      ],
      "complexity": 3.1,
      "leitmotif_type": "collaborative_work",
      "snippet_length": 3027,
      "snippet": "  class TestRunner\n    def initialize\n      @coordinator = RamanujanNatsCoordinator::NatsCoordinator.new\n      @passed = 0\n      @failed = 0\n      @tests = []\n    end\n\n    def assert(condition, message)\n      if condition\n        puts \"  \u2713 #{message}\"\n        @passed += 1\n      else\n        puts \"  "
    },
    {
      "file": "test_category_4.rb",
      "pattern_type": "function_definition",
      "start_line": 19,
      "end_line": 19,
      "symbols": [
        "assert"
      ],
      "complexity": 0.2,
      "leitmotif_type": "collaborative_work",
      "snippet_length": 51,
      "snippet": "def assert(condition, message = \"Assertion failed\")"
    },
    {
      "file": "test_category_5.rb",
      "pattern_type": "function_definition",
      "start_line": 18,
      "end_line": 18,
      "symbols": [
        "assert"
      ],
      "complexity": 0.2,
      "leitmotif_type": "collaborative_work",
      "snippet_length": 51,
      "snippet": "def assert(condition, message = \"Assertion failed\")"
    },
    {
      "file": "test_category_6.rb",
      "pattern_type": "function_definition",
      "start_line": 19,
      "end_line": 19,
      "symbols": [
        "assert"
      ],
      "complexity": 0.2,
      "leitmotif_type": "collaborative_work",
      "snippet_length": 51,
      "snippet": "def assert(condition, message = \"Assertion failed\")"
    },
    {
      "file": "test_girard_42d.rb",
      "pattern_type": "function_definition",
      "start_line": 9,
      "end_line": 9,
      "symbols": [
        "assert"
      ],
      "complexity": 0.2,
      "leitmotif_type": "collaborative_work",
      "snippet_length": 51,
      "snippet": "def assert(condition, message = \"Assertion failed\")"
    },
    {
      "file": "test_moebius_chaitin.rb",
      "pattern_type": "function_definition",
      "start_line": 13,
      "end_line": 13,
      "symbols": [
        "assert"
      ],
      "complexity": 0.2,
      "leitmotif_type": "collaborative_work",
      "snippet_length": 51,
      "snippet": "def assert(condition, message = \"Assertion failed\")"
    },
    {
      "file": "test_parametrised_optics.rb",
      "pattern_type": "function_definition",
      "start_line": 10,
      "end_line": 10,
      "symbols": [
        "assert"
      ],
      "complexity": 0.2,
      "leitmotif_type": "collaborative_work",
      "snippet_length": 51,
      "snippet": "def assert(condition, message = \"Assertion failed\")"
    },
    {
      "file": "test_ramanujan_complex.rb",
      "pattern_type": "function_definition",
      "start_line": 11,
      "end_line": 11,
      "symbols": [
        "assert"
      ],
      "complexity": 0.2,
      "leitmotif_type": "collaborative_work",
      "snippet_length": 51,
      "snippet": "def assert(condition, message = \"Assertion failed\")"
    }
  ],
  "philosophical_reflection": [
    {
      "file": "bin/god_mode_repl.rb",
      "pattern_type": "function_definition",
      "start_line": 7,
      "end_line": 28,
      "symbols": [
        "encode_osc"
      ],
      "complexity": 1.7,
      "leitmotif_type": "philosophical_reflection",
      "snippet_length": 504,
      "snippet": "def encode_osc(address, *args)\n  msg = address.b\n  msg << \"\\x00\" * (4 - (msg.length % 4))\n  types = \",\"\n  args.each { |arg| types << (arg.is_a?(Integer) ? \"i\" : \"s\") }\n  msg << types.b\n  msg << \"\\x00\" * (4 - (types.length % 4))\n  args.each do |arg|\n    if arg.is_a?(Integer)\n      msg << [arg].pack(\""
    },
    {
      "file": "bin/interactive_repl.rb",
      "pattern_type": "function_definition",
      "start_line": 229,
      "end_line": 229,
      "symbols": [
        "world_command"
      ],
      "complexity": 0.2,
      "leitmotif_type": "philosophical_reflection",
      "snippet_length": 31,
      "snippet": "  def world_command(world_type)"
    },
    {
      "file": "bin/play_curriculum.rb",
      "pattern_type": "function_definition",
      "start_line": 118,
      "end_line": 118,
      "symbols": [
        "osc_type_tag"
      ],
      "complexity": 0.2,
      "leitmotif_type": "philosophical_reflection",
      "snippet_length": 25,
      "snippet": "    def osc_type_tag(arg)"
    },
    {
      "file": "lib/bb6_hypercomputation.rb",
      "pattern_type": "function_definition",
      "start_line": 121,
      "end_line": 121,
      "symbols": [
        "initialize"
      ],
      "complexity": 0.2,
      "leitmotif_type": "philosophical_reflection",
      "snippet_length": 38,
      "snippet": "    def initialize(gamut_type = :srgb)"
    },
    {
      "file": "lib/bb6_hypercomputation.rb",
      "pattern_type": "class_definition",
      "start_line": 112,
      "end_line": 211,
      "symbols": [
        "GamutSubobjectClassifier"
      ],
      "complexity": 4.0,
      "leitmotif_type": "philosophical_reflection",
      "snippet_length": 3080,
      "snippet": "  class GamutSubobjectClassifier\n    attr_reader :gamut_type\n\n    GAMUTS = {\n      srgb: { margin: 0.0, name: \"sRGB\" },\n      p3: { margin: 0.1, name: \"Display P3\" },\n      rec2020: { margin: 0.2, name: \"Rec.2020\" }\n    }\n\n    def initialize(gamut_type = :srgb)\n      @gamut_type = gamut_type\n      @"
    },
    {
      "file": "lib/crdt_skill.rb",
      "pattern_type": "function_definition",
      "start_line": 28,
      "end_line": 51,
      "symbols": [
        "initialize"
      ],
      "complexity": 0.8,
      "leitmotif_type": "philosophical_reflection",
      "snippet_length": 478,
      "snippet": "    def initialize(&block)\n      @forward = block\n      @backward = nil\n    end\n\n    def with_backward(&block)\n      @backward = block\n      self\n    end\n\n    def call(input)\n      @forward.call(input)\n    end\n\n    def coplay(context, result)\n      @backward&.call(context, result)\n    end\n  end\nend\n"
    },
    {
      "file": "lib/crdt_skill.rb",
      "pattern_type": "function_definition",
      "start_line": 33,
      "end_line": 51,
      "symbols": [
        "with_backward"
      ],
      "complexity": 0.6,
      "leitmotif_type": "philosophical_reflection",
      "snippet_length": 397,
      "snippet": "    def with_backward(&block)\n      @backward = block\n      self\n    end\n\n    def call(input)\n      @forward.call(input)\n    end\n\n    def coplay(context, result)\n      @backward&.call(context, result)\n    end\n  end\nend\n\n# \u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550"
    },
    {
      "file": "lib/crdt_skill.rb",
      "pattern_type": "function_definition",
      "start_line": 38,
      "end_line": 51,
      "symbols": [
        "call"
      ],
      "complexity": 0.4,
      "leitmotif_type": "philosophical_reflection",
      "snippet_length": 323,
      "snippet": "    def call(input)\n      @forward.call(input)\n    end\n\n    def coplay(context, result)\n      @backward&.call(context, result)\n    end\n  end\nend\n\n# \u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\n# CRDT Types\n# \u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550"
    },
    {
      "file": "lib/crdt_skill.rb",
      "pattern_type": "function_definition",
      "start_line": 42,
      "end_line": 51,
      "symbols": [
        "coplay"
      ],
      "complexity": 0.2,
      "leitmotif_type": "philosophical_reflection",
      "snippet_length": 267,
      "snippet": "    def coplay(context, result)\n      @backward&.call(context, result)\n    end\n  end\nend\n\n# \u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\n# CRDT Types\n# \u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\n"
    },
    {
      "file": "lib/crdt_skill.rb",
      "pattern_type": "function_definition",
      "start_line": 265,
      "end_line": 265,
      "symbols": [
        "create"
      ],
      "complexity": 0.2,
      "leitmotif_type": "philosophical_reflection",
      "snippet_length": 48,
      "snippet": "  def create(name, type, replica_id = \"default\")"
    },
    {
      "file": "lib/crdt_skill.rb",
      "pattern_type": "function_definition",
      "start_line": 715,
      "end_line": 715,
      "symbols": [
        "log_operation"
      ],
      "complexity": 0.2,
      "leitmotif_type": "philosophical_reflection",
      "snippet_length": 36,
      "snippet": "  def log_operation(type, **details)"
    },
    {
      "file": "lib/crdt_skill.rb",
      "pattern_type": "function_definition",
      "start_line": 735,
      "end_line": 735,
      "symbols": [
        "analyze_operation_types"
      ],
      "complexity": 0.2,
      "leitmotif_type": "philosophical_reflection",
      "snippet_length": 29,
      "snippet": "  def analyze_operation_types"
    },
    {
      "file": "lib/crdt_skill.rb",
      "pattern_type": "class_definition",
      "start_line": 25,
      "end_line": 51,
      "symbols": [
        "Lens"
      ],
      "complexity": 0.8,
      "leitmotif_type": "philosophical_reflection",
      "snippet_length": 528,
      "snippet": "  class Lens\n    attr_reader :forward, :backward\n\n    def initialize(&block)\n      @forward = block\n      @backward = nil\n    end\n\n    def with_backward(&block)\n      @backward = block\n      self\n    end\n\n    def call(input)\n      @forward.call(input)\n    end\n\n    def coplay(context, result)\n      @"
    },
    {
      "file": "lib/event_scheduler.rb",
      "pattern_type": "function_definition",
      "start_line": 102,
      "end_line": 102,
      "symbols": [
        "osc_type_tag"
      ],
      "complexity": 0.2,
      "leitmotif_type": "philosophical_reflection",
      "snippet_length": 23,
      "snippet": "  def osc_type_tag(arg)"
    },
    {
      "file": "lib/form.rb",
      "pattern_type": "function_definition",
      "start_line": 5,
      "end_line": 13,
      "symbols": [
        "self"
      ],
      "complexity": 1.2,
      "leitmotif_type": "philosophical_reflection",
      "snippet_length": 168,
      "snippet": "  def self.analyze(phrases)\n    # Simple AA'B structure detection\n    return :unknown if phrases.size < 2\n    \n    # Placeholder for formal logic\n    :period\n  end\nend\n"
    },
    {
      "file": "lib/form.rb",
      "pattern_type": "class_definition",
      "start_line": 4,
      "end_line": 13,
      "symbols": [
        "MusicalForm"
      ],
      "complexity": 1.2,
      "leitmotif_type": "philosophical_reflection",
      "snippet_length": 186,
      "snippet": "class MusicalForm\n  def self.analyze(phrases)\n    # Simple AA'B structure detection\n    return :unknown if phrases.size < 2\n    \n    # Placeholder for formal logic\n    :period\n  end\nend\n"
    },
    {
      "file": "lib/gay_neverending.rb",
      "pattern_type": "class_definition",
      "start_line": 252,
      "end_line": 351,
      "symbols": [
        "NeverendingGenerator"
      ],
      "complexity": 2.8,
      "leitmotif_type": "philosophical_reflection",
      "snippet_length": 2582,
      "snippet": "  class NeverendingGenerator\n    attr_reader :client, :events_generated, :current_params\n    \n    def initialize(seed: 42, style: :ambient)\n      @client = GayClient.new(seed: seed)\n      @style = style\n      @events_generated = 0\n      @prev_color = nil\n      @current_params = nil\n      @history = "
    },
    {
      "file": "lib/gay_neverending.rb",
      "pattern_type": "class_definition",
      "start_line": 471,
      "end_line": 570,
      "symbols": [
        "ColorPatternBuilder"
      ],
      "complexity": 6.2,
      "leitmotif_type": "philosophical_reflection",
      "snippet_length": 3045,
      "snippet": "  class ColorPatternBuilder\n    extend FreeMonad::DSL\n    \n    def self.build(duration: 32.0, seed: 42, style: :ambient)\n      generator = NeverendingGenerator.new(seed: seed, style: style)\n      events = generator.generate_for_duration(duration)\n      \n      pattern_events = events.flat_map do |eve"
    },
    {
      "file": "lib/geometric_morphism.rb",
      "pattern_type": "class_definition",
      "start_line": 169,
      "end_line": 268,
      "symbols": [
        "Adjunction"
      ],
      "complexity": 4.2,
      "leitmotif_type": "philosophical_reflection",
      "snippet_length": 3690,
      "snippet": "  class Adjunction\n    attr_reader :inverse, :direct\n    \n    def initialize(source_seed:, target_seed:)\n      @inverse = InverseImage.new(source_seed: source_seed, target_seed: target_seed)\n      @direct = DirectImage.new(source_seed: source_seed, target_seed: target_seed)\n      @source_seed = sour"
    },
    {
      "file": "lib/geometric_morphism.rb",
      "pattern_type": "class_definition",
      "start_line": 282,
      "end_line": 381,
      "symbols": [
        "SubobjectClassifier"
      ],
      "complexity": 3.3,
      "leitmotif_type": "philosophical_reflection",
      "snippet_length": 3242,
      "snippet": "  class SubobjectClassifier\n    OMEGA_3 = ChromaticSubobject::OMEGA_3\n    \n    # Characteristic morphism \u03c7: B \u2192 \u03a9\u2083\n    def self.characteristic(element, predicate)\n      ChromaticSubobject.characteristic(element, predicate)\n    end\n    \n    # true: 1 \u2192 \u03a9\u2083 (selects +1)\n    def self.true_morphism\n     "
    },
    {
      "file": "lib/girard_colors.rb",
      "pattern_type": "function_definition",
      "start_line": 82,
      "end_line": 131,
      "symbols": [
        "initialize"
      ],
      "complexity": 2.9,
      "leitmotif_type": "philosophical_reflection",
      "snippet_length": 1435,
      "snippet": "    def initialize\n      @steps = []\n      @resolved = false\n    end\n\n    def add_dissonance(interval)\n      @steps << { type: :dissonance, interval: interval, color: :cut }\n    end\n\n    def resolve(target_interval)\n      @steps << { type: :resolution, interval: target_interval, color: :axiom }\n    "
    },
    {
      "file": "lib/girard_colors.rb",
      "pattern_type": "function_definition",
      "start_line": 87,
      "end_line": 136,
      "symbols": [
        "add_dissonance"
      ],
      "complexity": 2.9,
      "leitmotif_type": "philosophical_reflection",
      "snippet_length": 1459,
      "snippet": "    def add_dissonance(interval)\n      @steps << { type: :dissonance, interval: interval, color: :cut }\n    end\n\n    def resolve(target_interval)\n      @steps << { type: :resolution, interval: target_interval, color: :axiom }\n      @resolved = target_interval.zero? || [0, 7, 12].include?(target_inte"
    },
    {
      "file": "lib/girard_colors.rb",
      "pattern_type": "function_definition",
      "start_line": 91,
      "end_line": 139,
      "symbols": [
        "resolve"
      ],
      "complexity": 3.2,
      "leitmotif_type": "philosophical_reflection",
      "snippet_length": 1385,
      "snippet": "    def resolve(target_interval)\n      @steps << { type: :resolution, interval: target_interval, color: :axiom }\n      @resolved = target_interval.zero? || [0, 7, 12].include?(target_interval)\n    end\n\n    def to_progression\n      @steps.map { |s| s[:interval] }\n    end\n  end\n\n  # Geometry of Intera"
    },
    {
      "file": "lib/girard_colors.rb",
      "pattern_type": "function_definition",
      "start_line": 96,
      "end_line": 139,
      "symbols": [
        "to_progression"
      ],
      "complexity": 3.0,
      "leitmotif_type": "philosophical_reflection",
      "snippet_length": 1183,
      "snippet": "    def to_progression\n      @steps.map { |s| s[:interval] }\n    end\n  end\n\n  # Geometry of Interaction \u2192 Voice leading\n  class GeometryOfInteraction\n    attr_reader :tokens, :traces\n\n    def initialize\n      @tokens = []  # Active \"particles\" in the proof net\n      @traces = []  # Paths taken\n    e"
    },
    {
      "file": "lib/girard_colors.rb",
      "pattern_type": "function_definition",
      "start_line": 105,
      "end_line": 139,
      "symbols": [
        "initialize"
      ],
      "complexity": 2.3,
      "leitmotif_type": "philosophical_reflection",
      "snippet_length": 999,
      "snippet": "    def initialize\n      @tokens = []  # Active \"particles\" in the proof net\n      @traces = []  # Paths taken\n    end\n\n    def emit(pitch, polarity)\n      @tokens << { pitch: pitch, polarity: polarity, active: true }\n    end\n\n    def interact(token1_idx, token2_idx)\n      t1 = @tokens[token1_idx]\n "
    },
    {
      "file": "lib/girard_colors.rb",
      "pattern_type": "function_definition",
      "start_line": 110,
      "end_line": 139,
      "symbols": [
        "emit"
      ],
      "complexity": 2.1,
      "leitmotif_type": "philosophical_reflection",
      "snippet_length": 879,
      "snippet": "    def emit(pitch, polarity)\n      @tokens << { pitch: pitch, polarity: polarity, active: true }\n    end\n\n    def interact(token1_idx, token2_idx)\n      t1 = @tokens[token1_idx]\n      t2 = @tokens[token2_idx]\n      \n      return nil unless t1 && t2 && t1[:active] && t2[:active]\n      \n      # Oppos"
    },
    {
      "file": "lib/girard_colors.rb",
      "pattern_type": "function_definition",
      "start_line": 114,
      "end_line": 139,
      "symbols": [
        "interact"
      ],
      "complexity": 1.9,
      "leitmotif_type": "philosophical_reflection",
      "snippet_length": 772,
      "snippet": "    def interact(token1_idx, token2_idx)\n      t1 = @tokens[token1_idx]\n      t2 = @tokens[token2_idx]\n      \n      return nil unless t1 && t2 && t1[:active] && t2[:active]\n      \n      # Opposite polarities annihilate (resolve)\n      if t1[:polarity] != t2[:polarity]\n        interval = (t1[:pitch] "
    },
    {
      "file": "lib/girard_colors.rb",
      "pattern_type": "function_definition",
      "start_line": 412,
      "end_line": 412,
      "symbols": [
        "self"
      ],
      "complexity": 0.2,
      "leitmotif_type": "philosophical_reflection",
      "snippet_length": 53,
      "snippet": "  def self.analyze_girard_structure(base, variations)"
    },
    {
      "file": "lib/girard_colors.rb",
      "pattern_type": "class_definition",
      "start_line": 79,
      "end_line": 139,
      "symbols": [
        "CutElimination"
      ],
      "complexity": 3.6,
      "leitmotif_type": "philosophical_reflection",
      "snippet_length": 1626,
      "snippet": "  class CutElimination\n    attr_reader :steps, :resolved\n\n    def initialize\n      @steps = []\n      @resolved = false\n    end\n\n    def add_dissonance(interval)\n      @steps << { type: :dissonance, interval: interval, color: :cut }\n    end\n\n    def resolve(target_interval)\n      @steps << { type: :r"
    },
    {
      "file": "lib/girard_colors.rb",
      "pattern_type": "class_definition",
      "start_line": 102,
      "end_line": 139,
      "symbols": [
        "GeometryOfInteraction"
      ],
      "complexity": 2.3,
      "leitmotif_type": "philosophical_reflection",
      "snippet_length": 1063,
      "snippet": "  class GeometryOfInteraction\n    attr_reader :tokens, :traces\n\n    def initialize\n      @tokens = []  # Active \"particles\" in the proof net\n      @traces = []  # Paths taken\n    end\n\n    def emit(pitch, polarity)\n      @tokens << { pitch: pitch, polarity: polarity, active: true }\n    end\n\n    def i"
    },
    {
      "file": "lib/glass_bead_game.rb",
      "pattern_type": "function_definition",
      "start_line": 339,
      "end_line": 339,
      "symbols": [
        "initialize"
      ],
      "complexity": 0.2,
      "leitmotif_type": "philosophical_reflection",
      "snippet_length": 68,
      "snippet": "      def initialize(structure:, from_domain:, to_domain:, functor:)"
    },
    {
      "file": "lib/glass_bead_game.rb",
      "pattern_type": "function_definition",
      "start_line": 473,
      "end_line": 473,
      "symbols": [
        "transpose_structure"
      ],
      "complexity": 0.2,
      "leitmotif_type": "philosophical_reflection",
      "snippet_length": 71,
      "snippet": "    def transpose_structure(structure, from_domain, to_domain, functor)"
    },
    {
      "file": "lib/glass_bead_game.rb",
      "pattern_type": "class_definition",
      "start_line": 260,
      "end_line": 359,
      "symbols": [
        "Event"
      ],
      "complexity": 4.6,
      "leitmotif_type": "philosophical_reflection",
      "snippet_length": 2423,
      "snippet": "  class Event\n    attr_reader :site, :name, :seed\n    \n    def initialize(site:, name:)\n      @site = site.is_a?(Array) ? site : [site]\n      @name = name\n      @seed = name.hash\n    end\n    \n    def occurs?(world)\n      # Event occurs if site contains elements \"on the edge of void\"\n      @site.any?"
    },
    {
      "file": "lib/glass_bead_game.rb",
      "pattern_type": "class_definition",
      "start_line": 299,
      "end_line": 398,
      "symbols": [
        "Base"
      ],
      "complexity": 3.8,
      "leitmotif_type": "philosophical_reflection",
      "snippet_length": 2603,
      "snippet": "    class Base\n      attr_reader :from, :to, :metadata\n      \n      def initialize(from:, to: nil, **metadata)\n        @from = from\n        @to = to\n        @metadata = metadata\n      end\n      \n      def execute!(game)\n        raise NotImplementedError\n      end\n      \n      def points\n        rais"
    },
    {
      "file": "lib/glass_bead_game.rb",
      "pattern_type": "class_definition",
      "start_line": 317,
      "end_line": 416,
      "symbols": [
        "Connect"
      ],
      "complexity": 4.8,
      "leitmotif_type": "philosophical_reflection",
      "snippet_length": 2631,
      "snippet": "    class Connect < Base\n      attr_reader :via\n      \n      def initialize(from:, to:, via:, **metadata)\n        super(from: from, to: to, **metadata)\n        @via = via\n      end\n      \n      def execute!(game)\n        game.add_connection(@from, @to, @via)\n      end\n      \n      def points\n       "
    },
    {
      "file": "lib/glass_bead_game.rb",
      "pattern_type": "class_definition",
      "start_line": 336,
      "end_line": 435,
      "symbols": [
        "Transpose"
      ],
      "complexity": 5.1,
      "leitmotif_type": "philosophical_reflection",
      "snippet_length": 2740,
      "snippet": "    class Transpose < Base\n      attr_reader :structure, :from_domain, :to_domain, :functor\n      \n      def initialize(structure:, from_domain:, to_domain:, functor:)\n        @structure = structure\n        @from_domain = from_domain\n        @to_domain = to_domain\n        @functor = functor\n        "
    },
    {
      "file": "lib/harmonic_function.rb",
      "pattern_type": "function_definition",
      "start_line": 47,
      "end_line": 96,
      "symbols": [
        "self"
      ],
      "complexity": 2.9,
      "leitmotif_type": "philosophical_reflection",
      "snippet_length": 1631,
      "snippet": "  def self.analyze_function(root_pitch, key = 'C')\n    # Assume root_pitch is a PitchClass or integer (0-11)\n    pitch_value = root_pitch.is_a?(PitchClass) ? root_pitch.value : root_pitch\n\n    # Get key root\n    key_root = case key.upcase\n               when 'C' then 0\n               when 'G' then 7"
    },
    {
      "file": "lib/harmonic_function.rb",
      "pattern_type": "function_definition",
      "start_line": 87,
      "end_line": 136,
      "symbols": [
        "distance_to"
      ],
      "complexity": 3.3,
      "leitmotif_type": "philosophical_reflection",
      "snippet_length": 1513,
      "snippet": "  def distance_to(other_function)\n    return 0 if @function == other_function\n\n    # Define valid transitions and their distances\n    # All valid: T\u2192S\u2192D\u2192T forms a directed cycle\n    transitions = {\n      # From Tonic\n      [TONIC, SUBDOMINANT] => 1,\n      [TONIC, DOMINANT] => 2,      # Not typical w"
    },
    {
      "file": "lib/hedges_open_games.rb",
      "pattern_type": "class_definition",
      "start_line": 257,
      "end_line": 356,
      "symbols": [
        "SelectionFunction"
      ],
      "complexity": 2.3,
      "leitmotif_type": "philosophical_reflection",
      "snippet_length": 2818,
      "snippet": "  class SelectionFunction\n    attr_reader :name, :selector, :trit\n    \n    def initialize(name:, selector:, trit: 0)\n      @name = name\n      @selector = selector\n      @trit = trit\n    end\n    \n    # Apply selection to a valuation function\n    def call(valuation, domain)\n      @selector.call(valuat"
    },
    {
      "file": "lib/hvm_parallel_games.rb",
      "pattern_type": "class_definition",
      "start_line": 379,
      "end_line": 478,
      "symbols": [
        "GameDSL"
      ],
      "complexity": 6.9,
      "leitmotif_type": "philosophical_reflection",
      "snippet_length": 3079,
      "snippet": "  class GameDSL\n    def initialize(seed = SplitMixTernary::DEFAULT_SEED)\n      @seed = seed\n      @operations = []\n      @parallel_groups = []\n    end\n    \n    # Sequential-looking, but actually marks for parallel execution\n    def player(name, &block)\n      @operations << { type: :player, name: nam"
    },
    {
      "file": "lib/jungle_involution.rb",
      "pattern_type": "function_definition",
      "start_line": 225,
      "end_line": 225,
      "symbols": [
        "hit_params"
      ],
      "complexity": 0.2,
      "leitmotif_type": "philosophical_reflection",
      "snippet_length": 24,
      "snippet": "    def hit_params(type)"
    },
    {
      "file": "lib/jungle_involution.rb",
      "pattern_type": "class_definition",
      "start_line": 103,
      "end_line": 202,
      "symbols": [
        "BreakbeatEngine"
      ],
      "complexity": 2.6,
      "leitmotif_type": "philosophical_reflection",
      "snippet_length": 2518,
      "snippet": "  class BreakbeatEngine\n    # Classic jungle drum mapping (approximate)\n    KICK = 36\n    SNARE = 38\n    CLOSED_HAT = 42\n    OPEN_HAT = 46\n    RIDE = 51\n    CRASH = 49\n    TOM_LOW = 45\n    TOM_MID = 47\n    TOM_HI = 50\n    \n    # Amen break pattern (as a seed, will be destroyed)\n    AMEN_SEED = [\n   "
    },
    {
      "file": "lib/jungle_involution.rb",
      "pattern_type": "class_definition",
      "start_line": 301,
      "end_line": 400,
      "symbols": [
        "UIState"
      ],
      "complexity": 5.7,
      "leitmotif_type": "philosophical_reflection",
      "snippet_length": 2587,
      "snippet": "  class UIState\n    attr_accessor :break_pattern, :bass_pattern, :fx_params, :score, :generation\n    \n    def initialize(break_pattern: nil, bass_pattern: nil, fx_params: nil, generation: 0)\n      @break_pattern = break_pattern || []\n      @bass_pattern = bass_pattern || []\n      @fx_params = fx_par"
    },
    {
      "file": "lib/maximum_dynamism.rb",
      "pattern_type": "class_definition",
      "start_line": 78,
      "end_line": 177,
      "symbols": [
        "LorenzAttractor"
      ],
      "complexity": 4.6,
      "leitmotif_type": "philosophical_reflection",
      "snippet_length": 2415,
      "snippet": "    class LorenzAttractor\n      def initialize(sigma: 10, rho: 28, beta: 8.0/3)\n        @sigma, @rho, @beta = sigma, rho, beta\n        @x, @y, @z = rand, rand, rand\n        @dt = 0.01\n      end\n      \n      def step\n        dx = @sigma * (@y - @x)\n        dy = @x * (@rho - @z) - @y\n        dz = @x *"
    },
    {
      "file": "lib/maximum_dynamism.rb",
      "pattern_type": "class_definition",
      "start_line": 108,
      "end_line": 207,
      "symbols": [
        "HenonMap"
      ],
      "complexity": 2.9,
      "leitmotif_type": "philosophical_reflection",
      "snippet_length": 2792,
      "snippet": "    class HenonMap\n      def initialize(a: 1.4, b: 0.3)\n        @a, @b = a, b\n        @x, @y = rand * 0.1, rand * 0.1\n      end\n      \n      def step\n        x_new = 1 - @a * @x**2 + @y\n        y_new = @b * @x\n        @x, @y = x_new, y_new\n        [@x, @y]\n      end\n      \n      def next_value\n     "
    },
    {
      "file": "lib/maximum_dynamism.rb",
      "pattern_type": "class_definition",
      "start_line": 128,
      "end_line": 227,
      "symbols": [
        "DrunkWalk"
      ],
      "complexity": 2.7,
      "leitmotif_type": "philosophical_reflection",
      "snippet_length": 3253,
      "snippet": "    class DrunkWalk\n      def initialize(step_size: 0.1, bounds: [-1, 1])\n        @step_size = step_size\n        @bounds = bounds\n        @position = 0\n      end\n      \n      def step\n        @position += (rand - 0.5) * 2 * @step_size\n        @position = @position.clamp(*@bounds)\n      end\n      \n  "
    },
    {
      "file": "lib/maximum_dynamism.rb",
      "pattern_type": "class_definition",
      "start_line": 151,
      "end_line": 250,
      "symbols": [
        "SmoothNoise"
      ],
      "complexity": 1.9,
      "leitmotif_type": "philosophical_reflection",
      "snippet_length": 3741,
      "snippet": "    class SmoothNoise\n      def initialize(frequency: 0.1)\n        @frequency = frequency\n        @phase = rand * 1000\n        @time = 0\n      end\n      \n      def next_value\n        @time += @frequency\n        # Simplified smooth noise using sin superposition\n        (Math.sin(@time + @phase) * 0.5"
    },
    {
      "file": "lib/maximum_dynamism.rb",
      "pattern_type": "class_definition",
      "start_line": 173,
      "end_line": 272,
      "symbols": [
        "DerangementConfig"
      ],
      "complexity": 1.2,
      "leitmotif_type": "philosophical_reflection",
      "snippet_length": 3720,
      "snippet": "  class DerangementConfig\n    attr_accessor :pitch, :duration, :amplitude, :onset, :structure, :meta\n    \n    def initialize(\n      pitch: nil,\n      duration: nil, \n      amplitude: nil,\n      onset: nil,\n      structure: nil,\n      meta: nil\n    )\n      @pitch = pitch || PitchDerangement.new\n     "
    },
    {
      "file": "lib/maximum_dynamism.rb",
      "pattern_type": "class_definition",
      "start_line": 517,
      "end_line": 616,
      "symbols": [
        "OnsetDerangement"
      ],
      "complexity": 5.3,
      "leitmotif_type": "philosophical_reflection",
      "snippet_length": 2834,
      "snippet": "  class OnsetDerangement\n    attr_accessor :enabled, :intensity, :allow_negative, :allow_overlap,\n                  :max_shift, :swing_amount\n    \n    def initialize(\n      enabled: true,\n      intensity: 0.2,\n      allow_negative: false,\n      allow_overlap: false,\n      max_shift: 0.5,\n      swing"
    },
    {
      "file": "lib/maximum_dynamism.rb",
      "pattern_type": "class_definition",
      "start_line": 656,
      "end_line": 755,
      "symbols": [
        "MetaDerangement"
      ],
      "complexity": 5.5,
      "leitmotif_type": "philosophical_reflection",
      "snippet_length": 3399,
      "snippet": "  class MetaDerangement\n    attr_accessor :enabled, :intensity_drift, :strategy_mutation, :self_modification\n    \n    def initialize(\n      enabled: false,\n      intensity_drift: 0.1,\n      strategy_mutation: false,\n      self_modification: false\n    )\n      @enabled = enabled\n      @intensity_drift"
    },
    {
      "file": "lib/maximum_dynamism.rb",
      "pattern_type": "class_definition",
      "start_line": 704,
      "end_line": 803,
      "symbols": [
        "DerangingInterpreter"
      ],
      "complexity": 4.5,
      "leitmotif_type": "philosophical_reflection",
      "snippet_length": 3163,
      "snippet": "  class DerangingInterpreter\n    attr_reader :config, :events, :stats\n    \n    def initialize(config = DerangementConfig.maximum)\n      @config = config\n      @events = []\n      @stats = { total: 0, pitch_changes: 0, duration_changes: 0, structural_changes: 0 }\n    end\n    \n    def interpret(pattern"
    },
    {
      "file": "lib/modulation.rb",
      "pattern_type": "function_definition",
      "start_line": 27,
      "end_line": 76,
      "symbols": [
        "initialize"
      ],
      "complexity": 0.8,
      "leitmotif_type": "philosophical_reflection",
      "snippet_length": 1669,
      "snippet": "  def initialize(from_key, to_key, type = :direct, pivot_chord = nil)\n    @from_key = from_key\n    @to_key = to_key\n    @type = type\n    @pivot_chord = pivot_chord\n    @path = []\n  end\n\n  # Transposition: shift all pitches by interval\n  # Returns new key (transposed)\n  def self.transpose_key(key, se"
    },
    {
      "file": "lib/modulation.rb",
      "pattern_type": "function_definition",
      "start_line": 85,
      "end_line": 134,
      "symbols": [
        "self"
      ],
      "complexity": 3.1,
      "leitmotif_type": "philosophical_reflection",
      "snippet_length": 1634,
      "snippet": "  def self.common_tone_distance(key1, key2)\n    # Simplified: assume major triads\n    # C Major triad: C E G (0, 4, 7)\n    # F Major triad: F A C (5, 9, 0)\n    # Shared notes: C \u2192 distance 2\n\n    triads = {\n      'C' => Set.new([0, 4, 7]),\n      'G' => Set.new([7, 11, 2]),\n      'D' => Set.new([2, 6"
    },
    {
      "file": "lib/modulation.rb",
      "pattern_type": "function_definition",
      "start_line": 117,
      "end_line": 149,
      "symbols": [
        "self"
      ],
      "complexity": 1.8,
      "leitmotif_type": "philosophical_reflection",
      "snippet_length": 920,
      "snippet": "  def self.analyze_pivot_chord(from_key, to_key)\n    # Find chord that functions in both keys\n    # Example: C Major and A minor share C Major (I in C, III in A minor)\n\n    from_triads = {\n      'C' => ['C Major', 'D minor', 'E minor', 'F Major', 'G Major', 'A minor', 'B dim'],\n      'A' => ['A mino"
    },
    {
      "file": "lib/modulation.rb",
      "pattern_type": "function_definition",
      "start_line": 133,
      "end_line": 149,
      "symbols": [
        "to_s"
      ],
      "complexity": 0.6,
      "leitmotif_type": "philosophical_reflection",
      "snippet_length": 321,
      "snippet": "  def to_s\n    \"Modulation(#{@from_key} \u2192 #{@to_key}, #{@type})\"\n  end\n\n  def ==(other)\n    other.is_a?(Modulation) &&\n      @from_key == other.from_key &&\n      @to_key == other.to_key &&\n      @type == other.type\n  end\n\n  def hash\n    [@from_key, @to_key, @type].hash\n  end\nend\n\n# Transposition: sh"
    },
    {
      "file": "lib/modulation.rb",
      "pattern_type": "function_definition",
      "start_line": 144,
      "end_line": 149,
      "symbols": [
        "hash"
      ],
      "complexity": 0.2,
      "leitmotif_type": "philosophical_reflection",
      "snippet_length": 99,
      "snippet": "  def hash\n    [@from_key, @to_key, @type].hash\n  end\nend\n\n# Transposition: shift pitch by interval"
    },
    {
      "file": "lib/modulation.rb",
      "pattern_type": "class_definition",
      "start_line": 19,
      "end_line": 149,
      "symbols": [
        "Modulation"
      ],
      "complexity": 4.3,
      "leitmotif_type": "philosophical_reflection",
      "snippet_length": 3908,
      "snippet": "class Modulation\n  # Modulation types\n  PIVOT_CHORD = :pivot_chord\n  CHROMATIC = :chromatic\n  DIRECT = :direct\n\n  attr_reader :from_key, :to_key, :type, :pivot_chord, :path\n\n  def initialize(from_key, to_key, type = :direct, pivot_chord = nil)\n    @from_key = from_key\n    @to_key = to_key\n    @type "
    },
    {
      "file": "lib/neo_riemannian.rb",
      "pattern_type": "function_definition",
      "start_line": 113,
      "end_line": 113,
      "symbols": [
        "self"
      ],
      "complexity": 0.2,
      "leitmotif_type": "philosophical_reflection",
      "snippet_length": 65,
      "snippet": "  def self.plr_to_color_transform(color, plr_type, direction = 1)"
    },
    {
      "file": "lib/opn/harmony.rb",
      "pattern_type": "function_definition",
      "start_line": 37,
      "end_line": 37,
      "symbols": [
        "self"
      ],
      "complexity": 0.2,
      "leitmotif_type": "philosophical_reflection",
      "snippet_length": 77,
      "snippet": "    def self.chord(root, type: :major, inversion: 0, duration: 2.0, amp: 0.4)"
    },
    {
      "file": "lib/plr_color_renderer.rb",
      "pattern_type": "function_definition",
      "start_line": 145,
      "end_line": 145,
      "symbols": [
        "apply_plr_to_color"
      ],
      "complexity": 0.2,
      "leitmotif_type": "philosophical_reflection",
      "snippet_length": 41,
      "snippet": "  def apply_plr_to_color(color, plr_type)"
    },
    {
      "file": "lib/plr_color_renderer.rb",
      "pattern_type": "function_definition",
      "start_line": 234,
      "end_line": 234,
      "symbols": [
        "render_cadence"
      ],
      "complexity": 0.2,
      "leitmotif_type": "philosophical_reflection",
      "snippet_length": 61,
      "snippet": "  def render_cadence(cadence_type: :authentic, interval: 1.0)"
    },
    {
      "file": "lib/ramanujan_complex.rb",
      "pattern_type": "class_definition",
      "start_line": 288,
      "end_line": 387,
      "symbols": [
        "RandomWalk"
      ],
      "complexity": 6.6,
      "leitmotif_type": "philosophical_reflection",
      "snippet_length": 2904,
      "snippet": "  class RandomWalk\n    attr_reader :complex, :position, :history, :seed\n    \n    def initialize(complex, seed: 0x42D)\n      @complex = complex\n      @seed = seed\n      @rng = Random.new(seed)\n      @position = complex.vertices.to_a.sample(random: @rng)\n      @history = [@position]\n    end\n    \n    #"
    },
    {
      "file": "lib/rubato_bridge.rb",
      "pattern_type": "function_definition",
      "start_line": 65,
      "end_line": 65,
      "symbols": [
        "type_string"
      ],
      "complexity": 0.2,
      "leitmotif_type": "philosophical_reflection",
      "snippet_length": 19,
      "snippet": "    def type_string"
    },
    {
      "file": "lib/rubato_bridge.rb",
      "pattern_type": "class_definition",
      "start_line": 138,
      "end_line": 237,
      "symbols": [
        "LimitDenotator"
      ],
      "complexity": 5.1,
      "leitmotif_type": "philosophical_reflection",
      "snippet_length": 2166,
      "snippet": "  class LimitDenotator < Denotator\n    attr_reader :factors\n\n    def initialize(name:, form:, factors:)\n      super(name: name, form: form)\n      @factors = factors  # Array of Denotators\n    end\n\n    def factor_count\n      @factors.size\n    end\n\n    def [](index)\n      @factors[index]\n    end\n\n    "
    },
    {
      "file": "lib/rubato_bridge.rb",
      "pattern_type": "class_definition",
      "start_line": 166,
      "end_line": 265,
      "symbols": [
        "ListDenotator"
      ],
      "complexity": 5.5,
      "leitmotif_type": "philosophical_reflection",
      "snippet_length": 2215,
      "snippet": "  class ListDenotator < Denotator\n    attr_reader :elements\n\n    def initialize(name:, form:, elements:)\n      super(name: name, form: form)\n      @elements = elements\n    end\n\n    def size\n      @elements.size\n    end\n\n    def each(&block)\n      @elements.each(&block)\n    end\n\n    def to_sonic_pi\n "
    },
    {
      "file": "lib/rubato_bridge.rb",
      "pattern_type": "class_definition",
      "start_line": 192,
      "end_line": 291,
      "symbols": [
        "Repository"
      ],
      "complexity": 4.7,
      "leitmotif_type": "philosophical_reflection",
      "snippet_length": 2350,
      "snippet": "  class Repository\n    def initialize\n      @forms = {}\n      @denotators = {}\n      register_builtin_forms!\n    end\n\n    def register_form(form)\n      @forms[form.name] = form\n    end\n\n    def register_denotator(denotator)\n      @denotators[denotator.name] = denotator\n    end\n\n    def get_form(name"
    },
    {
      "file": "lib/rubato_bridge.rb",
      "pattern_type": "class_definition",
      "start_line": 250,
      "end_line": 349,
      "symbols": [
        "SchemeInterpreter"
      ],
      "complexity": 6.8,
      "leitmotif_type": "philosophical_reflection",
      "snippet_length": 2385,
      "snippet": "  class SchemeInterpreter\n    def initialize(repository = Repository.new)\n      @repo = repository\n      @env = {}\n    end\n\n    def eval(expr)\n      case expr\n      when Array\n        eval_list(expr)\n      when Symbol\n        @env[expr] || @repo.get_form(expr.to_s) || @repo.get_denotator(expr.to_s)\n"
    },
    {
      "file": "lib/score_event.rb",
      "pattern_type": "function_definition",
      "start_line": 64,
      "end_line": 64,
      "symbols": [
        "initialize"
      ],
      "complexity": 0.2,
      "leitmotif_type": "philosophical_reflection",
      "snippet_length": 48,
      "snippet": "    def initialize(type:, value:, morphisms: [])"
    },
    {
      "file": "lib/skill_1069_generator.rb",
      "pattern_type": "class_definition",
      "start_line": 324,
      "end_line": 423,
      "symbols": [
        "Sortition"
      ],
      "complexity": 6.8,
      "leitmotif_type": "philosophical_reflection",
      "snippet_length": 3218,
      "snippet": "  class Sortition\n    def initialize(skills, seed)\n      @skills = skills\n      @seed = seed\n      @gen = SplitMixTernary::Generator.new(seed)\n    end\n    \n    # Select n skills via sortition\n    def select(n)\n      indices = Set.new\n      while indices.size < [n, @skills.size].min\n        idx = @ge"
    },
    {
      "file": "lib/skill_sonification.rb",
      "pattern_type": "class_definition",
      "start_line": 146,
      "end_line": 245,
      "symbols": [
        "WorldLayer"
      ],
      "complexity": 5.5,
      "leitmotif_type": "philosophical_reflection",
      "snippet_length": 3021,
      "snippet": "  class WorldLayer\n    attr_reader :name, :seed, :root_hz, :chord_type, :dynamics\n\n    CHORD_TYPES = {\n      pitch_space: :major,\n      chord_space: :major7,\n      harmonic_function: :dominant7,\n      group_theory: :diminished,\n      modulation: :augmented,\n      polyphony: :suspended,\n      progres"
    },
    {
      "file": "lib/structure.rb",
      "pattern_type": "class_definition",
      "start_line": 4,
      "end_line": 24,
      "symbols": [
        "Cadence"
      ],
      "complexity": 3.2,
      "leitmotif_type": "philosophical_reflection",
      "snippet_length": 518,
      "snippet": "class Cadence\n  TYPES = [:authentic, :plagal, :half, :deceptive, :none]\n\n  def self.detect(chords, key)\n    return :none if chords.size < 2\n    last = HarmonicProgression.roman_numeral(chords[-1], key)\n    prev = HarmonicProgression.roman_numeral(chords[-2], key)\n    \n    if last == 'I'\n      return"
    },
    {
      "file": "lib/tailscale_file_transfer_skill.rb",
      "pattern_type": "function_definition",
      "start_line": 386,
      "end_line": 435,
      "symbols": [
        "create_open_game"
      ],
      "complexity": 3.0,
      "leitmotif_type": "philosophical_reflection",
      "snippet_length": 1479,
      "snippet": "  def create_open_game\n    transfer_lens = create_file_transfer_lens\n\n    OpenGame.new(\n      name: \"tailscale_file_transfer\",\n      lens: transfer_lens,\n      strategy_space: [:sequential, :parallel, :adaptive],\n      utility_fn: ->(strategy, outcome) {\n        # Utility increases with success and "
    },
    {
      "file": "lib/tailscale_file_transfer_skill.rb",
      "pattern_type": "function_definition",
      "start_line": 406,
      "end_line": 455,
      "symbols": [
        "compose_with_other_game"
      ],
      "complexity": 3.7,
      "leitmotif_type": "philosophical_reflection",
      "snippet_length": 1302,
      "snippet": "  def compose_with_other_game(other_game, composition_type: :sequential)\n    file_transfer_game = create_open_game\n\n    case composition_type\n    when :sequential\n      file_transfer_game >> other_game\n    when :parallel\n      file_transfer_game * other_game\n    else\n      raise \"Unknown composition"
    },
    {
      "file": "lib/tdx_color_logic.rb",
      "pattern_type": "function_definition",
      "start_line": 245,
      "end_line": 245,
      "symbols": [
        "self"
      ],
      "complexity": 0.2,
      "leitmotif_type": "philosophical_reflection",
      "snippet_length": 35,
      "snippet": "    def self.check_identity(type_a)"
    },
    {
      "file": "lib/tdx_color_logic.rb",
      "pattern_type": "class_definition",
      "start_line": 314,
      "end_line": 413,
      "symbols": [
        "SelfVerifier"
      ],
      "complexity": 1.9,
      "leitmotif_type": "philosophical_reflection",
      "snippet_length": 3467,
      "snippet": "  class SelfVerifier\n    def initialize(seed: 0x42D)\n      @seed = seed\n      @index = 0\n    end\n    \n    def next_index!\n      @index += 1\n    end\n    \n    # Verify a typing judgment\n    def verify(expression, cells)\n      VerificationCertificate.new(expression, cells)\n    end\n    \n    # Verify a d"
    },
    {
      "file": "lib/tdx_color_logic.rb",
      "pattern_type": "class_definition",
      "start_line": 437,
      "end_line": 536,
      "symbols": [
        "DiagramBuilder"
      ],
      "complexity": 2.2,
      "leitmotif_type": "philosophical_reflection",
      "snippet_length": 3225,
      "snippet": "  class DiagramBuilder\n    def initialize(seed: 0x42D)\n      @seed = seed\n      @index = 0\n      @wires = []\n      @boxes = []\n    end\n    \n    def wire(name, shadow: Shadow::ERGODIC)\n      cell = Cell0.new(name, shadow: shadow, seed: @seed, index: @index)\n      @index += 1\n      @wires << cell\n    "
    },
    {
      "file": "lib/worlds/form_world.rb",
      "pattern_type": "class_definition",
      "start_line": 5,
      "end_line": 14,
      "symbols": [
        "FormWorld"
      ],
      "complexity": 0.2,
      "leitmotif_type": "philosophical_reflection",
      "snippet_length": 210,
      "snippet": "class FormWorld < MusicalWorlds::World\n  def initialize\n    # Metric: Distance between formal structures\n    metric = lambda do |f1, f2|\n      f1 == f2 ? 0 : 2\n    end\n    super(\"Form World\", metric)\n  end\nend\n"
    },
    {
      "file": "lib/worlds/modulation_world.rb",
      "pattern_type": "function_definition",
      "start_line": 16,
      "end_line": 65,
      "symbols": [
        "initialize"
      ],
      "complexity": 1.5,
      "leitmotif_type": "philosophical_reflection",
      "snippet_length": 1437,
      "snippet": "  def initialize\n    # Metric: chromatic distance between keys\n    # Shorter paths indicate closer harmonic relationships\n    metric = lambda { |key1, key2|\n      # Extract key names from objects\n      k1 = key1.is_a?(String) ? key1 : (key1.respond_to?(:from_key) ? key1.from_key : key1.to_s)\n      k"
    },
    {
      "file": "lib/worlds/modulation_world.rb",
      "pattern_type": "function_definition",
      "start_line": 34,
      "end_line": 83,
      "symbols": [
        "add_key"
      ],
      "complexity": 1.5,
      "leitmotif_type": "philosophical_reflection",
      "snippet_length": 1447,
      "snippet": "  def add_key(key)\n    @objects.add(key)\n    @keys_visited.add(key)\n  end\n\n  # Add modulation between two keys\n  def add_modulation(from_key, to_key, type = :direct, pivot_chord = nil)\n    add_key(from_key)\n    add_key(to_key)\n\n    mod = Modulation.new(from_key, to_key, type, pivot_chord)\n    @objec"
    },
    {
      "file": "lib/worlds/modulation_world.rb",
      "pattern_type": "function_definition",
      "start_line": 40,
      "end_line": 89,
      "symbols": [
        "add_modulation"
      ],
      "complexity": 1.3,
      "leitmotif_type": "philosophical_reflection",
      "snippet_length": 1450,
      "snippet": "  def add_modulation(from_key, to_key, type = :direct, pivot_chord = nil)\n    add_key(from_key)\n    add_key(to_key)\n\n    mod = Modulation.new(from_key, to_key, type, pivot_chord)\n    @objects.add(mod)\n    mod\n  end\n\n  # Add complete modulation path\n  def add_modulation_path(keys)\n    path = Modulati"
    },
    {
      "file": "lib/worlds/modulation_world.rb",
      "pattern_type": "function_definition",
      "start_line": 50,
      "end_line": 99,
      "symbols": [
        "add_modulation_path"
      ],
      "complexity": 1.3,
      "leitmotif_type": "philosophical_reflection",
      "snippet_length": 1491,
      "snippet": "  def add_modulation_path(keys)\n    path = ModulationPath.new(keys)\n    @modulation_paths << path\n\n    keys.each { |k| add_key(k) }\n    path\n  end\n\n  # Analyze modulation between two keys\n  def analyze_modulation(from_key, to_key)\n    distance = Modulation.chromatic_distance(from_key, to_key)\n    ci"
    },
    {
      "file": "lib/worlds/modulation_world.rb",
      "pattern_type": "function_definition",
      "start_line": 59,
      "end_line": 108,
      "symbols": [
        "analyze_modulation"
      ],
      "complexity": 0.6,
      "leitmotif_type": "philosophical_reflection",
      "snippet_length": 1563,
      "snippet": "  def analyze_modulation(from_key, to_key)\n    distance = Modulation.chromatic_distance(from_key, to_key)\n    circle_distance = Modulation.circle_of_fifths_distance(from_key, to_key)\n    common_tone_dist = Modulation.common_tone_distance(from_key, to_key)\n    pivot = Modulation.analyze_pivot_chord(f"
    },
    {
      "file": "lib/worlds/modulation_world.rb",
      "pattern_type": "function_definition",
      "start_line": 77,
      "end_line": 126,
      "symbols": [
        "triangle_inequality_in_keys"
      ],
      "complexity": 1.8,
      "leitmotif_type": "philosophical_reflection",
      "snippet_length": 1284,
      "snippet": "  def triangle_inequality_in_keys(key1, key2, key3)\n    d12 = Modulation.chromatic_distance(key1, key2)\n    d23 = Modulation.chromatic_distance(key2, key3)\n    d13 = Modulation.chromatic_distance(key1, key3)\n\n    satisfied = d13 <= d12 + d23\n\n    {\n      keys: [key1, key2, key3],\n      d12: d12,\n   "
    },
    {
      "file": "lib/worlds/modulation_world.rb",
      "pattern_type": "function_definition",
      "start_line": 95,
      "end_line": 138,
      "symbols": [
        "semantic_closure_validation"
      ],
      "complexity": 2.5,
      "leitmotif_type": "philosophical_reflection",
      "snippet_length": 1124,
      "snippet": "  def semantic_closure_validation\n    {\n      pitch_space: @keys_visited.length > 0,\n      chord_space: @modulation_paths.length > 0,\n      metric_valid: validate_metric_space[:valid],\n      appearance: @objects.length > 0,\n      transformations_necessary: verify_transposition_rules,\n      consisten"
    },
    {
      "file": "lib/worlds/modulation_world.rb",
      "pattern_type": "function_definition",
      "start_line": 110,
      "end_line": 138,
      "symbols": [
        "determine_modulation_type"
      ],
      "complexity": 2.3,
      "leitmotif_type": "philosophical_reflection",
      "snippet_length": 678,
      "snippet": "  def determine_modulation_type(chromatic_dist, common_tone_dist)\n    case\n    when common_tone_dist <= 1\n      :pivot_chord\n    when chromatic_dist <= 2\n      :chromatic\n    else\n      :direct\n    end\n  end\n\n  def verify_transposition_rules\n    # Transposition preserves interval relationships\n    #"
    },
    {
      "file": "lib/worlds/modulation_world.rb",
      "pattern_type": "class_definition",
      "start_line": 13,
      "end_line": 138,
      "symbols": [
        "ModulationWorld"
      ],
      "complexity": 4.2,
      "leitmotif_type": "philosophical_reflection",
      "snippet_length": 3450,
      "snippet": "class ModulationWorld < MusicalWorlds::World\n  attr_reader :modulation_paths, :keys_visited\n\n  def initialize\n    # Metric: chromatic distance between keys\n    # Shorter paths indicate closer harmonic relationships\n    metric = lambda { |key1, key2|\n      # Extract key names from objects\n      k1 = "
    },
    {
      "file": "lib/worlds/structural_world.rb",
      "pattern_type": "class_definition",
      "start_line": 5,
      "end_line": 14,
      "symbols": [
        "StructuralWorld"
      ],
      "complexity": 0.7,
      "leitmotif_type": "philosophical_reflection",
      "snippet_length": 261,
      "snippet": "class StructuralWorld < MusicalWorlds::World\n  def initialize\n    # Metric: Binary - 0 if same cadence type, 1 if different\n    metric = lambda do |p1, p2|\n      p1.cadence == p2.cadence ? 0 : 1\n    end\n    super(\"Structural World (Phrases)\", metric)\n  end\nend\n"
    }
  ],
  "network_building": [
    {
      "file": "lib/girard_colors.rb",
      "pattern_type": "function_definition",
      "start_line": 51,
      "end_line": 100,
      "symbols": [
        "self"
      ],
      "complexity": 3.9,
      "leitmotif_type": "network_building",
      "snippet_length": 1255,
      "snippet": "  def self.polarity_to_mode(polarity)\n    case polarity\n    when :positive then :major\n    when :negative then :minor\n    when :neutral  then :dorian  # balanced\n    end\n  end\n\n  # Convert Girard color to LCH\n  def self.to_lch(color_name, lightness: 65, chroma: 50)\n    color = PALETTE[color_name.to_"
    },
    {
      "file": "lib/girard_colors.rb",
      "pattern_type": "function_definition",
      "start_line": 60,
      "end_line": 109,
      "symbols": [
        "self"
      ],
      "complexity": 2.9,
      "leitmotif_type": "network_building",
      "snippet_length": 1274,
      "snippet": "  def self.to_lch(color_name, lightness: 65, chroma: 50)\n    color = PALETTE[color_name.to_sym]\n    return nil unless color\n    { L: lightness, C: chroma, H: color[:hue] }\n  end\n\n  # Proof net edge to musical interval\n  def self.edge_to_interval(from_polarity, to_polarity, connective)\n    base = CON"
    },
    {
      "file": "lib/girard_colors.rb",
      "pattern_type": "function_definition",
      "start_line": 67,
      "end_line": 116,
      "symbols": [
        "self"
      ],
      "complexity": 2.6,
      "leitmotif_type": "network_building",
      "snippet_length": 1266,
      "snippet": "  def self.edge_to_interval(from_polarity, to_polarity, connective)\n    base = CONNECTIVE_INTERVALS[connective] || 0\n    \n    # Polarity shift adds tension\n    if from_polarity != to_polarity\n      base += 1  # Add semitone tension\n    end\n    \n    base % 12\n  end\n\n  # Cut elimination = dissonance r"
    },
    {
      "file": "lib/girard_colors.rb",
      "pattern_type": "function_definition",
      "start_line": 260,
      "end_line": 309,
      "symbols": [
        "self"
      ],
      "complexity": 5.4,
      "leitmotif_type": "network_building",
      "snippet_length": 1822,
      "snippet": "  def self.interval_variety(pitches)\n    intervals = pitches.each_cons(2).map { |a, b| (b - a) % 12 }\n    unique = intervals.uniq.size\n    unique.to_f / [intervals.size, 1].max\n  end\n\n  def self.consonance_score(pitches)\n    intervals = pitches.each_cons(2).map { |a, b| (b - a) % 12 }\n    consonant "
    },
    {
      "file": "lib/girard_colors.rb",
      "pattern_type": "function_definition",
      "start_line": 266,
      "end_line": 315,
      "symbols": [
        "self"
      ],
      "complexity": 6.2,
      "leitmotif_type": "network_building",
      "snippet_length": 1893,
      "snippet": "  def self.consonance_score(pitches)\n    intervals = pitches.each_cons(2).map { |a, b| (b - a) % 12 }\n    consonant = [0, 3, 4, 5, 7, 8, 9, 12]  # P1, m3, M3, P4, P5, m6, M6, P8\n    count = intervals.count { |i| consonant.include?(i) }\n    count.to_f / [intervals.size, 1].max\n  end\n\n  def self.polar"
    },
    {
      "file": "lib/girard_colors.rb",
      "pattern_type": "function_definition",
      "start_line": 309,
      "end_line": 323,
      "symbols": [
        "self"
      ],
      "complexity": 1.7,
      "leitmotif_type": "network_building",
      "snippet_length": 436,
      "snippet": "  def self.derive_connectives(colors)\n    colors.each_cons(2).map do |c1, c2|\n      hue_diff = (c2[:H] - c1[:H]).abs\n      case hue_diff\n      when 0...30   then :bang      # !: minimal change\n      when 30...90  then :tensor    # \u2297: parallel\n      when 90...150 then :plus      # \u2295: additive\n      w"
    },
    {
      "file": "lib/glass_bead_game.rb",
      "pattern_type": "function_definition",
      "start_line": 421,
      "end_line": 421,
      "symbols": [
        "connect_to"
      ],
      "complexity": 0.2,
      "leitmotif_type": "network_building",
      "snippet_length": 25,
      "snippet": "    def connect_to(other)"
    },
    {
      "file": "lib/glass_bead_game.rb",
      "pattern_type": "function_definition",
      "start_line": 459,
      "end_line": 459,
      "symbols": [
        "add_connection"
      ],
      "complexity": 0.2,
      "leitmotif_type": "network_building",
      "snippet_length": 41,
      "snippet": "    def add_connection(bead1, bead2, via)"
    },
    {
      "file": "lib/glass_bead_game.rb",
      "pattern_type": "class_definition",
      "start_line": 63,
      "end_line": 162,
      "symbols": [
        "Bead"
      ],
      "complexity": 4.5,
      "leitmotif_type": "network_building",
      "snippet_length": 2451,
      "snippet": "  class Bead\n    DOMAINS = [:mathematics, :music, :philosophy, :physics, :art, :language]\n    \n    attr_reader :domain, :concept, :seed, :color, :metadata\n    \n    def initialize(domain, concept, seed: nil, metadata: {})\n      @domain = domain.to_sym\n      @concept = concept\n      @seed = seed || co"
    },
    {
      "file": "lib/glass_bead_game.rb",
      "pattern_type": "class_definition",
      "start_line": 107,
      "end_line": 206,
      "symbols": [
        "PossibleWorld"
      ],
      "complexity": 4.9,
      "leitmotif_type": "network_building",
      "snippet_length": 2721,
      "snippet": "  class PossibleWorld\n    attr_reader :seed, :epoch, :beads, :invariants, :state\n    attr_accessor :accessibility\n    \n    def initialize(seed:, epoch: 0, beads: [], invariants: [])\n      @seed = seed\n      @epoch = epoch\n      @beads = beads\n      @invariants = invariants\n      @accessibility = {}\n"
    },
    {
      "file": "lib/glass_bead_game.rb",
      "pattern_type": "class_definition",
      "start_line": 357,
      "end_line": 456,
      "symbols": [
        "Hop"
      ],
      "complexity": 5.7,
      "leitmotif_type": "network_building",
      "snippet_length": 2753,
      "snippet": "    class Hop < Base\n      attr_reader :event, :truth_preserved\n      \n      def initialize(from_world:, event:, to_world: nil, truth_preserved: nil)\n        @event = event.is_a?(Event) ? event : Event.new(site: [:polarity], name: event.to_s)\n        @truth_preserved = truth_preserved\n        super("
    },
    {
      "file": "lib/glass_bead_game.rb",
      "pattern_type": "class_definition",
      "start_line": 388,
      "end_line": 487,
      "symbols": [
        "PropagatorCell"
      ],
      "complexity": 7.9,
      "leitmotif_type": "network_building",
      "snippet_length": 2747,
      "snippet": "  class PropagatorCell\n    attr_reader :domain, :knowledge, :connections\n    \n    def initialize(domain, initial_knowledge: 0.0)\n      @domain = domain\n      @knowledge = initial_knowledge\n      @connections = []\n      @info = {}\n    end\n    \n    def add_info(key, value)\n      @info[key] = value\n   "
    },
    {
      "file": "lib/glass_bead_game.rb",
      "pattern_type": "class_definition",
      "start_line": 430,
      "end_line": 529,
      "symbols": [
        "Game"
      ],
      "complexity": 8.3,
      "leitmotif_type": "network_building",
      "snippet_length": 3005,
      "snippet": "  class Game\n    attr_reader :worlds, :beads, :connections, :moves, :score, :current_world\n    \n    def initialize(seed: 1069)\n      @seed = seed\n      @rng = SplitMixTernary.new(seed)\n      @worlds = []\n      @beads = []\n      @connections = []  # [bead1, bead2, via]\n      @moves = []\n      @score "
    },
    {
      "file": "lib/group_theory.rb",
      "pattern_type": "function_definition",
      "start_line": 35,
      "end_line": 84,
      "symbols": [
        "validate_group_axioms"
      ],
      "complexity": 6.5,
      "leitmotif_type": "network_building",
      "snippet_length": 1489,
      "snippet": "  def validate_group_axioms\n    errors = []\n\n    # Axiom 1: Closure - a\u00b7b \u2208 G for all a,b \u2208 G\n    sample_size = [@elements.size, 10].min  # Sample for large groups\n    elements_sample = @elements.to_a.sample(sample_size)\n\n    errors << \"Closure violated: multiplication product not in group\" if !chec"
    },
    {
      "file": "lib/group_theory.rb",
      "pattern_type": "function_definition",
      "start_line": 62,
      "end_line": 111,
      "symbols": [
        "multiply"
      ],
      "complexity": 7.9,
      "leitmotif_type": "network_building",
      "snippet_length": 1282,
      "snippet": "  def multiply(a, b)\n    raise NotImplementedError, \"Subclasses must implement multiply(a, b)\"\n  end\n\n  # Abstract method\n  def inverse(element)\n    raise NotImplementedError, \"Subclasses must implement inverse(element)\"\n  end\n\n  # Abstract method\n  def distance(element1, element2)\n    raise NotImpl"
    },
    {
      "file": "lib/group_theory.rb",
      "pattern_type": "function_definition",
      "start_line": 67,
      "end_line": 116,
      "symbols": [
        "inverse"
      ],
      "complexity": 8.2,
      "leitmotif_type": "network_building",
      "snippet_length": 1278,
      "snippet": "  def inverse(element)\n    raise NotImplementedError, \"Subclasses must implement inverse(element)\"\n  end\n\n  # Abstract method\n  def distance(element1, element2)\n    raise NotImplementedError, \"Subclasses must implement distance(element1, element2)\"\n  end\n\n  protected\n\n  def check_closure(sample)\n   "
    },
    {
      "file": "lib/group_theory.rb",
      "pattern_type": "function_definition",
      "start_line": 72,
      "end_line": 121,
      "symbols": [
        "distance"
      ],
      "complexity": 8.0,
      "leitmotif_type": "network_building",
      "snippet_length": 1192,
      "snippet": "  def distance(element1, element2)\n    raise NotImplementedError, \"Subclasses must implement distance(element1, element2)\"\n  end\n\n  protected\n\n  def check_closure(sample)\n    sample.each do |a|\n      sample.each do |b|\n        product = multiply(a, b)\n        return false unless @elements.include?(p"
    },
    {
      "file": "lib/group_theory.rb",
      "pattern_type": "function_definition",
      "start_line": 78,
      "end_line": 125,
      "symbols": [
        "check_closure"
      ],
      "complexity": 7.8,
      "leitmotif_type": "network_building",
      "snippet_length": 1150,
      "snippet": "  def check_closure(sample)\n    sample.each do |a|\n      sample.each do |b|\n        product = multiply(a, b)\n        return false unless @elements.include?(product)\n      end\n    end\n    true\n  end\n\n  def check_identity(sample)\n    sample.each do |a|\n      return false unless multiply(@identity, a) "
    },
    {
      "file": "lib/group_theory.rb",
      "pattern_type": "function_definition",
      "start_line": 88,
      "end_line": 125,
      "symbols": [
        "check_identity"
      ],
      "complexity": 6.1,
      "leitmotif_type": "network_building",
      "snippet_length": 951,
      "snippet": "  def check_identity(sample)\n    sample.each do |a|\n      return false unless multiply(@identity, a) == a\n      return false unless multiply(a, @identity) == a\n    end\n    true\n  end\n\n  def check_inverses(sample)\n    sample.each do |a|\n      inv_a = inverse(a)\n      return false if inv_a.nil?\n      "
    },
    {
      "file": "lib/group_theory.rb",
      "pattern_type": "function_definition",
      "start_line": 96,
      "end_line": 125,
      "symbols": [
        "check_inverses"
      ],
      "complexity": 4.4,
      "leitmotif_type": "network_building",
      "snippet_length": 767,
      "snippet": "  def check_inverses(sample)\n    sample.each do |a|\n      inv_a = inverse(a)\n      return false if inv_a.nil?\n      return false unless @elements.include?(inv_a)\n      product = multiply(a, inv_a)\n      return false unless product == @identity\n    end\n    true\n  end\n\n  def check_associativity(sample"
    },
    {
      "file": "lib/group_theory.rb",
      "pattern_type": "function_definition",
      "start_line": 216,
      "end_line": 259,
      "symbols": [
        "apply_to_array"
      ],
      "complexity": 3.5,
      "leitmotif_type": "network_building",
      "snippet_length": 813,
      "snippet": "  def apply_to_array(arr)\n    arr.map { |elem| @mapping[elem] }\n  end\n\n  # Convert to cycle notation string\n  def to_cycles\n    visited = Set.new\n    cycles = []\n\n    @mapping.each_with_index do |val, idx|\n      next if visited.include?(idx)\n\n      cycle = []\n      current = idx\n      while !visited"
    },
    {
      "file": "lib/group_theory.rb",
      "pattern_type": "function_definition",
      "start_line": 221,
      "end_line": 259,
      "symbols": [
        "to_cycles"
      ],
      "complexity": 2.8,
      "leitmotif_type": "network_building",
      "snippet_length": 705,
      "snippet": "  def to_cycles\n    visited = Set.new\n    cycles = []\n\n    @mapping.each_with_index do |val, idx|\n      next if visited.include?(idx)\n\n      cycle = []\n      current = idx\n      while !visited.include?(current)\n        visited.add(current)\n        cycle << current\n        current = @mapping[current]"
    },
    {
      "file": "lib/group_theory.rb",
      "pattern_type": "function_definition",
      "start_line": 271,
      "end_line": 320,
      "symbols": [
        "multiply"
      ],
      "complexity": 5.6,
      "leitmotif_type": "network_building",
      "snippet_length": 1440,
      "snippet": "  def multiply(perm1, perm2)\n    perm1.compose(perm2)\n  end\n\n  # Inverse of a permutation\n  def inverse(perm)\n    perm.inverse\n  end\n  \n  # Verify group axioms (overridden for stochastic check on large groups)\n  def validate_group_axioms\n    # If explicit elements are provided, use base implementati"
    },
    {
      "file": "lib/group_theory.rb",
      "pattern_type": "function_definition",
      "start_line": 276,
      "end_line": 325,
      "symbols": [
        "inverse"
      ],
      "complexity": 7.4,
      "leitmotif_type": "network_building",
      "snippet_length": 1554,
      "snippet": "  def inverse(perm)\n    perm.inverse\n  end\n  \n  # Verify group axioms (overridden for stochastic check on large groups)\n  def validate_group_axioms\n    # If explicit elements are provided, use base implementation\n    return super if @n <= 8\n    \n    # For implicit symmetric groups (n > 8), we verify"
    },
    {
      "file": "lib/group_theory.rb",
      "pattern_type": "function_definition",
      "start_line": 281,
      "end_line": 330,
      "symbols": [
        "validate_group_axioms"
      ],
      "complexity": 6.7,
      "leitmotif_type": "network_building",
      "snippet_length": 1527,
      "snippet": "  def validate_group_axioms\n    # If explicit elements are provided, use base implementation\n    return super if @n <= 8\n    \n    # For implicit symmetric groups (n > 8), we verify axioms stochastically\n    errors = []\n    \n    # Generate a random sample of permutations\n    sample_size = 20\n    samp"
    },
    {
      "file": "lib/group_theory.rb",
      "pattern_type": "class_definition",
      "start_line": 22,
      "end_line": 125,
      "symbols": [
        "Group"
      ],
      "complexity": 10.0,
      "leitmotif_type": "network_building",
      "snippet_length": 2803,
      "snippet": "class Group\n  attr_reader :elements, :identity, :generators\n\n  def initialize(elements, identity, generators = nil)\n    @elements = Set.new(elements)\n    @identity = identity\n    @generators = generators || []\n    @multiplication_table = {}\n    @inverse_map = {}\n  end\n\n  # Verify group axioms\n  # Re"
    },
    {
      "file": "lib/harmonic_function.rb",
      "pattern_type": "function_definition",
      "start_line": 30,
      "end_line": 79,
      "symbols": [
        "initialize"
      ],
      "complexity": 3.1,
      "leitmotif_type": "network_building",
      "snippet_length": 1628,
      "snippet": "  def initialize(chord, function, key = nil)\n    raise \"Invalid function: #{function}\" unless FUNCTIONS.include?(function)\n\n    @chord = chord\n    @function = function\n    @key = key  # Optional: key context\n  end\n\n  # Create from chord root and context\n  def self.from_chord(chord, key_context = 'C'"
    },
    {
      "file": "lib/harmonic_function.rb",
      "pattern_type": "function_definition",
      "start_line": 109,
      "end_line": 158,
      "symbols": [
        "self"
      ],
      "complexity": 3.1,
      "leitmotif_type": "network_building",
      "snippet_length": 1639,
      "snippet": "  def self.valid_progression?(func1, func2)\n    new(nil, func1).distance_to(func2) == 1\n  end\n\n  # Cadences are terminal progressions\n  # Authentic: V \u2192 I (dominant \u2192 tonic)\n  # Plagal: IV \u2192 I (subdominant \u2192 tonic)\n  # Deceptive: V \u2192 vi (dominant \u2192 vi, broken expectation)\n  # Half: ? \u2192 V (anything \u2192"
    },
    {
      "file": "lib/harmonic_function.rb",
      "pattern_type": "function_definition",
      "start_line": 118,
      "end_line": 167,
      "symbols": [
        "self"
      ],
      "complexity": 4.1,
      "leitmotif_type": "network_building",
      "snippet_length": 1671,
      "snippet": "  def self.cadence_type(func1, func2)\n    case [func1, func2]\n    when [DOMINANT, TONIC]\n      :authentic\n    when [SUBDOMINANT, TONIC]\n      :plagal\n    when [DOMINANT, :vi]\n      :deceptive\n    when [nil, DOMINANT], [:any, DOMINANT]\n      :half\n    else\n      :other\n    end\n  end\n\n  # Functional c"
    },
    {
      "file": "lib/harmonic_function.rb",
      "pattern_type": "function_definition",
      "start_line": 134,
      "end_line": 183,
      "symbols": [
        "self"
      ],
      "complexity": 3.9,
      "leitmotif_type": "network_building",
      "snippet_length": 1697,
      "snippet": "  def self.functional_closure(chord_sequence)\n    functions = chord_sequence.map { |chord| from_chord(chord).function }\n\n    # Check if all three functions appear\n    has_tonic = functions.include?(TONIC)\n    has_subdominant = functions.include?(SUBDOMINANT)\n    has_dominant = functions.include?(DOM"
    },
    {
      "file": "lib/harmonic_function.rb",
      "pattern_type": "function_definition",
      "start_line": 162,
      "end_line": 211,
      "symbols": [
        "self"
      ],
      "complexity": 3.1,
      "leitmotif_type": "network_building",
      "snippet_length": 1571,
      "snippet": "  def self.color_to_function(color)\n    # Extract hue from color (Hash or object with .H accessor)\n    hue = case color\n           when Hash\n             color[:H] || color['H'] || 0\n           else\n             color.H || 0\n           end\n\n    # Map hue to functional zone\n    case hue\n    when 330."
    },
    {
      "file": "lib/harmonic_function.rb",
      "pattern_type": "function_definition",
      "start_line": 185,
      "end_line": 234,
      "symbols": [
        "self"
      ],
      "complexity": 3.8,
      "leitmotif_type": "network_building",
      "snippet_length": 1479,
      "snippet": "  def self.color_sequence_analysis(colors)\n    functions = colors.map { |color| color_to_function(color) }\n    closure = functional_closure_from_functions(functions)\n\n    {\n      functions: functions,\n      closure: closure,\n      has_authentic_cadence: functions.length >= 2 && functions[-2] == DOMI"
    },
    {
      "file": "lib/harmonic_function.rb",
      "pattern_type": "function_definition",
      "start_line": 200,
      "end_line": 246,
      "symbols": [
        "self"
      ],
      "complexity": 3.5,
      "leitmotif_type": "network_building",
      "snippet_length": 1177,
      "snippet": "  def self.functional_closure_from_functions(functions)\n    has_tonic = functions.include?(TONIC)\n    has_subdominant = functions.include?(SUBDOMINANT)\n    has_dominant = functions.include?(DOMINANT)\n\n    {\n      complete: has_tonic && has_subdominant && has_dominant,\n      tonic: has_tonic,\n      s"
    },
    {
      "file": "lib/harmonic_function.rb",
      "pattern_type": "class_definition",
      "start_line": 19,
      "end_line": 246,
      "symbols": [
        "HarmonicFunction"
      ],
      "complexity": 10.0,
      "leitmotif_type": "network_building",
      "snippet_length": 6928,
      "snippet": "class HarmonicFunction\n  # Three fundamental harmonic functions\n  TONIC = :tonic\n  SUBDOMINANT = :subdominant\n  DOMINANT = :dominant\n\n  # All functions as set\n  FUNCTIONS = Set.new([TONIC, SUBDOMINANT, DOMINANT])\n\n  attr_reader :function, :chord, :key\n\n  def initialize(chord, function, key = nil)\n  "
    },
    {
      "file": "lib/hvm_parallel_games.rb",
      "pattern_type": "function_definition",
      "start_line": 70,
      "end_line": 70,
      "symbols": [
        "connected?"
      ],
      "complexity": 0.2,
      "leitmotif_type": "network_building",
      "snippet_length": 18,
      "snippet": "    def connected?"
    },
    {
      "file": "lib/hvm_parallel_games.rb",
      "pattern_type": "function_definition",
      "start_line": 239,
      "end_line": 239,
      "symbols": [
        "connect"
      ],
      "complexity": 0.2,
      "leitmotif_type": "network_building",
      "snippet_length": 29,
      "snippet": "    def connect(port1, port2)"
    },
    {
      "file": "lib/hvm_parallel_games.rb",
      "pattern_type": "function_definition",
      "start_line": 338,
      "end_line": 338,
      "symbols": [
        "connect_players"
      ],
      "complexity": 0.2,
      "leitmotif_type": "network_building",
      "snippet_length": 37,
      "snippet": "    def connect_players(name1, name2)"
    },
    {
      "file": "lib/hvm_parallel_games.rb",
      "pattern_type": "class_definition",
      "start_line": 87,
      "end_line": 186,
      "symbols": [
        "Node"
      ],
      "complexity": 5.4,
      "leitmotif_type": "network_building",
      "snippet_length": 3197,
      "snippet": "  class Node\n    attr_reader :label, :ports, :color, :trit\n    attr_accessor :active\n    \n    def initialize(label:, arity:, color: nil)\n      @label = label\n      @color = color || GENESIS_CHAIN[label.hash.abs % GENESIS_CHAIN.size]\n      @trit = hue_to_trit(@color[:H])\n      @ports = Array.new(arit"
    },
    {
      "file": "lib/hvm_parallel_games.rb",
      "pattern_type": "class_definition",
      "start_line": 122,
      "end_line": 221,
      "symbols": [
        "InteractionRule"
      ],
      "complexity": 5.3,
      "leitmotif_type": "network_building",
      "snippet_length": 3357,
      "snippet": "  class InteractionRule\n    attr_reader :name, :pattern, :result, :trit_delta\n    \n    def initialize(name:, pattern:, result:, trit_delta: 0)\n      @name = name\n      @pattern = pattern  # Proc that matches two nodes\n      @result = result    # Proc that produces new nodes/wires\n      @trit_delta ="
    },
    {
      "file": "lib/hvm_parallel_games.rb",
      "pattern_type": "class_definition",
      "start_line": 215,
      "end_line": 314,
      "symbols": [
        "InteractionNet"
      ],
      "complexity": 9.6,
      "leitmotif_type": "network_building",
      "snippet_length": 2678,
      "snippet": "  class InteractionNet\n    attr_reader :nodes, :wires, :active_pairs, :stats\n    \n    def initialize\n      @nodes = []\n      @wires = []\n      @active_pairs = []\n      @stats = { reductions: 0, max_parallel: 0, gf3_sum: 0 }\n    end\n    \n    def add(node)\n      @nodes << node\n      @stats[:gf3_sum] +"
    },
    {
      "file": "lib/hvm_parallel_games.rb",
      "pattern_type": "class_definition",
      "start_line": 314,
      "end_line": 413,
      "symbols": [
        "OpenGameNet"
      ],
      "complexity": 3.0,
      "leitmotif_type": "network_building",
      "snippet_length": 3003,
      "snippet": "  class OpenGameNet\n    attr_reader :net, :players, :seed\n    \n    def initialize(seed = SplitMixTernary::DEFAULT_SEED)\n      @seed = seed\n      @net = InteractionNet.new\n      @players = {}\n      @gen = SplitMixTernary::Generator.new(seed)\n    end\n    \n    # Add a player as a node in the net\n    de"
    },
    {
      "file": "lib/maximum_dynamism.rb",
      "pattern_type": "class_definition",
      "start_line": 262,
      "end_line": 361,
      "symbols": [
        "PitchDerangement"
      ],
      "complexity": 6.0,
      "leitmotif_type": "network_building",
      "snippet_length": 2888,
      "snippet": "  class PitchDerangement\n    attr_accessor :enabled, :intensity, :strategy, :strategies,\n                  :microtonal, :octave_displacement, :scale_lock, :range\n    \n    def initialize(\n      enabled: true,\n      intensity: 0.3,\n      strategy: :gaussian,\n      strategies: nil,\n      microtonal: fa"
    },
    {
      "file": "lib/ramanujan_nats_coordinator.rb",
      "pattern_type": "function_definition",
      "start_line": 392,
      "end_line": 434,
      "symbols": [
        "self"
      ],
      "complexity": 0.6,
      "leitmotif_type": "network_building",
      "snippet_length": 1246,
      "snippet": "    def self.properties\n      {\n        prime: 3,\n        dimension: 2,\n        vertex_count: 9,\n        edges_per_vertex: 3,  # (q+1) = 3+1 = 4, but we use ternary\n        spectral_gap: 2.0,\n        mixing_time: (Math.log(9) / 2.0).round(2),\n        diameter: 2,  # Maximum distance between any two "
    },
    {
      "file": "lib/ramanujan_nats_coordinator.rb",
      "pattern_type": "function_definition",
      "start_line": 405,
      "end_line": 434,
      "symbols": [
        "self"
      ],
      "complexity": 0.4,
      "leitmotif_type": "network_building",
      "snippet_length": 888,
      "snippet": "    def self.adjacency_matrix\n      # 9\u00d79 Ramanujan graph adjacency\n      # For 3^2 lattice:\n      # 0 connects to 1, 3, 6\n      # 1 connects to 0, 2, 4, 7\n      # etc. (ternary grid structure)\n      [\n        [0, 1, 0, 1, 0, 0, 1, 0, 0],  # 0\n        [1, 0, 1, 0, 1, 0, 0, 1, 0],  # 1\n        [0, 1,"
    },
    {
      "file": "lib/seed_miner_42d.rb",
      "pattern_type": "function_definition",
      "start_line": 209,
      "end_line": 209,
      "symbols": [
        "self"
      ],
      "complexity": 0.2,
      "leitmotif_type": "network_building",
      "snippet_length": 36,
      "snippet": "  def self.girard_symbol(connective)"
    },
    {
      "file": "lib/skill_1069_generator.rb",
      "pattern_type": "class_definition",
      "start_line": 86,
      "end_line": 185,
      "symbols": [
        "Derangement"
      ],
      "complexity": 7.4,
      "leitmotif_type": "network_building",
      "snippet_length": 2967,
      "snippet": "  class Derangement\n    def initialize(seed)\n      @gen = SplitMixTernary::Generator.new(seed)\n    end\n    \n    # Generate a derangement of size n using Sattolo's algorithm\n    def generate(items)\n      arr = items.dup\n      n = arr.size\n      (n - 1).downto(1) do |i|\n        j = (@gen.next_u64 % i)"
    },
    {
      "file": "lib/skill_1069_generator.rb",
      "pattern_type": "class_definition",
      "start_line": 113,
      "end_line": 212,
      "symbols": [
        "RamanujanComplex"
      ],
      "complexity": 8.2,
      "leitmotif_type": "network_building",
      "snippet_length": 3140,
      "snippet": "  class RamanujanComplex\n    attr_reader :vertices, :edges, :seed\n    \n    def initialize(n_vertices, seed)\n      @n = n_vertices\n      @seed = seed\n      @gen = SplitMixTernary::Generator.new(seed)\n      @vertices = (0...n_vertices).to_a\n      @edges = []\n      @adjacency = Hash.new { |h, k| h[k] ="
    },
    {
      "file": "lib/skill_1069_generator.rb",
      "pattern_type": "class_definition",
      "start_line": 185,
      "end_line": 284,
      "symbols": [
        "Generator"
      ],
      "complexity": 4.4,
      "leitmotif_type": "network_building",
      "snippet_length": 3195,
      "snippet": "  class Generator\n    attr_reader :skills, :seed\n    \n    def initialize(seed = SplitMixTernary::DEFAULT_SEED)\n      @seed = seed\n      @gen = SplitMixTernary::Generator.new(seed)\n      @streams = SplitMixTernary::TripartiteStreams.new(seed)\n      @derangement = Derangement.new(seed)\n      @skills ="
    },
    {
      "file": "lib/skill_sonification.rb",
      "pattern_type": "class_definition",
      "start_line": 387,
      "end_line": 486,
      "symbols": [
        "MatrixFactory"
      ],
      "complexity": 5.4,
      "leitmotif_type": "network_building",
      "snippet_length": 3547,
      "snippet": "  class MatrixFactory\n    def self.from_filesystem(skills_dir:, worlds_dir:)\n      matrix = SkillAvailabilityMatrix.new\n\n      # Load skills\n      Dir.glob(File.join(skills_dir, '**/SKILL.md')).each do |path|\n        name = File.basename(File.dirname(path))\n        content = File.read(path)\n\n       "
    },
    {
      "file": "lib/sonic_pi_renderer.rb",
      "pattern_type": "function_definition",
      "start_line": 10,
      "end_line": 10,
      "symbols": [
        "initialize"
      ],
      "complexity": 0.2,
      "leitmotif_type": "network_building",
      "snippet_length": 67,
      "snippet": "  def initialize(synth: :sine, duration_factor: 1.0, use_osc: true)"
    },
    {
      "file": "lib/sonic_pi_renderer.rb",
      "pattern_type": "class_definition",
      "start_line": 4,
      "end_line": 103,
      "symbols": [
        "SonicPiRenderer"
      ],
      "complexity": 6.6,
      "leitmotif_type": "network_building",
      "snippet_length": 3225,
      "snippet": "class SonicPiRenderer\n  attr_reader :synth, :duration_factor\n\n  # Standard ports:\n  # 4559: User OSC (requires live_loop sync in Sonic Pi)\n  # 4557: Server OSC (direct code execution, \"God Mode\", legacy/internal)\n  def initialize(synth: :sine, duration_factor: 1.0, use_osc: true)\n    @synth = synth\n"
    },
    {
      "file": "lib/spi_parallel.rb",
      "pattern_type": "class_definition",
      "start_line": 37,
      "end_line": 136,
      "symbols": [
        "SPIVerifier"
      ],
      "complexity": 7.3,
      "leitmotif_type": "network_building",
      "snippet_length": 3077,
      "snippet": "  class SPIVerifier\n    attr_reader :seed, :results\n    \n    def initialize(seed = SplitMixTernary::DEFAULT_SEED)\n      @seed = seed\n      @results = {}\n    end\n    \n    # Verify SPI across multiple execution strategies\n    def verify!(indices: (1..100).to_a, strategies: [:sequential, :reversed, :sh"
    },
    {
      "file": "lib/synadia_broadcast.rb",
      "pattern_type": "function_definition",
      "start_line": 161,
      "end_line": 161,
      "symbols": [
        "connect!"
      ],
      "complexity": 0.2,
      "leitmotif_type": "network_building",
      "snippet_length": 16,
      "snippet": "    def connect!"
    },
    {
      "file": "lib/synadia_broadcast.rb",
      "pattern_type": "function_definition",
      "start_line": 186,
      "end_line": 186,
      "symbols": [
        "disconnect!"
      ],
      "complexity": 0.2,
      "leitmotif_type": "network_building",
      "snippet_length": 19,
      "snippet": "    def disconnect!"
    },
    {
      "file": "lib/synadia_broadcast.rb",
      "pattern_type": "function_definition",
      "start_line": 310,
      "end_line": 310,
      "symbols": [
        "connect!"
      ],
      "complexity": 0.2,
      "leitmotif_type": "network_building",
      "snippet_length": 16,
      "snippet": "    def connect!"
    },
    {
      "file": "lib/synadia_broadcast.rb",
      "pattern_type": "function_definition",
      "start_line": 322,
      "end_line": 322,
      "symbols": [
        "disconnect!"
      ],
      "complexity": 0.2,
      "leitmotif_type": "network_building",
      "snippet_length": 19,
      "snippet": "    def disconnect!"
    },
    {
      "file": "lib/tailscale_file_transfer_skill.rb",
      "pattern_type": "function_definition",
      "start_line": 37,
      "end_line": 86,
      "symbols": [
        "initialize"
      ],
      "complexity": 2.3,
      "leitmotif_type": "network_building",
      "snippet_length": 1894,
      "snippet": "  def initialize(tailscale_socket: nil, seed: SplitMixTernary::DEFAULT_SEED)\n    @seed = seed\n    @tailscale_socket = tailscale_socket\n    @file_buffer = {}      # Buffer for in-transit files\n    @transfer_log = []     # History of all transfers\n    @mesh_graph = {}       # Tailscale network topolog"
    },
    {
      "file": "lib/tailscale_file_transfer_skill.rb",
      "pattern_type": "function_definition",
      "start_line": 52,
      "end_line": 101,
      "symbols": [
        "initialize_tailscale_bridge"
      ],
      "complexity": 2.3,
      "leitmotif_type": "network_building",
      "snippet_length": 1720,
      "snippet": "  def initialize_tailscale_bridge\n    # Simulate Tailscale network discovery (would use tailscale CLI in production)\n    @tailscale_api = TailscaleAPIBridge.new(@seed)\n    discover_mesh_peers\n  end\n\n  def discover_mesh_peers\n    # Discover available Tailscale peers in mesh network\n    @mesh_graph = "
    },
    {
      "file": "lib/tailscale_file_transfer_skill.rb",
      "pattern_type": "function_definition",
      "start_line": 58,
      "end_line": 107,
      "symbols": [
        "discover_mesh_peers"
      ],
      "complexity": 2.1,
      "leitmotif_type": "network_building",
      "snippet_length": 1735,
      "snippet": "  def discover_mesh_peers\n    # Discover available Tailscale peers in mesh network\n    @mesh_graph = @tailscale_api.discover_peers\n    puts \"[TailscaleFileTransfer] Discovered #{@mesh_graph.size} peers in mesh network\"\n  end\n\n  def resolve_recipient(recipient_identifier)\n    # Resolve recipient iden"
    },
    {
      "file": "lib/tailscale_file_transfer_skill.rb",
      "pattern_type": "function_definition",
      "start_line": 64,
      "end_line": 113,
      "symbols": [
        "resolve_recipient"
      ],
      "complexity": 1.9,
      "leitmotif_type": "network_building",
      "snippet_length": 1667,
      "snippet": "  def resolve_recipient(recipient_identifier)\n    # Resolve recipient identifier (user, hostname, or IP) to Tailscale IP\n    case recipient_identifier\n    when /^([a-zA-Z0-9.-]+)@coplay$/\n      # Named coplay identifier\n      username = $1\n      @mesh_graph.find { |peer| peer[:user] == username }&.["
    },
    {
      "file": "lib/tailscale_file_transfer_skill.rb",
      "pattern_type": "function_definition",
      "start_line": 265,
      "end_line": 314,
      "symbols": [
        "execute_transfer"
      ],
      "complexity": 3.2,
      "leitmotif_type": "network_building",
      "snippet_length": 1529,
      "snippet": "  def execute_transfer(transfer_context, strategy)\n    transfer_id = transfer_context[:transfer_id]\n    file_path = transfer_context[:file_path]\n    file_size = transfer_context[:file_size]\n    recipient_ip = transfer_context[:recipient_ip]\n\n    file_data = File.read(file_path)\n    start_time = Time"
    },
    {
      "file": "lib/tailscale_file_transfer_skill.rb",
      "pattern_type": "class_definition",
      "start_line": 23,
      "end_line": 471,
      "symbols": [
        "TailscaleFileTransferSkill"
      ],
      "complexity": 10.0,
      "leitmotif_type": "network_building",
      "snippet_length": 14547,
      "snippet": "class TailscaleFileTransferSkill\n  include HedgesOpenGames\n\n  # \u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\n  # CONFIGURATION\n  # \u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\n\n  DEFAULT_TAILSCALE_PORT = 22\n  DEFAULT_TRANSFER_PORT"
    },
    {
      "file": "lib/tailscale_file_transfer_skill.rb",
      "pattern_type": "class_definition",
      "start_line": 472,
      "end_line": 571,
      "symbols": [
        "TailscaleAPIBridge"
      ],
      "complexity": 4.5,
      "leitmotif_type": "network_building",
      "snippet_length": 3070,
      "snippet": "class TailscaleAPIBridge\n  attr_reader :seed, :peers\n\n  def initialize(seed = SplitMixTernary::DEFAULT_SEED)\n    @seed = seed\n    @peers = []\n    initialize_mock_network\n  end\n\n  def initialize_mock_network\n    # Create a mock Tailscale mesh network\n    @peers = [\n      { user: \"alice\", hostname: \"a"
    },
    {
      "file": "lib/three_match_geodesic_gadget.rb",
      "pattern_type": "function_definition",
      "start_line": 241,
      "end_line": 241,
      "symbols": [
        "add_clause"
      ],
      "complexity": 0.2,
      "leitmotif_type": "network_building",
      "snippet_length": 27,
      "snippet": "    def add_clause(x, y, z)"
    },
    {
      "file": "lib/three_match_geodesic_gadget.rb",
      "pattern_type": "class_definition",
      "start_line": 224,
      "end_line": 323,
      "symbols": [
        "ColoredSubgraphGadget"
      ],
      "complexity": 5.7,
      "leitmotif_type": "network_building",
      "snippet_length": 2983,
      "snippet": "  class ColoredSubgraphGadget\n    attr_reader :clauses, :gadgets\n    \n    COLORS = {\n      true: :plus,     # +1, satisfying assignment\n      false: :minus,   # -1, falsifying assignment  \n      unset: :ergodic  # 0, unassigned\n    }\n    \n    def initialize(seed: 0x42D)\n      @seed = seed\n      @cla"
    },
    {
      "file": "lib/voice_leading.rb",
      "pattern_type": "class_definition",
      "start_line": 4,
      "end_line": 86,
      "symbols": [
        "VoiceLeading"
      ],
      "complexity": 7.1,
      "leitmotif_type": "network_building",
      "snippet_length": 2362,
      "snippet": "class VoiceLeading\n  # SATB Range Constraints (MIDI notes)\n  RANGES = {\n    soprano: (60..81), # C4 to A5\n    alto:    (55..74), # G3 to D5\n    tenor:   (48..69), # C3 to A4\n    bass:    (40..60)  # E2 to C4\n  }\n\n  def self.validate_satb(chord, octaves)\n    errors = []\n    \n    # Check voice counts\n"
    },
    {
      "file": "lib/von_neumann.rb",
      "pattern_type": "class_definition",
      "start_line": 109,
      "end_line": 208,
      "symbols": [
        "Machine"
      ],
      "complexity": 5.8,
      "leitmotif_type": "network_building",
      "snippet_length": 2928,
      "snippet": "  class Machine\n    attr_reader :state, :history, :cycle_count\n\n    def initialize(memory_size: 256)\n      @state = MachineState.new(memory_size: memory_size)\n      @history = []\n      @cycle_count = 0\n      @input_buffer = []\n      @output_buffer = []\n    end\n\n    def load(program)\n      program.ea"
    },
    {
      "file": "lib/world_demo_topos.rb",
      "pattern_type": "class_definition",
      "start_line": 165,
      "end_line": 264,
      "symbols": [
        "DemoRunner"
      ],
      "complexity": 7.6,
      "leitmotif_type": "network_building",
      "snippet_length": 2822,
      "snippet": "  class DemoRunner\n    attr_reader :streams, :results, :history\n    \n    def initialize(seed = 0x42D)\n      @seed = seed\n      @streams = Xoroshiro3Color::TripartiteStreams.new(seed)\n      @results = {}\n      @history = []\n    end\n    \n    # Run a single demo\n    def run_demo(name)\n      demo = DEMO"
    },
    {
      "file": "lib/worlds.rb",
      "pattern_type": "class_definition",
      "start_line": 7,
      "end_line": 106,
      "symbols": [
        "World"
      ],
      "complexity": 9.7,
      "leitmotif_type": "network_building",
      "snippet_length": 2735,
      "snippet": "  class World\n    attr_reader :objects, :metric, :name\n\n    def initialize(name, metric_fn)\n      @name = name\n      @metric = metric_fn\n      @objects = Set.new\n    end\n\n    def add_object(obj)\n      @objects.add(obj)\n    end\n\n    def appearance(obj)\n      exists = @objects.include?(obj)\n      tota"
    },
    {
      "file": "lib/worlds.rb",
      "pattern_type": "class_definition",
      "start_line": 107,
      "end_line": 158,
      "symbols": [
        "HarmonicWorld"
      ],
      "complexity": 3.4,
      "leitmotif_type": "network_building",
      "snippet_length": 1326,
      "snippet": "  class HarmonicWorld < World\n    FUNCTIONS = {T: 0, S: 1, D: 2}\n\n    def self.functional_metric\n      lambda do |f1, f2|\n        return 0 if f1 == f2\n        # T-S-D distance logic\n        # T <-> S : 1\n        # S <-> D : 1\n        # T <-> D : 2 (via S, usually) - or direct if we consider them con"
    },
    {
      "file": "lib/xoroshiro_3color.rb",
      "pattern_type": "function_definition",
      "start_line": 327,
      "end_line": 327,
      "symbols": [
        "add_rule"
      ],
      "complexity": 0.2,
      "leitmotif_type": "network_building",
      "snippet_length": 64,
      "snippet": "    def add_rule(name, pattern, replacement, required_trit: nil)"
    },
    {
      "file": "lib/xoroshiro_3color.rb",
      "pattern_type": "class_definition",
      "start_line": 37,
      "end_line": 136,
      "symbols": [
        "Xoroshiro128StarStar"
      ],
      "complexity": 4.9,
      "leitmotif_type": "network_building",
      "snippet_length": 2642,
      "snippet": "  class Xoroshiro128StarStar\n    attr_reader :s0, :s1\n    \n    def initialize(seed)\n      # Initialize with SplitMix64 to avoid poor seeding\n      @s0 = splitmix64_init(seed)\n      @s1 = splitmix64_init(@s0)\n    end\n    \n    def splitmix64_init(x)\n      z = (x + 0x9e3779b97f4a7c15) & MASK64\n      z "
    },
    {
      "file": "lib/xoroshiro_3color.rb",
      "pattern_type": "class_definition",
      "start_line": 241,
      "end_line": 340,
      "symbols": [
        "TripartiteStreams"
      ],
      "complexity": 5.3,
      "leitmotif_type": "network_building",
      "snippet_length": 2865,
      "snippet": "  class TripartiteStreams\n    attr_reader :minus, :ergodic, :plus, :history\n    \n    def initialize(seed = 0x6761795f636f6c6f)\n      @seed = seed\n      @minus = ColorStream.new(:minus, seed)\n      @ergodic = ColorStream.new(:ergodic, seed)\n      @plus = ColorStream.new(:plus, seed)\n      @history = "
    },
    {
      "file": "lib/xoroshiro_3color.rb",
      "pattern_type": "class_definition",
      "start_line": 315,
      "end_line": 414,
      "symbols": [
        "RewritingGadget"
      ],
      "complexity": 3.2,
      "leitmotif_type": "network_building",
      "snippet_length": 3222,
      "snippet": "  class RewritingGadget\n    # A rewriting rule that preserves 3-coloring\n    Rule = Struct.new(:name, :pattern, :replacement, :color_constraint)\n    \n    attr_reader :streams, :rules\n    \n    def initialize(seed = 0x42D)\n      @streams = TripartiteStreams.new(seed)\n      @rules = []\n    end\n    \n   "
    }
  ],
  "musical_creation": [
    {
      "file": "bin/interactive_repl.rb",
      "pattern_type": "class_definition",
      "start_line": 24,
      "end_line": 123,
      "symbols": [
        "InteractiveRepl"
      ],
      "complexity": 7.0,
      "leitmotif_type": "musical_creation",
      "snippet_length": 2520,
      "snippet": "class InteractiveRepl\n  def initialize\n    @synthesis = AudioSynthesis.new(output_file: '/tmp/interactive_composition.wav')\n    @last_chord = nil\n    @composition_history = []\n  end\n\n  def run\n    puts \"=\" * 80\n    puts \"\ud83c\udfb5 MUSIC TOPOS INTERACTIVE REPL\"\n    puts \"=\" * 80\n    puts \"\"\n    puts \"Real-ti"
    },
    {
      "file": "bin/pattern_runs_on_matter.rb",
      "pattern_type": "function_definition",
      "start_line": 408,
      "end_line": 408,
      "symbols": [
        "send_s_new"
      ],
      "complexity": 0.2,
      "leitmotif_type": "musical_creation",
      "snippet_length": 48,
      "snippet": "  def send_s_new(synth, node_id, freq, amp, dur)"
    },
    {
      "file": "bin/play_curriculum.rb",
      "pattern_type": "function_definition",
      "start_line": 99,
      "end_line": 99,
      "symbols": [
        "encode_s_new"
      ],
      "complexity": 0.2,
      "leitmotif_type": "musical_creation",
      "snippet_length": 69,
      "snippet": "    def encode_s_new(synth_name, node_id, add_action, target, params)"
    },
    {
      "file": "bin/play_curriculum.rb",
      "pattern_type": "class_definition",
      "start_line": 15,
      "end_line": 114,
      "symbols": [
        "CurriculumRunner"
      ],
      "complexity": 6.8,
      "leitmotif_type": "musical_creation",
      "snippet_length": 2594,
      "snippet": "  class CurriculumRunner\n    DEFAULT_TEMPO = 90\n    DEFAULT_WAV_PATH = '/tmp/curriculum.wav'\n\n    def initialize(mode:, tempo:, world:)\n      @mode = mode\n      @tempo = tempo\n      @world = world\n    end\n\n    def run\n      events = compile_events\n      puts \"\ud83c\udfb5 Curriculum: #{@world} world (#{events."
    },
    {
      "file": "lib/audio_synthesis.rb",
      "pattern_type": "function_definition",
      "start_line": 9,
      "end_line": 9,
      "symbols": [
        "initialize"
      ],
      "complexity": 0.2,
      "leitmotif_type": "musical_creation",
      "snippet_length": 47,
      "snippet": "  def initialize(output_file: '/tmp/audio.wav')"
    },
    {
      "file": "lib/audio_synthesis.rb",
      "pattern_type": "function_definition",
      "start_line": 73,
      "end_line": 73,
      "symbols": [
        "generate_sine_wave"
      ],
      "complexity": 0.2,
      "leitmotif_type": "musical_creation",
      "snippet_length": 56,
      "snippet": "  def generate_sine_wave(frequency, duration, amplitude)"
    },
    {
      "file": "lib/audio_synthesis.rb",
      "pattern_type": "function_definition",
      "start_line": 82,
      "end_line": 82,
      "symbols": [
        "generate_mixed_wave_float"
      ],
      "complexity": 0.2,
      "leitmotif_type": "musical_creation",
      "snippet_length": 65,
      "snippet": "  def generate_mixed_wave_float(frequencies, duration, amplitude)"
    },
    {
      "file": "lib/audio_synthesis.rb",
      "pattern_type": "function_definition",
      "start_line": 97,
      "end_line": 97,
      "symbols": [
        "generate_mixed_wave"
      ],
      "complexity": 0.2,
      "leitmotif_type": "musical_creation",
      "snippet_length": 59,
      "snippet": "  def generate_mixed_wave(frequencies, duration, amplitude)"
    },
    {
      "file": "lib/audio_synthesis.rb",
      "pattern_type": "class_definition",
      "start_line": 4,
      "end_line": 103,
      "symbols": [
        "AudioSynthesis"
      ],
      "complexity": 9.4,
      "leitmotif_type": "musical_creation",
      "snippet_length": 2937,
      "snippet": "class AudioSynthesis\n  SAMPLE_RATE = 44100\n  BIT_DEPTH = 16\n  MAX_AMPLITUDE = 32767 # 2^15 - 1\n\n  def initialize(output_file: '/tmp/audio.wav')\n    @output_file = output_file\n  end\n\n  def render_score(score_events, tempo: 120)\n    return @output_file if score_events.empty?\n\n    seconds_per_beat = 60"
    },
    {
      "file": "lib/event_scheduler.rb",
      "pattern_type": "class_definition",
      "start_line": 4,
      "end_line": 103,
      "symbols": [
        "EventScheduler"
      ],
      "complexity": 7.1,
      "leitmotif_type": "musical_creation",
      "snippet_length": 2343,
      "snippet": "class EventScheduler\n  DEFAULT_SC_PORT = 57110\n  DEFAULT_SC_HOST = '127.0.0.1'\n\n  attr_reader :tempo, :play_event\n\n  def initialize(tempo:, play_event: nil, sc_host: DEFAULT_SC_HOST, sc_port: DEFAULT_SC_PORT)\n    @tempo = tempo.to_f\n    @play_event = play_event || method(:default_play_event)\n    @sc"
    },
    {
      "file": "lib/jungle_involution.rb",
      "pattern_type": "class_definition",
      "start_line": 243,
      "end_line": 342,
      "symbols": [
        "BassEngine"
      ],
      "complexity": 4.2,
      "leitmotif_type": "musical_creation",
      "snippet_length": 2568,
      "snippet": "  class BassEngine\n    def initialize(tempo_field)\n      @tempo = tempo_field\n      @root = 36  # Low C\n      @current_note = @root\n      @movement_probability = 0.4\n      @intervals = [-5, -3, 0, 2, 4, 7, 12]  # Dark intervals\n    end\n    \n    def generate_bar\n      events = []\n      \n      # Bass "
    },
    {
      "file": "lib/opn/arpeggios.rb",
      "pattern_type": "function_definition",
      "start_line": 68,
      "end_line": 68,
      "symbols": [
        "self"
      ],
      "complexity": 0.2,
      "leitmotif_type": "musical_creation",
      "snippet_length": 51,
      "snippet": "    def self.filter_sweep_arp(chord, duration: 8.0)"
    },
    {
      "file": "lib/opn/arpeggios.rb",
      "pattern_type": "class_definition",
      "start_line": 24,
      "end_line": 93,
      "symbols": [
        "Arpeggiator"
      ],
      "complexity": 3.3,
      "leitmotif_type": "musical_creation",
      "snippet_length": 1889,
      "snippet": "    class Arpeggiator\n      def initialize(chord, pattern: :up, octaves: 2, rate: 0.125)\n        @chord = chord.sort\n        @pattern = pattern\n        @octaves = octaves\n        @rate = rate  # beats per note\n      end\n      \n      def generate(bars: 4)\n        # Build full note set across octaves\n"
    },
    {
      "file": "lib/opn/granular.rb",
      "pattern_type": "class_definition",
      "start_line": 13,
      "end_line": 83,
      "symbols": [
        "GrainCloud"
      ],
      "complexity": 2.7,
      "leitmotif_type": "musical_creation",
      "snippet_length": 2116,
      "snippet": "    class GrainCloud\n      def initialize(center_pitch: 60, density: 100, scatter: 12, duration: 8.0)\n        @center = center_pitch\n        @density = density  # grains per second\n        @scatter = scatter  # semitones\n        @duration = duration\n      end\n      \n      def generate\n        events"
    },
    {
      "file": "lib/opn/spectral.rb",
      "pattern_type": "function_definition",
      "start_line": 64,
      "end_line": 64,
      "symbols": [
        "self"
      ],
      "complexity": 0.2,
      "leitmotif_type": "musical_creation",
      "snippet_length": 60,
      "snippet": "    def self.cross_synthesis(events_a, events_b, blend: 0.5)"
    },
    {
      "file": "lib/opn/spectral.rb",
      "pattern_type": "function_definition",
      "start_line": 87,
      "end_line": 87,
      "symbols": [
        "self"
      ],
      "complexity": 0.2,
      "leitmotif_type": "musical_creation",
      "snippet_length": 48,
      "snippet": "    def self.formant_filter(events, formant: :a)"
    },
    {
      "file": "lib/opn/vocoder.rb",
      "pattern_type": "function_definition",
      "start_line": 81,
      "end_line": 81,
      "symbols": [
        "self"
      ],
      "complexity": 0.2,
      "leitmotif_type": "musical_creation",
      "snippet_length": 49,
      "snippet": "    def self.synth_choir(root: 48, duration: 4.0)"
    },
    {
      "file": "lib/plr_color_renderer.rb",
      "pattern_type": "function_definition",
      "start_line": 44,
      "end_line": 44,
      "symbols": [
        "initialize"
      ],
      "complexity": 0.2,
      "leitmotif_type": "musical_creation",
      "snippet_length": 73,
      "snippet": "  def initialize(synth: :prophet, duration_factor: 1.0, key_context: 'C')"
    },
    {
      "file": "lib/quantum_aphex_autechre.rb",
      "pattern_type": "class_definition",
      "start_line": 520,
      "end_line": 619,
      "symbols": [
        "AphexTwinPatterns"
      ],
      "complexity": 5.6,
      "leitmotif_type": "musical_creation",
      "snippet_length": 3183,
      "snippet": "  class AphexTwinPatterns\n    extend FreeMonad::DSL\n    \n    # DRILL 'N' BASS: Hyper-fast breakbeat fragmentation\n    # Key: very short durations, rapid alternation, occasional pauses\n    \n    def self.drill_n_bass(duration: 4.0, intensity: 0.8)\n      events = []\n      time = 0\n      \n      # Base: "
    },
    {
      "file": "lib/rubato_bridge.rb",
      "pattern_type": "function_definition",
      "start_line": 39,
      "end_line": 39,
      "symbols": [
        "self"
      ],
      "complexity": 0.2,
      "leitmotif_type": "musical_creation",
      "snippet_length": 57,
      "snippet": "    def self.dynamics(onset, velocity, envelope: :linear)"
    },
    {
      "file": "lib/score_event.rb",
      "pattern_type": "function_definition",
      "start_line": 7,
      "end_line": 7,
      "symbols": [
        "self"
      ],
      "complexity": 0.2,
      "leitmotif_type": "musical_creation",
      "snippet_length": 67,
      "snippet": "    def self.from_midi(midi_notes, amplitude: 0.3, synth: :default)"
    },
    {
      "file": "lib/seed_miner_42d.rb",
      "pattern_type": "function_definition",
      "start_line": 170,
      "end_line": 170,
      "symbols": [
        "self"
      ],
      "complexity": 0.2,
      "leitmotif_type": "musical_creation",
      "snippet_length": 43,
      "snippet": "  def self.to_osc(leitmotif, synth: \"sine\")"
    },
    {
      "file": "lib/skill_sonification.rb",
      "pattern_type": "function_definition",
      "start_line": 103,
      "end_line": 103,
      "symbols": [
        "waveform"
      ],
      "complexity": 0.2,
      "leitmotif_type": "musical_creation",
      "snippet_length": 16,
      "snippet": "    def waveform"
    },
    {
      "file": "lib/skill_sonification.rb",
      "pattern_type": "class_definition",
      "start_line": 44,
      "end_line": 143,
      "symbols": [
        "SplitMix64"
      ],
      "complexity": 3.7,
      "leitmotif_type": "musical_creation",
      "snippet_length": 2991,
      "snippet": "  class SplitMix64\n    MASK64 = 0xFFFFFFFFFFFFFFFF\n\n    def initialize(seed)\n      @state = seed & MASK64\n    end\n\n    def next_u64\n      @state = (@state + 0x9E3779B97F4A7C15) & MASK64\n      z = @state\n      z = ((z ^ (z >> 30)) * 0xBF58476D1CE4E5B9) & MASK64\n      z = ((z ^ (z >> 27)) * 0x94D049BB"
    },
    {
      "file": "lib/skill_sonification.rb",
      "pattern_type": "class_definition",
      "start_line": 68,
      "end_line": 167,
      "symbols": [
        "SkillVoice"
      ],
      "complexity": 3.3,
      "leitmotif_type": "musical_creation",
      "snippet_length": 3013,
      "snippet": "  class SkillVoice\n    attr_reader :name, :seed, :pitch_hz, :amplitude, :duration_ms, :tap_state\n\n    def initialize(name:, seed: nil, tap_state: :live)\n      @name = name\n      @seed = seed || name.hash & 0xFFFFFFFFFFFFFFFF\n      @tap_state = tap_state\n      @rng = SplitMix64.new(@seed)\n\n      # De"
    },
    {
      "file": "lib/three_match_geodesic_gadget.rb",
      "pattern_type": "function_definition",
      "start_line": 199,
      "end_line": 199,
      "symbols": [
        "moebius_filter"
      ],
      "complexity": 0.2,
      "leitmotif_type": "musical_creation",
      "snippet_length": 22,
      "snippet": "    def moebius_filter"
    },
    {
      "file": "lib/three_match_geodesic_gadget.rb",
      "pattern_type": "function_definition",
      "start_line": 360,
      "end_line": 360,
      "symbols": [
        "backward"
      ],
      "complexity": 0.2,
      "leitmotif_type": "musical_creation",
      "snippet_length": 26,
      "snippet": "    def backward(filtered)"
    },
    {
      "file": "lib/three_match_geodesic_gadget.rb",
      "pattern_type": "class_definition",
      "start_line": 121,
      "end_line": 220,
      "symbols": [
        "NonBacktrackingGeodesic"
      ],
      "complexity": 5.9,
      "leitmotif_type": "musical_creation",
      "snippet_length": 3046,
      "snippet": "  class NonBacktrackingGeodesic\n    attr_reader :path, :seed, :length\n    \n    def trit_to_hex(trit, offset)\n      hue = case trit\n            when -1 then 240\n            when 0  then 120\n            when 1  then 0\n            else 60\n            end\n      hue = (hue + offset * 40) % 360\n      h = "
    },
    {
      "file": "lib/three_match_geodesic_gadget.rb",
      "pattern_type": "class_definition",
      "start_line": 330,
      "end_line": 429,
      "symbols": [
        "BackAndForthFilter"
      ],
      "complexity": 4.0,
      "leitmotif_type": "musical_creation",
      "snippet_length": 2776,
      "snippet": "  class BackAndForthFilter\n    def initialize(seed: 0x42D)\n      @seed = seed\n      @forward_cache = {}\n      @backward_cache = {}\n    end\n    \n    # Forward: apply M\u00f6bius, keep only primes\n    def forward(sequence)\n      result = []\n      \n      sequence.each_with_index do |item, i|\n        n = i +"
    }
  ],
  "synthesis": [
    {
      "file": "bin/arpeggio_blast.rb",
      "pattern_type": "function_definition",
      "start_line": 5,
      "end_line": 5,
      "symbols": [
        "send_osc"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 34,
      "snippet": "def send_osc(port, address, *args)"
    },
    {
      "file": "bin/complete_topos_journey.rb",
      "pattern_type": "function_definition",
      "start_line": 24,
      "end_line": 24,
      "symbols": [
        "blast_code"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 20,
      "snippet": "def blast_code(code)"
    },
    {
      "file": "bin/god_mode_repl.rb",
      "pattern_type": "function_definition",
      "start_line": 29,
      "end_line": 29,
      "symbols": [
        "play_in_sonic_pi"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 26,
      "snippet": "def play_in_sonic_pi(code)"
    },
    {
      "file": "bin/god_mode_sound.rb",
      "pattern_type": "function_definition",
      "start_line": 10,
      "end_line": 10,
      "symbols": [
        "encode_osc"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 30,
      "snippet": "def encode_osc(address, *args)"
    },
    {
      "file": "bin/interactive_repl.rb",
      "pattern_type": "function_definition",
      "start_line": 25,
      "end_line": 25,
      "symbols": [
        "initialize"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 16,
      "snippet": "  def initialize"
    },
    {
      "file": "bin/interactive_repl.rb",
      "pattern_type": "function_definition",
      "start_line": 31,
      "end_line": 31,
      "symbols": [
        "run"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 9,
      "snippet": "  def run"
    },
    {
      "file": "bin/interactive_repl.rb",
      "pattern_type": "function_definition",
      "start_line": 58,
      "end_line": 58,
      "symbols": [
        "process_command"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 28,
      "snippet": "  def process_command(input)"
    },
    {
      "file": "bin/interactive_repl.rb",
      "pattern_type": "function_definition",
      "start_line": 86,
      "end_line": 86,
      "symbols": [
        "play_command"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 30,
      "snippet": "  def play_command(chord_spec)"
    },
    {
      "file": "bin/interactive_repl.rb",
      "pattern_type": "function_definition",
      "start_line": 118,
      "end_line": 118,
      "symbols": [
        "progress_command"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 35,
      "snippet": "  def progress_command(chord_specs)"
    },
    {
      "file": "bin/interactive_repl.rb",
      "pattern_type": "function_definition",
      "start_line": 160,
      "end_line": 160,
      "symbols": [
        "validate_command"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 28,
      "snippet": "  def validate_command(spec)"
    },
    {
      "file": "bin/interactive_repl.rb",
      "pattern_type": "function_definition",
      "start_line": 196,
      "end_line": 196,
      "symbols": [
        "plr_command"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 40,
      "snippet": "  def plr_command(chord_spec, operation)"
    },
    {
      "file": "bin/interactive_repl.rb",
      "pattern_type": "function_definition",
      "start_line": 269,
      "end_line": 269,
      "symbols": [
        "metric_command"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 46,
      "snippet": "  def metric_command(chord1_spec, chord2_spec)"
    },
    {
      "file": "bin/interactive_repl.rb",
      "pattern_type": "function_definition",
      "start_line": 293,
      "end_line": 293,
      "symbols": [
        "show_help"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 15,
      "snippet": "  def show_help"
    },
    {
      "file": "bin/interactive_repl.rb",
      "pattern_type": "function_definition",
      "start_line": 313,
      "end_line": 313,
      "symbols": [
        "show_history"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 18,
      "snippet": "  def show_history"
    },
    {
      "file": "bin/interactive_repl.rb",
      "pattern_type": "function_definition",
      "start_line": 321,
      "end_line": 321,
      "symbols": [
        "parse_chord"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 29,
      "snippet": "  def parse_chord(chord_spec)"
    },
    {
      "file": "bin/just_play.rb",
      "pattern_type": "function_definition",
      "start_line": 18,
      "end_line": 18,
      "symbols": [
        "initialize"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 16,
      "snippet": "  def initialize"
    },
    {
      "file": "bin/just_play.rb",
      "pattern_type": "function_definition",
      "start_line": 23,
      "end_line": 23,
      "symbols": [
        "run"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 9,
      "snippet": "  def run"
    },
    {
      "file": "bin/just_play.rb",
      "pattern_type": "function_definition",
      "start_line": 63,
      "end_line": 63,
      "symbols": [
        "build_complete_journey"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 28,
      "snippet": "  def build_complete_journey"
    },
    {
      "file": "bin/just_play.rb",
      "pattern_type": "function_definition",
      "start_line": 106,
      "end_line": 106,
      "symbols": [
        "build_circle_metric"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 25,
      "snippet": "  def build_circle_metric"
    },
    {
      "file": "bin/just_play.rb",
      "pattern_type": "function_definition",
      "start_line": 124,
      "end_line": 124,
      "symbols": [
        "build_voice_leading"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 25,
      "snippet": "  def build_voice_leading"
    },
    {
      "file": "bin/just_play.rb",
      "pattern_type": "function_definition",
      "start_line": 144,
      "end_line": 144,
      "symbols": [
        "build_plr_cycle"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 21,
      "snippet": "  def build_plr_cycle"
    },
    {
      "file": "bin/just_play.rb",
      "pattern_type": "function_definition",
      "start_line": 163,
      "end_line": 163,
      "symbols": [
        "build_harmonic_closure"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 28,
      "snippet": "  def build_harmonic_closure"
    },
    {
      "file": "bin/just_play.rb",
      "pattern_type": "function_definition",
      "start_line": 184,
      "end_line": 184,
      "symbols": [
        "build_return_to_start"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 27,
      "snippet": "  def build_return_to_start"
    },
    {
      "file": "bin/just_play.rb",
      "pattern_type": "function_definition",
      "start_line": 208,
      "end_line": 208,
      "symbols": [
        "add_silence"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 27,
      "snippet": "  def add_silence(duration)"
    },
    {
      "file": "bin/just_play.rb",
      "pattern_type": "class_definition",
      "start_line": 17,
      "end_line": 116,
      "symbols": [
        "JustPlay"
      ],
      "complexity": 1.8,
      "leitmotif_type": "synthesis",
      "snippet_length": 3086,
      "snippet": "class JustPlay\n  def initialize\n    @synthesis = AudioSynthesis.new(output_file: '/tmp/just_play_session.wav')\n    @all_sequences = []\n  end\n\n  def run\n    puts \"=\" * 80\n    puts \"\ud83c\udfb5 JUST PLAY: Journey Through Four Leitmotifs\"\n    puts \"=\" * 80\n    puts \"\"\n    puts \"Creating continuous session...\"\n  "
    },
    {
      "file": "bin/pattern_runs_on_matter.rb",
      "pattern_type": "function_definition",
      "start_line": 100,
      "end_line": 149,
      "symbols": [
        "self"
      ],
      "complexity": 0.6,
      "leitmotif_type": "synthesis",
      "snippet_length": 1184,
      "snippet": "  def self.initial_world\n    sequence!(\n      # Section 1: The Void - low drone with beating frequencies\n      section_marker(\"THE VOID\"),\n      the_void,\n      rest!(0.3),\n      \n      # Section 2: Emergence - clusters rising from darkness\n      section_marker(\"EMERGENCE\"),\n      emergence,\n      r"
    },
    {
      "file": "bin/pattern_runs_on_matter.rb",
      "pattern_type": "function_definition",
      "start_line": 124,
      "end_line": 173,
      "symbols": [
        "self"
      ],
      "complexity": 1.3,
      "leitmotif_type": "synthesis",
      "snippet_length": 1162,
      "snippet": "  def self.terminal_world\n    sequence!(\n      section_marker(\"MACHINE I\"),\n      machine_pulse,\n      rest!(0.2),\n      \n      section_marker(\"STOCHASTIC CLOUD\"),\n      stochastic_cloud,\n      rest!(0.3),\n      \n      section_marker(\"MACHINE II\"),\n      machine_grind,\n      rest!(0.2),\n      \n     "
    },
    {
      "file": "bin/pattern_runs_on_matter.rb",
      "pattern_type": "function_definition",
      "start_line": 144,
      "end_line": 193,
      "symbols": [
        "self"
      ],
      "complexity": 1.3,
      "leitmotif_type": "synthesis",
      "snippet_length": 1427,
      "snippet": "  def self.full_curriculum\n    sequence!(\n      section_marker(\"=== PART I: DESCENT ===\"),\n      initial_world,\n      rest!(0.5),\n      \n      section_marker(\"=== PART II: INDUSTRY ===\"),\n      terminal_world,\n      rest!(0.5),\n      \n      section_marker(\"=== PART III: OBLITERATION ===\"),\n      obl"
    },
    {
      "file": "bin/pattern_runs_on_matter.rb",
      "pattern_type": "function_definition",
      "start_line": 161,
      "end_line": 210,
      "symbols": [
        "self"
      ],
      "complexity": 1.3,
      "leitmotif_type": "synthesis",
      "snippet_length": 1615,
      "snippet": "  def self.section_marker(name)\n    FreeMonad::Pure.new(name)\n  end\n  \n  # ============================================================================\n  # DARK PATTERNS\n  # ============================================================================\n  \n  # Low drone with close frequencies that beat"
    },
    {
      "file": "bin/pattern_runs_on_matter.rb",
      "pattern_type": "function_definition",
      "start_line": 170,
      "end_line": 219,
      "symbols": [
        "self"
      ],
      "complexity": 0.6,
      "leitmotif_type": "synthesis",
      "snippet_length": 1511,
      "snippet": "  def self.the_void\n    sequence!(\n      # Sub-bass drone with beating (Monolake-style)\n      parallel!(\n        play_note!(24, 4.0, 0.4),      # C0 - fundamental\n        play_note!(25, 4.0, 0.25),     # C#0 - minor 2nd creates beating\n        play_note!(36, 4.0, 0.15)      # C1 - octave reinforceme"
    },
    {
      "file": "bin/pattern_runs_on_matter.rb",
      "pattern_type": "function_definition",
      "start_line": 187,
      "end_line": 236,
      "symbols": [
        "self"
      ],
      "complexity": 1.1,
      "leitmotif_type": "synthesis",
      "snippet_length": 1494,
      "snippet": "  def self.emergence\n    sequence!(\n      # Chromatic cluster in bass\n      play_chord!([36, 37, 38, 39], 1.2, 0.3),\n      rest!(0.15),\n      # Wider cluster\n      play_chord!([40, 41, 46, 47], 1.0, 0.25),\n      rest!(0.1),\n      # Spreading outward\n      play_chord!([35, 42, 48, 53], 1.5, 0.3),\n   "
    },
    {
      "file": "bin/pattern_runs_on_matter.rb",
      "pattern_type": "function_definition",
      "start_line": 204,
      "end_line": 253,
      "symbols": [
        "self"
      ],
      "complexity": 1.1,
      "leitmotif_type": "synthesis",
      "snippet_length": 1504,
      "snippet": "  def self.corrupted_harmonic_functions\n    sequence!(\n      # \"Tonic\" - but with added minor 9th\n      play_chord!([36, 40, 43, 49], 1.2, 0.3),\n      rest!(0.1),\n      # \"Subdominant\" - tritone away  \n      play_chord!([42, 46, 49, 55], 1.2, 0.28),\n      rest!(0.1),\n      # \"Dominant\" - cluster\n   "
    },
    {
      "file": "bin/pattern_runs_on_matter.rb",
      "pattern_type": "function_definition",
      "start_line": 221,
      "end_line": 270,
      "symbols": [
        "self"
      ],
      "complexity": 1.3,
      "leitmotif_type": "synthesis",
      "snippet_length": 1429,
      "snippet": "  def self.tritone_spiral\n    notes = []\n    pitch = 72  # Start high\n    8.times do |i|\n      duration = 0.3 + (i * 0.1)  # Getting longer\n      notes << play_note!(pitch, duration, 0.2 + (i * 0.02))\n      notes << rest!(0.05)\n      pitch -= TRITONE  # Descend by tritone\n      pitch += 12 if pitch "
    },
    {
      "file": "bin/pattern_runs_on_matter.rb",
      "pattern_type": "function_definition",
      "start_line": 241,
      "end_line": 290,
      "symbols": [
        "self"
      ],
      "complexity": 0.6,
      "leitmotif_type": "synthesis",
      "snippet_length": 1308,
      "snippet": "  def self.machine_pulse\n    pulses = []\n    16.times do |i|\n      # Irregular accents\n      amp = (i % 4 == 0) ? 0.4 : ((i % 2 == 0) ? 0.2 : 0.1)\n      pitch = (i % 3 == 0) ? 36 : 48\n      pulses << play_note!(pitch, 0.1, amp)\n      pulses << rest!((i % 5 == 0) ? 0.15 : 0.1)\n    end\n    sequence!(*"
    },
    {
      "file": "bin/pattern_runs_on_matter.rb",
      "pattern_type": "function_definition",
      "start_line": 254,
      "end_line": 303,
      "symbols": [
        "self"
      ],
      "complexity": 0.6,
      "leitmotif_type": "synthesis",
      "snippet_length": 1290,
      "snippet": "  def self.stochastic_cloud\n    srand(42)  # Deterministic randomness\n    events = []\n    20.times do\n      pitch = rand(40..90)\n      duration = rand(0.05..0.3)\n      amplitude = rand(0.05..0.25)\n      rest_time = rand(0.02..0.15)\n      events << play_note!(pitch, duration, amplitude)\n      events "
    },
    {
      "file": "bin/pattern_runs_on_matter.rb",
      "pattern_type": "function_definition",
      "start_line": 269,
      "end_line": 318,
      "symbols": [
        "self"
      ],
      "complexity": 0.6,
      "leitmotif_type": "synthesis",
      "snippet_length": 1225,
      "snippet": "  def self.machine_grind\n    sequence!(\n      # Low grinding clusters\n      parallel!(\n        play_chord!([30, 31, 36, 37], 0.8, 0.35),\n        sequence!(\n          rest!(0.4),\n          play_chord!([42, 43, 48, 49], 0.4, 0.2)\n        )\n      ),\n      rest!(0.1),\n      # Rhythmic hits\n      play_ch"
    },
    {
      "file": "bin/pattern_runs_on_matter.rb",
      "pattern_type": "function_definition",
      "start_line": 294,
      "end_line": 343,
      "symbols": [
        "self"
      ],
      "complexity": 0.4,
      "leitmotif_type": "synthesis",
      "snippet_length": 1207,
      "snippet": "  def self.collapse\n    sequence!(\n      # Everything at once, then silence\n      parallel!(\n        play_chord!([24, 25, 30, 31, 36, 37], 0.5, 0.5),\n        play_chord!([48, 49, 54, 55, 60, 61], 0.5, 0.3),\n        play_chord!([72, 73, 78, 79, 84, 85], 0.5, 0.15)\n      ),\n      rest!(0.8),\n      # E"
    },
    {
      "file": "bin/pattern_runs_on_matter.rb",
      "pattern_type": "function_definition",
      "start_line": 316,
      "end_line": 361,
      "symbols": [
        "self"
      ],
      "complexity": 0.4,
      "leitmotif_type": "synthesis",
      "snippet_length": 1231,
      "snippet": "  def self.obliteration\n    sequence!(\n      # Dense cluster attack\n      parallel!(\n        sequence!(*stochastic_points(15, 0.04, 0.3)),\n        sequence!(\n          rest!(0.2),\n          *stochastic_points(12, 0.06, 0.25)\n        ),\n        sequence!(\n          rest!(0.4),\n          *stochastic_p"
    },
    {
      "file": "bin/pattern_runs_on_matter.rb",
      "pattern_type": "function_definition",
      "start_line": 344,
      "end_line": 361,
      "symbols": [
        "self"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 577,
      "snippet": "  def self.stochastic_points(count, max_duration, max_amplitude)\n    srand(count * 7)  # Deterministic seed\n    events = []\n    count.times do\n      pitch = rand(36..96)\n      duration = rand(0.02..max_duration)\n      amplitude = rand(0.02..max_amplitude)\n      events << play_note!(pitch, duration, "
    },
    {
      "file": "bin/pattern_runs_on_matter.rb",
      "pattern_type": "function_definition",
      "start_line": 362,
      "end_line": 376,
      "symbols": [
        "create_matter"
      ],
      "complexity": 1.7,
      "leitmotif_type": "synthesis",
      "snippet_length": 427,
      "snippet": "def create_matter(options, play_fn: nil)\n  CofreeComonad::MusicalMatter.new(\n    tempo: options[:tempo],\n    timbre: :sine,\n    volume: 0.5,\n    play_fn: play_fn || ->(pitches, dur, amp) {\n      if options[:verbose]\n        pitches = [pitches] unless pitches.is_a?(Array)\n        notes = pitches.map "
    },
    {
      "file": "bin/pattern_runs_on_matter.rb",
      "pattern_type": "function_definition",
      "start_line": 377,
      "end_line": 386,
      "symbols": [
        "midi_to_note_name"
      ],
      "complexity": 0.7,
      "leitmotif_type": "synthesis",
      "snippet_length": 327,
      "snippet": "def midi_to_note_name(midi)\n  notes = %w[C C# D D# E F F# G G# A A# B]\n  octave = (midi / 12) - 1\n  \"#{notes[midi % 12]}#{octave}\"\nend\n\n# ============================================================================\n# OSC SENDER (for realtime mode)\n# =================================================="
    },
    {
      "file": "bin/pattern_runs_on_matter.rb",
      "pattern_type": "function_definition",
      "start_line": 388,
      "end_line": 388,
      "symbols": [
        "initialize"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 48,
      "snippet": "  def initialize(host: '127.0.0.1', port: 57110)"
    },
    {
      "file": "bin/pattern_runs_on_matter.rb",
      "pattern_type": "function_definition",
      "start_line": 395,
      "end_line": 395,
      "symbols": [
        "play_event"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 23,
      "snippet": "  def play_event(event)"
    },
    {
      "file": "bin/pattern_runs_on_matter.rb",
      "pattern_type": "function_definition",
      "start_line": 445,
      "end_line": 445,
      "symbols": [
        "osc_string"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 19,
      "snippet": "  def osc_string(s)"
    },
    {
      "file": "bin/pattern_runs_on_matter.rb",
      "pattern_type": "class_definition",
      "start_line": 85,
      "end_line": 386,
      "symbols": [
        "PatternBuilder"
      ],
      "complexity": 6.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 8223,
      "snippet": "class PatternBuilder\n  extend FreeMonad::DSL\n  \n  # ============================================================================\n  # DARK / INDUSTRIAL PATTERNS\n  # Inspired by: Mica Levi, Xenakis, Monolake\n  # ============================================================================\n  \n  # Disson"
    },
    {
      "file": "bin/play_curriculum.rb",
      "pattern_type": "function_definition",
      "start_line": 19,
      "end_line": 19,
      "symbols": [
        "initialize"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 41,
      "snippet": "    def initialize(mode:, tempo:, world:)"
    },
    {
      "file": "bin/play_curriculum.rb",
      "pattern_type": "function_definition",
      "start_line": 25,
      "end_line": 25,
      "symbols": [
        "run"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 11,
      "snippet": "    def run"
    },
    {
      "file": "bin/play_curriculum.rb",
      "pattern_type": "function_definition",
      "start_line": 41,
      "end_line": 41,
      "symbols": [
        "compile_events"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 22,
      "snippet": "    def compile_events"
    },
    {
      "file": "bin/play_curriculum.rb",
      "pattern_type": "function_definition",
      "start_line": 54,
      "end_line": 54,
      "symbols": [
        "play_realtime"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 29,
      "snippet": "    def play_realtime(events)"
    },
    {
      "file": "bin/play_curriculum.rb",
      "pattern_type": "function_definition",
      "start_line": 72,
      "end_line": 72,
      "symbols": [
        "play_event_osc"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 29,
      "snippet": "    def play_event_osc(event)"
    },
    {
      "file": "bin/play_curriculum.rb",
      "pattern_type": "function_definition",
      "start_line": 82,
      "end_line": 82,
      "symbols": [
        "send_osc_note"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 28,
      "snippet": "    def send_osc_note(event)"
    },
    {
      "file": "bin/play_curriculum.rb",
      "pattern_type": "function_definition",
      "start_line": 113,
      "end_line": 113,
      "symbols": [
        "osc_string"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 23,
      "snippet": "    def osc_string(str)"
    },
    {
      "file": "bin/play_curriculum.rb",
      "pattern_type": "function_definition",
      "start_line": 127,
      "end_line": 127,
      "symbols": [
        "encode_osc_arg"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 27,
      "snippet": "    def encode_osc_arg(arg)"
    },
    {
      "file": "bin/play_curriculum.rb",
      "pattern_type": "function_definition",
      "start_line": 136,
      "end_line": 136,
      "symbols": [
        "render_batch"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 28,
      "snippet": "    def render_batch(events)"
    },
    {
      "file": "bin/play_curriculum.rb",
      "pattern_type": "function_definition",
      "start_line": 157,
      "end_line": 157,
      "symbols": [
        "score_event_to_hash"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 34,
      "snippet": "    def score_event_to_hash(event)"
    },
    {
      "file": "bin/world_jump.rb",
      "pattern_type": "function_definition",
      "start_line": 26,
      "end_line": 26,
      "symbols": [
        "blast_code"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 20,
      "snippet": "def blast_code(code)"
    },
    {
      "file": "lib/audio_synthesis.rb",
      "pattern_type": "function_definition",
      "start_line": 13,
      "end_line": 13,
      "symbols": [
        "render_score"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 44,
      "snippet": "  def render_score(score_events, tempo: 120)"
    },
    {
      "file": "lib/audio_synthesis.rb",
      "pattern_type": "function_definition",
      "start_line": 51,
      "end_line": 51,
      "symbols": [
        "render_sequence"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 53,
      "snippet": "  def render_sequence(sequence, silence_between: 0.1)"
    },
    {
      "file": "lib/audio_synthesis.rb",
      "pattern_type": "function_definition",
      "start_line": 101,
      "end_line": 101,
      "symbols": [
        "write_wav_file"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 39,
      "snippet": "  def write_wav_file(samples, filename)"
    },
    {
      "file": "lib/bb6_hypercomputation.rb",
      "pattern_type": "function_definition",
      "start_line": 33,
      "end_line": 33,
      "symbols": [
        "self"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 56,
      "snippet": "    def self.omega_lower_bound(mined_seeds, fingerprint)"
    },
    {
      "file": "lib/bb6_hypercomputation.rb",
      "pattern_type": "function_definition",
      "start_line": 59,
      "end_line": 59,
      "symbols": [
        "self"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 40,
      "snippet": "    def self.inversion_sieve(trajectory)"
    },
    {
      "file": "lib/bb6_hypercomputation.rb",
      "pattern_type": "function_definition",
      "start_line": 86,
      "end_line": 86,
      "symbols": [
        "self"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 56,
      "snippet": "    def self.dirichlet_accumulator(trajectories, s: 1.0)"
    },
    {
      "file": "lib/bb6_hypercomputation.rb",
      "pattern_type": "function_definition",
      "start_line": 127,
      "end_line": 127,
      "symbols": [
        "chi"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 18,
      "snippet": "    def chi(color)"
    },
    {
      "file": "lib/bb6_hypercomputation.rb",
      "pattern_type": "function_definition",
      "start_line": 162,
      "end_line": 162,
      "symbols": [
        "pullback"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 23,
      "snippet": "    def pullback(color)"
    },
    {
      "file": "lib/bb6_hypercomputation.rb",
      "pattern_type": "function_definition",
      "start_line": 182,
      "end_line": 182,
      "symbols": [
        "initialize"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 32,
      "snippet": "    def initialize(initial_seed)"
    },
    {
      "file": "lib/bb6_hypercomputation.rb",
      "pattern_type": "function_definition",
      "start_line": 193,
      "end_line": 193,
      "symbols": [
        "mine!"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 16,
      "snippet": "    def mine!(n)"
    },
    {
      "file": "lib/bb6_hypercomputation.rb",
      "pattern_type": "function_definition",
      "start_line": 225,
      "end_line": 225,
      "symbols": [
        "query_halting"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 33,
      "snippet": "    def query_halting(trajectory)"
    },
    {
      "file": "lib/bb6_hypercomputation.rb",
      "pattern_type": "function_definition",
      "start_line": 264,
      "end_line": 264,
      "symbols": [
        "omega_bound"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 19,
      "snippet": "    def omega_bound"
    },
    {
      "file": "lib/bb6_hypercomputation.rb",
      "pattern_type": "function_definition",
      "start_line": 284,
      "end_line": 284,
      "symbols": [
        "initialize"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 33,
      "snippet": "    def initialize(n, seed: 1069)"
    },
    {
      "file": "lib/bb6_hypercomputation.rb",
      "pattern_type": "function_definition",
      "start_line": 294,
      "end_line": 294,
      "symbols": [
        "explore!"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 23,
      "snippet": "    def explore!(steps)"
    },
    {
      "file": "lib/bb6_hypercomputation.rb",
      "pattern_type": "function_definition",
      "start_line": 317,
      "end_line": 317,
      "symbols": [
        "mixing_progress"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 23,
      "snippet": "    def mixing_progress"
    },
    {
      "file": "lib/bb6_hypercomputation.rb",
      "pattern_type": "function_definition",
      "start_line": 321,
      "end_line": 321,
      "symbols": [
        "summary"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 15,
      "snippet": "    def summary"
    },
    {
      "file": "lib/bb6_hypercomputation.rb",
      "pattern_type": "function_definition",
      "start_line": 341,
      "end_line": 341,
      "symbols": [
        "initialize"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 24,
      "snippet": "    def initialize(seed)"
    },
    {
      "file": "lib/bb6_hypercomputation.rb",
      "pattern_type": "function_definition",
      "start_line": 346,
      "end_line": 346,
      "symbols": [
        "record!"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 44,
      "snippet": "    def record!(trajectory, oracle_response)"
    },
    {
      "file": "lib/bb6_hypercomputation.rb",
      "pattern_type": "function_definition",
      "start_line": 378,
      "end_line": 378,
      "symbols": [
        "all_witnesses"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 21,
      "snippet": "    def all_witnesses"
    },
    {
      "file": "lib/bb6_hypercomputation.rb",
      "pattern_type": "function_definition",
      "start_line": 384,
      "end_line": 384,
      "symbols": [
        "lch_to_hex"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 23,
      "snippet": "    def lch_to_hex(lch)"
    },
    {
      "file": "lib/bb6_hypercomputation.rb",
      "pattern_type": "function_definition",
      "start_line": 399,
      "end_line": 399,
      "symbols": [
        "self"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 34,
      "snippet": "  def self.demonstrate!(seed: nil)"
    },
    {
      "file": "lib/bb6_hypercomputation.rb",
      "pattern_type": "class_definition",
      "start_line": 179,
      "end_line": 278,
      "symbols": [
        "LearnableGamutOracle"
      ],
      "complexity": 2.3,
      "leitmotif_type": "synthesis",
      "snippet_length": 3223,
      "snippet": "  class LearnableGamutOracle\n    attr_reader :mined_seeds, :fingerprints, :learning_rate, :epochs\n\n    def initialize(initial_seed)\n      @initial_seed = initial_seed\n      @mined_seeds = [initial_seed]\n      @fingerprints = []\n      @learning_rate = 0.1\n      @epochs = 0\n      @perceptual_weights ="
    },
    {
      "file": "lib/blume_capel_coinflip.rb",
      "pattern_type": "function_definition",
      "start_line": 49,
      "end_line": 49,
      "symbols": [
        "self"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 35,
      "snippet": "  def self.fetch_drand(round = nil)"
    },
    {
      "file": "lib/blume_capel_coinflip.rb",
      "pattern_type": "function_definition",
      "start_line": 75,
      "end_line": 75,
      "symbols": [
        "initialize"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 25,
      "snippet": "    def initialize(value)"
    },
    {
      "file": "lib/blume_capel_coinflip.rb",
      "pattern_type": "function_definition",
      "start_line": 86,
      "end_line": 86,
      "symbols": [
        "beaver?"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 15,
      "snippet": "    def beaver?"
    },
    {
      "file": "lib/blume_capel_coinflip.rb",
      "pattern_type": "function_definition",
      "start_line": 90,
      "end_line": 90,
      "symbols": [
        "to_char"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 15,
      "snippet": "    def to_char"
    },
    {
      "file": "lib/blume_capel_coinflip.rb",
      "pattern_type": "function_definition",
      "start_line": 98,
      "end_line": 98,
      "symbols": [
        "to_s"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 12,
      "snippet": "    def to_s"
    },
    {
      "file": "lib/blume_capel_coinflip.rb",
      "pattern_type": "function_definition",
      "start_line": 107,
      "end_line": 107,
      "symbols": [
        "initialize"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 64,
      "snippet": "    def initialize(size: 10, j: DEFAULT_J, delta: DEFAULT_DELTA)"
    },
    {
      "file": "lib/blume_capel_coinflip.rb",
      "pattern_type": "function_definition",
      "start_line": 117,
      "end_line": 117,
      "symbols": [
        "seed!"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 19,
      "snippet": "    def seed!(seed)"
    },
    {
      "file": "lib/blume_capel_coinflip.rb",
      "pattern_type": "function_definition",
      "start_line": 125,
      "end_line": 125,
      "symbols": [
        "flip!"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 13,
      "snippet": "    def flip!"
    },
    {
      "file": "lib/blume_capel_coinflip.rb",
      "pattern_type": "function_definition",
      "start_line": 145,
      "end_line": 145,
      "symbols": [
        "moebius_mu"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 18,
      "snippet": "    def moebius_mu"
    },
    {
      "file": "lib/blume_capel_coinflip.rb",
      "pattern_type": "function_definition",
      "start_line": 151,
      "end_line": 151,
      "symbols": [
        "flip_n!"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 18,
      "snippet": "    def flip_n!(n)"
    },
    {
      "file": "lib/blume_capel_coinflip.rb",
      "pattern_type": "function_definition",
      "start_line": 156,
      "end_line": 156,
      "symbols": [
        "energy"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 14,
      "snippet": "    def energy"
    },
    {
      "file": "lib/blume_capel_coinflip.rb",
      "pattern_type": "function_definition",
      "start_line": 173,
      "end_line": 173,
      "symbols": [
        "magnetization"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 21,
      "snippet": "    def magnetization"
    },
    {
      "file": "lib/blume_capel_coinflip.rb",
      "pattern_type": "function_definition",
      "start_line": 177,
      "end_line": 177,
      "symbols": [
        "vacancy_density"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 23,
      "snippet": "    def vacancy_density"
    },
    {
      "file": "lib/blume_capel_coinflip.rb",
      "pattern_type": "function_definition",
      "start_line": 182,
      "end_line": 182,
      "symbols": [
        "mixing_time_estimate"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 28,
      "snippet": "    def mixing_time_estimate"
    },
    {
      "file": "lib/blume_capel_coinflip.rb",
      "pattern_type": "function_definition",
      "start_line": 188,
      "end_line": 188,
      "symbols": [
        "history_summary"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 23,
      "snippet": "    def history_summary"
    },
    {
      "file": "lib/blume_capel_coinflip.rb",
      "pattern_type": "function_definition",
      "start_line": 204,
      "end_line": 204,
      "symbols": [
        "count_polarity_transitions"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 34,
      "snippet": "    def count_polarity_transitions"
    },
    {
      "file": "lib/blume_capel_coinflip.rb",
      "pattern_type": "function_definition",
      "start_line": 214,
      "end_line": 214,
      "symbols": [
        "self"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 18,
      "snippet": "    def self.mu(n)"
    },
    {
      "file": "lib/blume_capel_coinflip.rb",
      "pattern_type": "function_definition",
      "start_line": 229,
      "end_line": 229,
      "symbols": [
        "self"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 29,
      "snippet": "    def self.prime_factors(n)"
    },
    {
      "file": "lib/blume_capel_coinflip.rb",
      "pattern_type": "function_definition",
      "start_line": 244,
      "end_line": 244,
      "symbols": [
        "self"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 29,
      "snippet": "    def self.invert(f_values)"
    },
    {
      "file": "lib/blume_capel_coinflip.rb",
      "pattern_type": "function_definition",
      "start_line": 258,
      "end_line": 258,
      "symbols": [
        "self"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 24,
      "snippet": "    def self.divisors(n)"
    },
    {
      "file": "lib/blume_capel_coinflip.rb",
      "pattern_type": "function_definition",
      "start_line": 263,
      "end_line": 263,
      "symbols": [
        "self"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 44,
      "snippet": "    def self.apply_to_trajectory(trajectory)"
    },
    {
      "file": "lib/blume_capel_coinflip.rb",
      "pattern_type": "function_definition",
      "start_line": 285,
      "end_line": 285,
      "symbols": [
        "initialize"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 30,
      "snippet": "    def initialize(seed: 1069)"
    },
    {
      "file": "lib/blume_capel_coinflip.rb",
      "pattern_type": "function_definition",
      "start_line": 294,
      "end_line": 294,
      "symbols": [
        "seed_from_drand!"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 37,
      "snippet": "    def seed_from_drand!(round = nil)"
    },
    {
      "file": "lib/blume_capel_coinflip.rb",
      "pattern_type": "function_definition",
      "start_line": 304,
      "end_line": 304,
      "symbols": [
        "step!"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 13,
      "snippet": "    def step!"
    },
    {
      "file": "lib/blume_capel_coinflip.rb",
      "pattern_type": "function_definition",
      "start_line": 329,
      "end_line": 329,
      "symbols": [
        "walk!"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 16,
      "snippet": "    def walk!(n)"
    },
    {
      "file": "lib/blume_capel_coinflip.rb",
      "pattern_type": "function_definition",
      "start_line": 333,
      "end_line": 333,
      "symbols": [
        "moebius_mu"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 18,
      "snippet": "    def moebius_mu"
    },
    {
      "file": "lib/blume_capel_coinflip.rb",
      "pattern_type": "function_definition",
      "start_line": 339,
      "end_line": 339,
      "symbols": [
        "mixing_progress"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 23,
      "snippet": "    def mixing_progress"
    },
    {
      "file": "lib/blume_capel_coinflip.rb",
      "pattern_type": "function_definition",
      "start_line": 347,
      "end_line": 347,
      "symbols": [
        "mixed?"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 14,
      "snippet": "    def mixed?"
    },
    {
      "file": "lib/blume_capel_coinflip.rb",
      "pattern_type": "function_definition",
      "start_line": 352,
      "end_line": 352,
      "symbols": [
        "ergodic_mean"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 20,
      "snippet": "    def ergodic_mean"
    },
    {
      "file": "lib/blume_capel_coinflip.rb",
      "pattern_type": "function_definition",
      "start_line": 358,
      "end_line": 358,
      "symbols": [
        "ensemble_stats"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 22,
      "snippet": "    def ensemble_stats"
    },
    {
      "file": "lib/blume_capel_coinflip.rb",
      "pattern_type": "function_definition",
      "start_line": 377,
      "end_line": 377,
      "symbols": [
        "variance"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 21,
      "snippet": "    def variance(arr)"
    },
    {
      "file": "lib/blume_capel_coinflip.rb",
      "pattern_type": "function_definition",
      "start_line": 387,
      "end_line": 387,
      "symbols": [
        "self"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 48,
      "snippet": "    def self.trajectory_to_intervals(trajectory)"
    },
    {
      "file": "lib/blume_capel_coinflip.rb",
      "pattern_type": "function_definition",
      "start_line": 398,
      "end_line": 398,
      "symbols": [
        "self"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 62,
      "snippet": "    def self.trajectory_to_pitches(trajectory, base_pitch: 60)"
    },
    {
      "file": "lib/blume_capel_coinflip.rb",
      "pattern_type": "function_definition",
      "start_line": 412,
      "end_line": 412,
      "symbols": [
        "self"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 49,
      "snippet": "    def self.generate_leitmotif(seed:, length: 8)"
    },
    {
      "file": "lib/blume_capel_coinflip.rb",
      "pattern_type": "function_definition",
      "start_line": 443,
      "end_line": 443,
      "symbols": [
        "self"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 48,
      "snippet": "    def self.analyze_cut_elimination(trajectory)"
    },
    {
      "file": "lib/blume_capel_coinflip.rb",
      "pattern_type": "function_definition",
      "start_line": 468,
      "end_line": 468,
      "symbols": [
        "initialize"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 24,
      "snippet": "    def initialize(seed)"
    },
    {
      "file": "lib/blume_capel_coinflip.rb",
      "pattern_type": "function_definition",
      "start_line": 495,
      "end_line": 495,
      "symbols": [
        "palette"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 18,
      "snippet": "    def palette(n)"
    },
    {
      "file": "lib/blume_capel_coinflip.rb",
      "pattern_type": "function_definition",
      "start_line": 501,
      "end_line": 501,
      "symbols": [
        "lch_to_hex"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 23,
      "snippet": "    def lch_to_hex(lch)"
    },
    {
      "file": "lib/blume_capel_coinflip.rb",
      "pattern_type": "class_definition",
      "start_line": 282,
      "end_line": 381,
      "symbols": [
        "ErgodicWalk"
      ],
      "complexity": 6.0,
      "leitmotif_type": "synthesis",
      "snippet_length": 2438,
      "snippet": "  class ErgodicWalk\n    attr_reader :position, :history, :seed\n\n    def initialize(seed: 1069)\n      @seed = seed\n      @rng = SeedMiner::SplitMix64.new(seed)\n      @position = 0\n      @history = []\n      @three_match = nil  # Will hold color data\n    end\n\n    # Seed from drand\n    def seed_from_dra"
    },
    {
      "file": "lib/chaitin_machine.rb",
      "pattern_type": "function_definition",
      "start_line": 20,
      "end_line": 20,
      "symbols": [
        "initialize"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 39,
      "snippet": "    def initialize(code, encoding: nil)"
    },
    {
      "file": "lib/chaitin_machine.rb",
      "pattern_type": "function_definition",
      "start_line": 26,
      "end_line": 26,
      "symbols": [
        "prefix?"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 22,
      "snippet": "    def prefix?(other)"
    },
    {
      "file": "lib/chaitin_machine.rb",
      "pattern_type": "function_definition",
      "start_line": 30,
      "end_line": 30,
      "symbols": [
        "weight_binary"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 45,
      "snippet": "    def weight_binary; 2.0 ** (-@length); end"
    },
    {
      "file": "lib/chaitin_machine.rb",
      "pattern_type": "function_definition",
      "start_line": 31,
      "end_line": 31,
      "symbols": [
        "weight_ternary"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 46,
      "snippet": "    def weight_ternary; 3.0 ** (-@length); end"
    },
    {
      "file": "lib/chaitin_machine.rb",
      "pattern_type": "function_definition",
      "start_line": 33,
      "end_line": 33,
      "symbols": [
        "to_s"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 58,
      "snippet": "    def to_s; \"Program(#{@encoding}, len=#{@length})\"; end"
    },
    {
      "file": "lib/chaitin_machine.rb",
      "pattern_type": "function_definition",
      "start_line": 44,
      "end_line": 44,
      "symbols": [
        "initialize"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 18,
      "snippet": "    def initialize"
    },
    {
      "file": "lib/chaitin_machine.rb",
      "pattern_type": "function_definition",
      "start_line": 56,
      "end_line": 56,
      "symbols": [
        "load"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 25,
      "snippet": "    def load(transitions)"
    },
    {
      "file": "lib/chaitin_machine.rb",
      "pattern_type": "function_definition",
      "start_line": 66,
      "end_line": 66,
      "symbols": [
        "load_encoded"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 29,
      "snippet": "    def load_encoded(program)"
    },
    {
      "file": "lib/chaitin_machine.rb",
      "pattern_type": "function_definition",
      "start_line": 73,
      "end_line": 73,
      "symbols": [
        "step"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 12,
      "snippet": "    def step"
    },
    {
      "file": "lib/chaitin_machine.rb",
      "pattern_type": "function_definition",
      "start_line": 93,
      "end_line": 93,
      "symbols": [
        "run"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 30,
      "snippet": "    def run(max_steps: 10_000)"
    },
    {
      "file": "lib/chaitin_machine.rb",
      "pattern_type": "function_definition",
      "start_line": 98,
      "end_line": 98,
      "symbols": [
        "output"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 14,
      "snippet": "    def output"
    },
    {
      "file": "lib/chaitin_machine.rb",
      "pattern_type": "function_definition",
      "start_line": 107,
      "end_line": 107,
      "symbols": [
        "decode_program"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 28,
      "snippet": "    def decode_program(code)"
    },
    {
      "file": "lib/chaitin_machine.rb",
      "pattern_type": "function_definition",
      "start_line": 127,
      "end_line": 127,
      "symbols": [
        "initialize"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 18,
      "snippet": "    def initialize"
    },
    {
      "file": "lib/chaitin_machine.rb",
      "pattern_type": "function_definition",
      "start_line": 134,
      "end_line": 134,
      "symbols": [
        "compute"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 48,
      "snippet": "    def compute(max_length: 10, max_steps: 1000)"
    },
    {
      "file": "lib/chaitin_machine.rb",
      "pattern_type": "function_definition",
      "start_line": 161,
      "end_line": 161,
      "symbols": [
        "kolmogorov"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 65,
      "snippet": "    def kolmogorov(target_output, max_length: 12, max_steps: 500)"
    },
    {
      "file": "lib/chaitin_machine.rb",
      "pattern_type": "function_definition",
      "start_line": 183,
      "end_line": 183,
      "symbols": [
        "initialize"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 58,
      "snippet": "    def initialize(seed: 0x6761795f636f6c6f)  # \"gay_colo\""
    },
    {
      "file": "lib/chaitin_machine.rb",
      "pattern_type": "function_definition",
      "start_line": 192,
      "end_line": 192,
      "symbols": [
        "register_program"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 30,
      "snippet": "    def register_program(code)"
    },
    {
      "file": "lib/chaitin_machine.rb",
      "pattern_type": "function_definition",
      "start_line": 199,
      "end_line": 199,
      "symbols": [
        "execute"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 42,
      "snippet": "    def execute(program, max_cycles: 1000)"
    },
    {
      "file": "lib/chaitin_machine.rb",
      "pattern_type": "function_definition",
      "start_line": 208,
      "end_line": 208,
      "symbols": [
        "moebius_invert"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 31,
      "snippet": "    def moebius_invert(outputs)"
    },
    {
      "file": "lib/chaitin_machine.rb",
      "pattern_type": "function_definition",
      "start_line": 218,
      "end_line": 218,
      "symbols": [
        "program_from_color"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 38,
      "snippet": "    def program_from_color(hex, cycle)"
    },
    {
      "file": "lib/chaitin_machine.rb",
      "pattern_type": "function_definition",
      "start_line": 231,
      "end_line": 231,
      "symbols": [
        "program_to_words"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 33,
      "snippet": "    def program_to_words(program)"
    },
    {
      "file": "lib/chaitin_machine.rb",
      "pattern_type": "function_definition",
      "start_line": 238,
      "end_line": 238,
      "symbols": [
        "hex_to_rgb"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 23,
      "snippet": "    def hex_to_rgb(hex)"
    },
    {
      "file": "lib/chaitin_machine.rb",
      "pattern_type": "class_definition",
      "start_line": 124,
      "end_line": 223,
      "symbols": [
        "Omega"
      ],
      "complexity": 5.6,
      "leitmotif_type": "synthesis",
      "snippet_length": 3148,
      "snippet": "  class Omega\n    attr_reader :programs, :halting, :omega_approx\n\n    def initialize\n      @programs = []\n      @halting = []\n      @omega_approx = 0.0\n    end\n\n    # Enumerate programs up to length n, dovetail execution\n    def compute(max_length: 10, max_steps: 1000)\n      # Generate all prefix-fr"
    },
    {
      "file": "lib/chaitin_machine.rb",
      "pattern_type": "class_definition",
      "start_line": 180,
      "end_line": 244,
      "symbols": [
        "TernaryChaitinMachine"
      ],
      "complexity": 3.9,
      "leitmotif_type": "synthesis",
      "snippet_length": 1931,
      "snippet": "  class TernaryChaitinMachine\n    attr_reader :omega, :lattice, :ternary_machine\n\n    def initialize(seed: 0x6761795f636f6c6f)  # \"gay_colo\"\n      @omega = Omega.new\n      @lattice = Moebius::PrefixLattice.new\n      @ternary_machine = TernaryComputer::Machine.new\n      @seed = seed\n      @rng = Rand"
    },
    {
      "file": "lib/chord.rb",
      "pattern_type": "function_definition",
      "start_line": 7,
      "end_line": 7,
      "symbols": [
        "initialize"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 25,
      "snippet": "  def initialize(*voices)"
    },
    {
      "file": "lib/chord.rb",
      "pattern_type": "function_definition",
      "start_line": 11,
      "end_line": 11,
      "symbols": [
        "self"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 33,
      "snippet": "  def self.from_notes(note_names)"
    },
    {
      "file": "lib/chord.rb",
      "pattern_type": "function_definition",
      "start_line": 18,
      "end_line": 18,
      "symbols": [
        "self"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 54,
      "snippet": "  def self.from_pitch_classes(pitches, voicing: :satb)"
    },
    {
      "file": "lib/chord.rb",
      "pattern_type": "function_definition",
      "start_line": 22,
      "end_line": 22,
      "symbols": [
        "self"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 31,
      "snippet": "  def self.major_triad(root_pc)"
    },
    {
      "file": "lib/chord.rb",
      "pattern_type": "function_definition",
      "start_line": 26,
      "end_line": 26,
      "symbols": [
        "self"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 31,
      "snippet": "  def self.minor_triad(root_pc)"
    },
    {
      "file": "lib/chord.rb",
      "pattern_type": "function_definition",
      "start_line": 30,
      "end_line": 30,
      "symbols": [
        "self"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 36,
      "snippet": "  def self.diminished_triad(root_pc)"
    },
    {
      "file": "lib/chord.rb",
      "pattern_type": "function_definition",
      "start_line": 34,
      "end_line": 34,
      "symbols": [
        "self"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 35,
      "snippet": "  def self.augmented_triad(root_pc)"
    },
    {
      "file": "lib/chord.rb",
      "pattern_type": "function_definition",
      "start_line": 38,
      "end_line": 38,
      "symbols": [
        "voice_leading_distance"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 35,
      "snippet": "  def voice_leading_distance(other)"
    },
    {
      "file": "lib/chord.rb",
      "pattern_type": "function_definition",
      "start_line": 57,
      "end_line": 57,
      "symbols": [
        "smoothness_score"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 29,
      "snippet": "  def smoothness_score(other)"
    },
    {
      "file": "lib/chord.rb",
      "pattern_type": "function_definition",
      "start_line": 67,
      "end_line": 67,
      "symbols": [
        "to_midi_notes"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 28,
      "snippet": "  def to_midi_notes(octaves)"
    },
    {
      "file": "lib/chord.rb",
      "pattern_type": "function_definition",
      "start_line": 71,
      "end_line": 71,
      "symbols": [
        "to_frequencies"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 29,
      "snippet": "  def to_frequencies(octaves)"
    },
    {
      "file": "lib/chord.rb",
      "pattern_type": "function_definition",
      "start_line": 75,
      "end_line": 75,
      "symbols": [
        "root"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 10,
      "snippet": "  def root"
    },
    {
      "file": "lib/chord.rb",
      "pattern_type": "function_definition",
      "start_line": 79,
      "end_line": 79,
      "symbols": [
        "soprano"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 13,
      "snippet": "  def soprano"
    },
    {
      "file": "lib/chord.rb",
      "pattern_type": "function_definition",
      "start_line": 83,
      "end_line": 83,
      "symbols": [
        "alto"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 10,
      "snippet": "  def alto"
    },
    {
      "file": "lib/chord.rb",
      "pattern_type": "function_definition",
      "start_line": 87,
      "end_line": 87,
      "symbols": [
        "tenor"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 11,
      "snippet": "  def tenor"
    },
    {
      "file": "lib/chord.rb",
      "pattern_type": "function_definition",
      "start_line": 91,
      "end_line": 91,
      "symbols": [
        "bass"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 10,
      "snippet": "  def bass"
    },
    {
      "file": "lib/chord.rb",
      "pattern_type": "function_definition",
      "start_line": 95,
      "end_line": 95,
      "symbols": [
        "to_s"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 10,
      "snippet": "  def to_s"
    },
    {
      "file": "lib/chord.rb",
      "pattern_type": "function_definition",
      "start_line": 99,
      "end_line": 99,
      "symbols": [
        "inspect"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 13,
      "snippet": "  def inspect"
    },
    {
      "file": "lib/chord.rb",
      "pattern_type": "function_definition",
      "start_line": 107,
      "end_line": 107,
      "symbols": [
        "to_h"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 10,
      "snippet": "  def to_h"
    },
    {
      "file": "lib/chord.rb",
      "pattern_type": "class_definition",
      "start_line": 4,
      "end_line": 103,
      "symbols": [
        "Chord"
      ],
      "complexity": 6.8,
      "leitmotif_type": "synthesis",
      "snippet_length": 1715,
      "snippet": "class Chord\n  attr_reader :voices\n\n  def initialize(*voices)\n    @voices = voices\n  end\n\n  def self.from_notes(note_names)\n    voices = note_names.map do |name|\n      PitchClass.from_name(name)\n    end\n    new(*voices)\n  end\n\n  def self.from_pitch_classes(pitches, voicing: :satb)\n    new(*pitches)\n "
    },
    {
      "file": "lib/chromatic_subobject.rb",
      "pattern_type": "function_definition",
      "start_line": 24,
      "end_line": 24,
      "symbols": [
        "self"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 45,
      "snippet": "  def self.characteristic(element, predicate)"
    },
    {
      "file": "lib/chromatic_subobject.rb",
      "pattern_type": "function_definition",
      "start_line": 38,
      "end_line": 38,
      "symbols": [
        "initialize"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 32,
      "snippet": "    def initialize(seed = 0x42D)"
    },
    {
      "file": "lib/chromatic_subobject.rb",
      "pattern_type": "function_definition",
      "start_line": 46,
      "end_line": 46,
      "symbols": [
        "classify"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 43,
      "snippet": "    def classify(element, fitness_fn = nil)"
    },
    {
      "file": "lib/chromatic_subobject.rb",
      "pattern_type": "function_definition",
      "start_line": 91,
      "end_line": 91,
      "symbols": [
        "verify_conservation"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 27,
      "snippet": "    def verify_conservation"
    },
    {
      "file": "lib/chromatic_subobject.rb",
      "pattern_type": "function_definition",
      "start_line": 99,
      "end_line": 99,
      "symbols": [
        "initialize"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 43,
      "snippet": "    def initialize(classifier, truth_value)"
    },
    {
      "file": "lib/chromatic_subobject.rb",
      "pattern_type": "function_definition",
      "start_line": 104,
      "end_line": 104,
      "symbols": [
        "apply"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 23,
      "snippet": "    def apply(elements)"
    },
    {
      "file": "lib/chromatic_subobject.rb",
      "pattern_type": "function_definition",
      "start_line": 115,
      "end_line": 115,
      "symbols": [
        "initialize"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 27,
      "snippet": "    def initialize(mapping)"
    },
    {
      "file": "lib/chromatic_subobject.rb",
      "pattern_type": "function_definition",
      "start_line": 119,
      "end_line": 119,
      "symbols": [
        "apply"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 19,
      "snippet": "    def apply(trit)"
    },
    {
      "file": "lib/chromatic_subobject.rb",
      "pattern_type": "function_definition",
      "start_line": 124,
      "end_line": 124,
      "symbols": [
        "compose"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 22,
      "snippet": "    def compose(other)"
    },
    {
      "file": "lib/chromatic_subobject.rb",
      "pattern_type": "function_definition",
      "start_line": 144,
      "end_line": 144,
      "symbols": [
        "self"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 29,
      "snippet": "  def self.demo(seed = 0x42D)"
    },
    {
      "file": "lib/chromatic_subobject.rb",
      "pattern_type": "class_definition",
      "start_line": 35,
      "end_line": 134,
      "symbols": [
        "CyberneticSpleen"
      ],
      "complexity": 4.6,
      "leitmotif_type": "synthesis",
      "snippet_length": 2873,
      "snippet": "  class CyberneticSpleen\n    attr_reader :seed, :classifications, :gf3_history\n    \n    def initialize(seed = 0x42D)\n      @seed = seed\n      @gen = SplitMixTernary::Generator.new(seed)\n      @classifications = []\n      @gf3_history = []\n    end\n    \n    # Classify an element with survival pressure\n"
    },
    {
      "file": "lib/chromatic_subobject.rb",
      "pattern_type": "class_definition",
      "start_line": 98,
      "end_line": 197,
      "symbols": [
        "Pullback"
      ],
      "complexity": 4.7,
      "leitmotif_type": "synthesis",
      "snippet_length": 3439,
      "snippet": "  class Pullback\n    def initialize(classifier, truth_value)\n      @classifier = classifier\n      @truth_value = truth_value\n    end\n    \n    def apply(elements)\n      elements.select do |e|\n        c = @classifier.classifications.find { |c| c[:element] == e }\n        c && c[:trit] == @truth_value\n "
    },
    {
      "file": "lib/chromatic_subobject.rb",
      "pattern_type": "class_definition",
      "start_line": 114,
      "end_line": 213,
      "symbols": [
        "OmegaMorphism"
      ],
      "complexity": 4.3,
      "leitmotif_type": "synthesis",
      "snippet_length": 3503,
      "snippet": "  class OmegaMorphism\n    def initialize(mapping)\n      @mapping = mapping  # e.g., { 1 => 0, 0 => 0, -1 => -1 } collapses true to partial\n    end\n    \n    def apply(trit)\n      @mapping[trit] || trit\n    end\n    \n    # Composition\n    def compose(other)\n      new_mapping = @mapping.transform_values"
    },
    {
      "file": "lib/cofree_comonad.rb",
      "pattern_type": "function_definition",
      "start_line": 17,
      "end_line": 17,
      "symbols": [
        "initialize"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 30,
      "snippet": "    def initialize(head, tail)"
    },
    {
      "file": "lib/cofree_comonad.rb",
      "pattern_type": "function_definition",
      "start_line": 24,
      "end_line": 24,
      "symbols": [
        "extract"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 15,
      "snippet": "    def extract"
    },
    {
      "file": "lib/cofree_comonad.rb",
      "pattern_type": "function_definition",
      "start_line": 30,
      "end_line": 30,
      "symbols": [
        "extend"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 18,
      "snippet": "    def extend(&f)"
    },
    {
      "file": "lib/cofree_comonad.rb",
      "pattern_type": "function_definition",
      "start_line": 36,
      "end_line": 36,
      "symbols": [
        "duplicate"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 17,
      "snippet": "    def duplicate"
    },
    {
      "file": "lib/cofree_comonad.rb",
      "pattern_type": "function_definition",
      "start_line": 41,
      "end_line": 41,
      "symbols": [
        "telescope"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 28,
      "snippet": "    def telescope(&selector)"
    },
    {
      "file": "lib/cofree_comonad.rb",
      "pattern_type": "function_definition",
      "start_line": 60,
      "end_line": 60,
      "symbols": [
        "self"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 29,
      "snippet": "  def self.coiter(seed, &psi)"
    },
    {
      "file": "lib/cofree_comonad.rb",
      "pattern_type": "function_definition",
      "start_line": 74,
      "end_line": 74,
      "symbols": [
        "initialize"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 41,
      "snippet": "    def initialize(value, continue = nil)"
    },
    {
      "file": "lib/cofree_comonad.rb",
      "pattern_type": "function_definition",
      "start_line": 79,
      "end_line": 79,
      "symbols": [
        "fmap"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 16,
      "snippet": "    def fmap(&f)"
    },
    {
      "file": "lib/cofree_comonad.rb",
      "pattern_type": "function_definition",
      "start_line": 89,
      "end_line": 89,
      "symbols": [
        "initialize"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 66,
      "snippet": "    def initialize(tempo: 90, timbre: :sine, volume: 0.5, beat: 0,"
    },
    {
      "file": "lib/cofree_comonad.rb",
      "pattern_type": "function_definition",
      "start_line": 104,
      "end_line": 104,
      "symbols": [
        "default_play"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 50,
      "snippet": "    def default_play(pitches, duration, amplitude)"
    },
    {
      "file": "lib/cofree_comonad.rb",
      "pattern_type": "function_definition",
      "start_line": 110,
      "end_line": 110,
      "symbols": [
        "midi_to_note"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 26,
      "snippet": "    def midi_to_note(midi)"
    },
    {
      "file": "lib/cofree_comonad.rb",
      "pattern_type": "function_definition",
      "start_line": 117,
      "end_line": 117,
      "symbols": [
        "default_transforms"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 26,
      "snippet": "    def default_transforms"
    },
    {
      "file": "lib/cofree_comonad.rb",
      "pattern_type": "function_definition",
      "start_line": 125,
      "end_line": 125,
      "symbols": [
        "default_conditions"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 26,
      "snippet": "    def default_conditions"
    },
    {
      "file": "lib/cofree_comonad.rb",
      "pattern_type": "function_definition",
      "start_line": 132,
      "end_line": 132,
      "symbols": [
        "dup"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 11,
      "snippet": "    def dup"
    },
    {
      "file": "lib/cofree_comonad.rb",
      "pattern_type": "function_definition",
      "start_line": 146,
      "end_line": 146,
      "symbols": [
        "advance"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 25,
      "snippet": "    def advance(duration)"
    },
    {
      "file": "lib/cofree_comonad.rb",
      "pattern_type": "function_definition",
      "start_line": 159,
      "end_line": 159,
      "symbols": [
        "self"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 39,
      "snippet": "  def self.matter_stream(initial_state)"
    },
    {
      "file": "lib/cofree_comonad.rb",
      "pattern_type": "function_definition",
      "start_line": 169,
      "end_line": 169,
      "symbols": [
        "self"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 34,
      "snippet": "  def self.yield_next_state(state)"
    },
    {
      "file": "lib/cofree_comonad.rb",
      "pattern_type": "function_definition",
      "start_line": 174,
      "end_line": 174,
      "symbols": [
        "self"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 78,
      "snippet": "  def self.performance_matter(tempo: 90, timbre: :sine, volume: 0.5, &play_fn)"
    },
    {
      "file": "lib/cofree_comonad.rb",
      "pattern_type": "class_definition",
      "start_line": 14,
      "end_line": 113,
      "symbols": [
        "Cofree"
      ],
      "complexity": 5.7,
      "leitmotif_type": "synthesis",
      "snippet_length": 3132,
      "snippet": "  class Cofree\n    attr_reader :head, :tail\n    \n    def initialize(head, tail)\n      @head = head\n      @tail = tail\n    end\n    \n    # Extract: get the current observation\n    # This is the counit: Cofree f a -> a\n    def extract\n      @head\n    end\n    \n    # Extend: apply a function at every pos"
    },
    {
      "file": "lib/cofree_comonad.rb",
      "pattern_type": "class_definition",
      "start_line": 71,
      "end_line": 170,
      "symbols": [
        "MatterResponse"
      ],
      "complexity": 4.7,
      "leitmotif_type": "synthesis",
      "snippet_length": 3020,
      "snippet": "  class MatterResponse\n    attr_reader :value, :continue\n    \n    def initialize(value, continue = nil)\n      @value = value\n      @continue = continue\n    end\n    \n    def fmap(&f)\n      MatterResponse.new(@value, @continue ? f.call(@continue) : nil)\n    end\n  end\n  \n  # Complete musical environmen"
    },
    {
      "file": "lib/cofree_comonad.rb",
      "pattern_type": "class_definition",
      "start_line": 85,
      "end_line": 184,
      "symbols": [
        "MusicalMatter"
      ],
      "complexity": 4.5,
      "leitmotif_type": "synthesis",
      "snippet_length": 3003,
      "snippet": "  class MusicalMatter\n    attr_accessor :tempo, :timbre, :volume, :beat, :time_ns, :play_fn,\n                  :harmonic_key, :harmonic_function, :transforms, :conditions\n    \n    def initialize(tempo: 90, timbre: :sine, volume: 0.5, beat: 0,\n                   harmonic_key: :C_major, harmonic_funct"
    },
    {
      "file": "lib/crdt_skill.rb",
      "pattern_type": "function_definition",
      "start_line": 57,
      "end_line": 106,
      "symbols": [
        "initialize"
      ],
      "complexity": 3.1,
      "leitmotif_type": "synthesis",
      "snippet_length": 1119,
      "snippet": "    def initialize(initial_value = nil, replica_id = \"default\")\n      @value = initial_value\n      @timestamp = Time.now.to_f\n      @replica_id = replica_id\n    end\n\n    def set(new_value, timestamp = Time.now.to_f)\n      if timestamp > @timestamp\n        @value = new_value\n        @timestamp = time"
    },
    {
      "file": "lib/crdt_skill.rb",
      "pattern_type": "function_definition",
      "start_line": 63,
      "end_line": 112,
      "symbols": [
        "set"
      ],
      "complexity": 3.1,
      "leitmotif_type": "synthesis",
      "snippet_length": 1051,
      "snippet": "    def set(new_value, timestamp = Time.now.to_f)\n      if timestamp > @timestamp\n        @value = new_value\n        @timestamp = timestamp\n      end\n      self\n    end\n\n    def merge(other)\n      if other.timestamp > @timestamp\n        @value = other.value\n        @timestamp = other.timestamp\n     "
    },
    {
      "file": "lib/crdt_skill.rb",
      "pattern_type": "function_definition",
      "start_line": 71,
      "end_line": 120,
      "symbols": [
        "merge"
      ],
      "complexity": 2.6,
      "leitmotif_type": "synthesis",
      "snippet_length": 1043,
      "snippet": "    def merge(other)\n      if other.timestamp > @timestamp\n        @value = other.value\n        @timestamp = other.timestamp\n      end\n      self\n    end\n\n    def to_h\n      { value: @value, timestamp: @timestamp, replica_id: @replica_id }\n    end\n  end\n\n  # Grow-only Counter\n  class GCounter\n    at"
    },
    {
      "file": "lib/crdt_skill.rb",
      "pattern_type": "function_definition",
      "start_line": 79,
      "end_line": 128,
      "symbols": [
        "to_h"
      ],
      "complexity": 2.1,
      "leitmotif_type": "synthesis",
      "snippet_length": 1147,
      "snippet": "    def to_h\n      { value: @value, timestamp: @timestamp, replica_id: @replica_id }\n    end\n  end\n\n  # Grow-only Counter\n  class GCounter\n    attr_reader :counters\n\n    def initialize(replica_id = \"default\")\n      @replica_id = replica_id\n      @counters = {}\n    end\n\n    def increment(amount = 1, "
    },
    {
      "file": "lib/crdt_skill.rb",
      "pattern_type": "function_definition",
      "start_line": 88,
      "end_line": 137,
      "symbols": [
        "initialize"
      ],
      "complexity": 2.3,
      "leitmotif_type": "synthesis",
      "snippet_length": 1172,
      "snippet": "    def initialize(replica_id = \"default\")\n      @replica_id = replica_id\n      @counters = {}\n    end\n\n    def increment(amount = 1, replica_id = nil)\n      replica = replica_id || @replica_id\n      @counters[replica] ||= 0\n      @counters[replica] += amount\n      self\n    end\n\n    def value\n      "
    },
    {
      "file": "lib/crdt_skill.rb",
      "pattern_type": "function_definition",
      "start_line": 93,
      "end_line": 142,
      "symbols": [
        "increment"
      ],
      "complexity": 2.3,
      "leitmotif_type": "synthesis",
      "snippet_length": 1206,
      "snippet": "    def increment(amount = 1, replica_id = nil)\n      replica = replica_id || @replica_id\n      @counters[replica] ||= 0\n      @counters[replica] += amount\n      self\n    end\n\n    def value\n      @counters.values.sum\n    end\n\n    def merge(other)\n      other.counters.each do |replica, count|\n       "
    },
    {
      "file": "lib/crdt_skill.rb",
      "pattern_type": "function_definition",
      "start_line": 100,
      "end_line": 149,
      "symbols": [
        "value"
      ],
      "complexity": 2.3,
      "leitmotif_type": "synthesis",
      "snippet_length": 1155,
      "snippet": "    def value\n      @counters.values.sum\n    end\n\n    def merge(other)\n      other.counters.each do |replica, count|\n        @counters[replica] = [@counters[replica] || 0, count].max\n      end\n      self\n    end\n\n    def to_h\n      { counters: @counters, replica_id: @replica_id }\n    end\n  end\n\n  # "
    },
    {
      "file": "lib/crdt_skill.rb",
      "pattern_type": "function_definition",
      "start_line": 104,
      "end_line": 153,
      "symbols": [
        "merge"
      ],
      "complexity": 2.1,
      "leitmotif_type": "synthesis",
      "snippet_length": 1159,
      "snippet": "    def merge(other)\n      other.counters.each do |replica, count|\n        @counters[replica] = [@counters[replica] || 0, count].max\n      end\n      self\n    end\n\n    def to_h\n      { counters: @counters, replica_id: @replica_id }\n    end\n  end\n\n  # Positive-Negative Counter\n  class PNCounter\n    at"
    },
    {
      "file": "lib/crdt_skill.rb",
      "pattern_type": "function_definition",
      "start_line": 111,
      "end_line": 160,
      "symbols": [
        "to_h"
      ],
      "complexity": 1.6,
      "leitmotif_type": "synthesis",
      "snippet_length": 1136,
      "snippet": "    def to_h\n      { counters: @counters, replica_id: @replica_id }\n    end\n  end\n\n  # Positive-Negative Counter\n  class PNCounter\n    attr_accessor :positive_counter, :negative_counter\n\n    def initialize(replica_id = \"default\")\n      @replica_id = replica_id\n      @positive_counter = GCounter.new("
    },
    {
      "file": "lib/crdt_skill.rb",
      "pattern_type": "function_definition",
      "start_line": 120,
      "end_line": 169,
      "symbols": [
        "initialize"
      ],
      "complexity": 1.6,
      "leitmotif_type": "synthesis",
      "snippet_length": 1214,
      "snippet": "    def initialize(replica_id = \"default\")\n      @replica_id = replica_id\n      @positive_counter = GCounter.new(\"#{replica_id}-p\")\n      @negative_counter = GCounter.new(\"#{replica_id}-n\")\n    end\n\n    def increment(amount = 1)\n      @positive_counter.increment(amount, \"#{@replica_id}-p\")\n      sel"
    },
    {
      "file": "lib/crdt_skill.rb",
      "pattern_type": "function_definition",
      "start_line": 126,
      "end_line": 175,
      "symbols": [
        "increment"
      ],
      "complexity": 1.6,
      "leitmotif_type": "synthesis",
      "snippet_length": 1095,
      "snippet": "    def increment(amount = 1)\n      @positive_counter.increment(amount, \"#{@replica_id}-p\")\n      self\n    end\n\n    def decrement(amount = 1)\n      @negative_counter.increment(amount, \"#{@replica_id}-n\")\n      self\n    end\n\n    def value\n      @positive_counter.value - @negative_counter.value\n    en"
    },
    {
      "file": "lib/crdt_skill.rb",
      "pattern_type": "function_definition",
      "start_line": 131,
      "end_line": 180,
      "symbols": [
        "decrement"
      ],
      "complexity": 1.6,
      "leitmotif_type": "synthesis",
      "snippet_length": 1074,
      "snippet": "    def decrement(amount = 1)\n      @negative_counter.increment(amount, \"#{@replica_id}-n\")\n      self\n    end\n\n    def value\n      @positive_counter.value - @negative_counter.value\n    end\n\n    def merge(other)\n      @positive_counter.merge(other.positive_counter)\n      @negative_counter.merge(othe"
    },
    {
      "file": "lib/crdt_skill.rb",
      "pattern_type": "function_definition",
      "start_line": 136,
      "end_line": 185,
      "symbols": [
        "value"
      ],
      "complexity": 2.3,
      "leitmotif_type": "synthesis",
      "snippet_length": 1057,
      "snippet": "    def value\n      @positive_counter.value - @negative_counter.value\n    end\n\n    def merge(other)\n      @positive_counter.merge(other.positive_counter)\n      @negative_counter.merge(other.negative_counter)\n      self\n    end\n\n    def to_h\n      {\n        positive: @positive_counter.to_h,\n        n"
    },
    {
      "file": "lib/crdt_skill.rb",
      "pattern_type": "function_definition",
      "start_line": 140,
      "end_line": 189,
      "symbols": [
        "merge"
      ],
      "complexity": 3.1,
      "leitmotif_type": "synthesis",
      "snippet_length": 1151,
      "snippet": "    def merge(other)\n      @positive_counter.merge(other.positive_counter)\n      @negative_counter.merge(other.negative_counter)\n      self\n    end\n\n    def to_h\n      {\n        positive: @positive_counter.to_h,\n        negative: @negative_counter.to_h,\n        replica_id: @replica_id\n      }\n    en"
    },
    {
      "file": "lib/crdt_skill.rb",
      "pattern_type": "function_definition",
      "start_line": 146,
      "end_line": 195,
      "symbols": [
        "to_h"
      ],
      "complexity": 3.4,
      "leitmotif_type": "synthesis",
      "snippet_length": 1139,
      "snippet": "    def to_h\n      {\n        positive: @positive_counter.to_h,\n        negative: @negative_counter.to_h,\n        replica_id: @replica_id\n      }\n    end\n  end\n\n  # Observed-Remove Set\n  class ORSet\n    attr_reader :elements\n\n    def initialize(replica_id = \"default\")\n      @replica_id = replica_id\n "
    },
    {
      "file": "lib/crdt_skill.rb",
      "pattern_type": "function_definition",
      "start_line": 159,
      "end_line": 208,
      "symbols": [
        "initialize"
      ],
      "complexity": 3.6,
      "leitmotif_type": "synthesis",
      "snippet_length": 1232,
      "snippet": "    def initialize(replica_id = \"default\")\n      @replica_id = replica_id\n      @elements = {}  # {value => {unique_id => timestamp}}\n    end\n\n    def add(value)\n      unique_id = \"#{@replica_id}-#{SecureRandom.hex(4)}\"\n      timestamp = Time.now.to_f\n      @elements[value] ||= {}\n      @elements[va"
    },
    {
      "file": "lib/crdt_skill.rb",
      "pattern_type": "function_definition",
      "start_line": 164,
      "end_line": 213,
      "symbols": [
        "add"
      ],
      "complexity": 3.6,
      "leitmotif_type": "synthesis",
      "snippet_length": 1204,
      "snippet": "    def add(value)\n      unique_id = \"#{@replica_id}-#{SecureRandom.hex(4)}\"\n      timestamp = Time.now.to_f\n      @elements[value] ||= {}\n      @elements[value][unique_id] = timestamp\n      self\n    end\n\n    def remove(value)\n      @elements.delete(value)\n      self\n    end\n\n    def contains?(value"
    },
    {
      "file": "lib/crdt_skill.rb",
      "pattern_type": "function_definition",
      "start_line": 172,
      "end_line": 221,
      "symbols": [
        "remove"
      ],
      "complexity": 4.1,
      "leitmotif_type": "synthesis",
      "snippet_length": 1220,
      "snippet": "    def remove(value)\n      @elements.delete(value)\n      self\n    end\n\n    def contains?(value)\n      @elements.key?(value) && !@elements[value].empty?\n    end\n\n    def members\n      @elements.keys.select { |v| contains?(v) }\n    end\n\n    def merge(other)\n      other.elements.each do |value, unique"
    },
    {
      "file": "lib/crdt_skill.rb",
      "pattern_type": "function_definition",
      "start_line": 177,
      "end_line": 226,
      "symbols": [
        "contains?"
      ],
      "complexity": 4.1,
      "leitmotif_type": "synthesis",
      "snippet_length": 1199,
      "snippet": "    def contains?(value)\n      @elements.key?(value) && !@elements[value].empty?\n    end\n\n    def members\n      @elements.keys.select { |v| contains?(v) }\n    end\n\n    def merge(other)\n      other.elements.each do |value, unique_ids|\n        @elements[value] ||= {}\n        unique_ids.each do |uid, t"
    },
    {
      "file": "lib/crdt_skill.rb",
      "pattern_type": "function_definition",
      "start_line": 181,
      "end_line": 230,
      "symbols": [
        "members"
      ],
      "complexity": 4.6,
      "leitmotif_type": "synthesis",
      "snippet_length": 1189,
      "snippet": "    def members\n      @elements.keys.select { |v| contains?(v) }\n    end\n\n    def merge(other)\n      other.elements.each do |value, unique_ids|\n        @elements[value] ||= {}\n        unique_ids.each do |uid, timestamp|\n          existing_time = @elements[value][uid]\n          @elements[value][uid] "
    },
    {
      "file": "lib/crdt_skill.rb",
      "pattern_type": "function_definition",
      "start_line": 185,
      "end_line": 234,
      "symbols": [
        "merge"
      ],
      "complexity": 4.4,
      "leitmotif_type": "synthesis",
      "snippet_length": 1307,
      "snippet": "    def merge(other)\n      other.elements.each do |value, unique_ids|\n        @elements[value] ||= {}\n        unique_ids.each do |uid, timestamp|\n          existing_time = @elements[value][uid]\n          @elements[value][uid] = timestamp if existing_time.nil? || timestamp > existing_time\n        end"
    },
    {
      "file": "lib/crdt_skill.rb",
      "pattern_type": "function_definition",
      "start_line": 196,
      "end_line": 245,
      "symbols": [
        "to_h"
      ],
      "complexity": 2.9,
      "leitmotif_type": "synthesis",
      "snippet_length": 1146,
      "snippet": "    def to_h\n      { elements: @elements, replica_id: @replica_id }\n    end\n  end\n\n  # Text CRDT (simplified - character-based)\n  class TextCRDT\n    attr_reader :chars, :vector_clock\n\n    def initialize(replica_id = \"default\")\n      @replica_id = replica_id\n      @chars = []\n      @vector_clock = { "
    },
    {
      "file": "lib/crdt_skill.rb",
      "pattern_type": "function_definition",
      "start_line": 205,
      "end_line": 249,
      "symbols": [
        "initialize"
      ],
      "complexity": 2.7,
      "leitmotif_type": "synthesis",
      "snippet_length": 1140,
      "snippet": "    def initialize(replica_id = \"default\")\n      @replica_id = replica_id\n      @chars = []\n      @vector_clock = { replica_id => 0 }\n    end\n\n    def insert(position, char)\n      @chars.insert(position, char)\n      @vector_clock[@replica_id] ||= 0\n      @vector_clock[@replica_id] += 1\n      self\n  "
    },
    {
      "file": "lib/crdt_skill.rb",
      "pattern_type": "function_definition",
      "start_line": 211,
      "end_line": 249,
      "symbols": [
        "insert"
      ],
      "complexity": 2.5,
      "leitmotif_type": "synthesis",
      "snippet_length": 997,
      "snippet": "    def insert(position, char)\n      @chars.insert(position, char)\n      @vector_clock[@replica_id] ||= 0\n      @vector_clock[@replica_id] += 1\n      self\n    end\n\n    def delete(position)\n      @chars.delete_at(position) if position < @chars.length\n      @vector_clock[@replica_id] ||= 0\n      @vect"
    },
    {
      "file": "lib/crdt_skill.rb",
      "pattern_type": "function_definition",
      "start_line": 218,
      "end_line": 249,
      "symbols": [
        "delete"
      ],
      "complexity": 2.3,
      "leitmotif_type": "synthesis",
      "snippet_length": 833,
      "snippet": "    def delete(position)\n      @chars.delete_at(position) if position < @chars.length\n      @vector_clock[@replica_id] ||= 0\n      @vector_clock[@replica_id] += 1\n      self\n    end\n\n    def to_s\n      @chars.join\n    end\n\n    def merge(other)\n      other.vector_clock.each do |replica, clock|\n      "
    },
    {
      "file": "lib/crdt_skill.rb",
      "pattern_type": "function_definition",
      "start_line": 225,
      "end_line": 249,
      "symbols": [
        "to_s"
      ],
      "complexity": 1.6,
      "leitmotif_type": "synthesis",
      "snippet_length": 650,
      "snippet": "    def to_s\n      @chars.join\n    end\n\n    def merge(other)\n      other.vector_clock.each do |replica, clock|\n        @vector_clock[replica] = [@vector_clock[replica] || 0, clock].max\n      end\n      # Simple merge: keep longer string (not production-grade)\n      if other.chars.length > @chars.leng"
    },
    {
      "file": "lib/crdt_skill.rb",
      "pattern_type": "function_definition",
      "start_line": 229,
      "end_line": 249,
      "symbols": [
        "merge"
      ],
      "complexity": 1.4,
      "leitmotif_type": "synthesis",
      "snippet_length": 610,
      "snippet": "    def merge(other)\n      other.vector_clock.each do |replica, clock|\n        @vector_clock[replica] = [@vector_clock[replica] || 0, clock].max\n      end\n      # Simple merge: keep longer string (not production-grade)\n      if other.chars.length > @chars.length\n        @chars = other.chars.dup\n    "
    },
    {
      "file": "lib/crdt_skill.rb",
      "pattern_type": "function_definition",
      "start_line": 240,
      "end_line": 249,
      "symbols": [
        "to_h"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 284,
      "snippet": "    def to_h\n      { text: to_s, vector_clock: @vector_clock, replica_id: @replica_id }\n    end\n  end\nend\n\n# \u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\n# CRDT Skill\n# \u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\n"
    },
    {
      "file": "lib/crdt_skill.rb",
      "pattern_type": "function_definition",
      "start_line": 255,
      "end_line": 255,
      "symbols": [
        "initialize"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 16,
      "snippet": "  def initialize"
    },
    {
      "file": "lib/crdt_skill.rb",
      "pattern_type": "function_definition",
      "start_line": 297,
      "end_line": 297,
      "symbols": [
        "merge"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 49,
      "snippet": "  def merge(name1, name2, replica_id = \"default\")"
    },
    {
      "file": "lib/crdt_skill.rb",
      "pattern_type": "function_definition",
      "start_line": 344,
      "end_line": 344,
      "symbols": [
        "query"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 41,
      "snippet": "  def query(name, operation = nil, *args)"
    },
    {
      "file": "lib/crdt_skill.rb",
      "pattern_type": "function_definition",
      "start_line": 380,
      "end_line": 380,
      "symbols": [
        "mutate"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 36,
      "snippet": "  def mutate(name, operation, *args)"
    },
    {
      "file": "lib/crdt_skill.rb",
      "pattern_type": "function_definition",
      "start_line": 424,
      "end_line": 424,
      "symbols": [
        "create_crdt_lens"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 22,
      "snippet": "  def create_crdt_lens"
    },
    {
      "file": "lib/crdt_skill.rb",
      "pattern_type": "function_definition",
      "start_line": 448,
      "end_line": 448,
      "symbols": [
        "play"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 58,
      "snippet": "  def play(crdt_name:, operations:, strategy: :sequential)"
    },
    {
      "file": "lib/crdt_skill.rb",
      "pattern_type": "function_definition",
      "start_line": 479,
      "end_line": 479,
      "symbols": [
        "coplay"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 64,
      "snippet": "  def coplay(transfer_id:, acknowledged:, consistency_verified:)"
    },
    {
      "file": "lib/crdt_skill.rb",
      "pattern_type": "function_definition",
      "start_line": 508,
      "end_line": 508,
      "symbols": [
        "verify_idempotence"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 38,
      "snippet": "  def verify_idempotence(crdt1, crdt2)"
    },
    {
      "file": "lib/crdt_skill.rb",
      "pattern_type": "function_definition",
      "start_line": 521,
      "end_line": 521,
      "symbols": [
        "verify_commutativity"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 40,
      "snippet": "  def verify_commutativity(name1, name2)"
    },
    {
      "file": "lib/crdt_skill.rb",
      "pattern_type": "function_definition",
      "start_line": 540,
      "end_line": 540,
      "symbols": [
        "verify_associativity"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 47,
      "snippet": "  def verify_associativity(name1, name2, name3)"
    },
    {
      "file": "lib/crdt_skill.rb",
      "pattern_type": "function_definition",
      "start_line": 566,
      "end_line": 566,
      "symbols": [
        "compute_utility"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 29,
      "snippet": "  def compute_utility(result)"
    },
    {
      "file": "lib/crdt_skill.rb",
      "pattern_type": "function_definition",
      "start_line": 578,
      "end_line": 578,
      "symbols": [
        "statistics"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 16,
      "snippet": "  def statistics"
    },
    {
      "file": "lib/crdt_skill.rb",
      "pattern_type": "function_definition",
      "start_line": 596,
      "end_line": 596,
      "symbols": [
        "run_tests"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 15,
      "snippet": "  def run_tests"
    },
    {
      "file": "lib/crdt_skill.rb",
      "pattern_type": "function_definition",
      "start_line": 686,
      "end_line": 686,
      "symbols": [
        "deep_copy"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 20,
      "snippet": "  def deep_copy(obj)"
    },
    {
      "file": "lib/crdt_skill.rb",
      "pattern_type": "function_definition",
      "start_line": 690,
      "end_line": 690,
      "symbols": [
        "serialize_crdt"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 26,
      "snippet": "  def serialize_crdt(crdt)"
    },
    {
      "file": "lib/crdt_skill.rb",
      "pattern_type": "function_definition",
      "start_line": 694,
      "end_line": 694,
      "symbols": [
        "apply_operations"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 45,
      "snippet": "  def apply_operations(crdt_name, operations)"
    },
    {
      "file": "lib/crdt_skill.rb",
      "pattern_type": "function_definition",
      "start_line": 711,
      "end_line": 711,
      "symbols": [
        "estimate_size"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 31,
      "snippet": "  def estimate_size(operations)"
    },
    {
      "file": "lib/crdt_skill.rb",
      "pattern_type": "function_definition",
      "start_line": 723,
      "end_line": 723,
      "symbols": [
        "calculate_success_rate"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 28,
      "snippet": "  def calculate_success_rate"
    },
    {
      "file": "lib/crdt_skill.rb",
      "pattern_type": "function_definition",
      "start_line": 729,
      "end_line": 729,
      "symbols": [
        "calculate_avg_merge_time"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 30,
      "snippet": "  def calculate_avg_merge_time"
    },
    {
      "file": "lib/crdt_skill.rb",
      "pattern_type": "class_definition",
      "start_line": 54,
      "end_line": 249,
      "symbols": [
        "LWWRegister"
      ],
      "complexity": 10.0,
      "leitmotif_type": "synthesis",
      "snippet_length": 4521,
      "snippet": "  class LWWRegister\n    attr_reader :value, :timestamp, :replica_id\n\n    def initialize(initial_value = nil, replica_id = \"default\")\n      @value = initial_value\n      @timestamp = Time.now.to_f\n      @replica_id = replica_id\n    end\n\n    def set(new_value, timestamp = Time.now.to_f)\n      if timest"
    },
    {
      "file": "lib/crdt_skill.rb",
      "pattern_type": "class_definition",
      "start_line": 85,
      "end_line": 249,
      "symbols": [
        "GCounter"
      ],
      "complexity": 8.8,
      "leitmotif_type": "synthesis",
      "snippet_length": 3839,
      "snippet": "  class GCounter\n    attr_reader :counters\n\n    def initialize(replica_id = \"default\")\n      @replica_id = replica_id\n      @counters = {}\n    end\n\n    def increment(amount = 1, replica_id = nil)\n      replica = replica_id || @replica_id\n      @counters[replica] ||= 0\n      @counters[replica] += amo"
    },
    {
      "file": "lib/crdt_skill.rb",
      "pattern_type": "class_definition",
      "start_line": 117,
      "end_line": 249,
      "symbols": [
        "PNCounter"
      ],
      "complexity": 7.3,
      "leitmotif_type": "synthesis",
      "snippet_length": 3189,
      "snippet": "  class PNCounter\n    attr_accessor :positive_counter, :negative_counter\n\n    def initialize(replica_id = \"default\")\n      @replica_id = replica_id\n      @positive_counter = GCounter.new(\"#{replica_id}-p\")\n      @negative_counter = GCounter.new(\"#{replica_id}-n\")\n    end\n\n    def increment(amount = "
    },
    {
      "file": "lib/crdt_skill.rb",
      "pattern_type": "class_definition",
      "start_line": 156,
      "end_line": 249,
      "symbols": [
        "ORSet"
      ],
      "complexity": 6.1,
      "leitmotif_type": "synthesis",
      "snippet_length": 2280,
      "snippet": "  class ORSet\n    attr_reader :elements\n\n    def initialize(replica_id = \"default\")\n      @replica_id = replica_id\n      @elements = {}  # {value => {unique_id => timestamp}}\n    end\n\n    def add(value)\n      unique_id = \"#{@replica_id}-#{SecureRandom.hex(4)}\"\n      timestamp = Time.now.to_f\n      @"
    },
    {
      "file": "lib/crdt_skill.rb",
      "pattern_type": "class_definition",
      "start_line": 202,
      "end_line": 249,
      "symbols": [
        "TextCRDT"
      ],
      "complexity": 2.7,
      "leitmotif_type": "synthesis",
      "snippet_length": 1196,
      "snippet": "  class TextCRDT\n    attr_reader :chars, :vector_clock\n\n    def initialize(replica_id = \"default\")\n      @replica_id = replica_id\n      @chars = []\n      @vector_clock = { replica_id => 0 }\n    end\n\n    def insert(position, char)\n      @chars.insert(position, char)\n      @vector_clock[@replica_id] |"
    },
    {
      "file": "lib/crdt_skill.rb",
      "pattern_type": "class_definition",
      "start_line": 250,
      "end_line": 349,
      "symbols": [
        "CRDTSkill"
      ],
      "complexity": 2.8,
      "leitmotif_type": "synthesis",
      "snippet_length": 2645,
      "snippet": "class CRDTSkill\n  include HedgesOpenGames\n\n  attr_reader :crdt_store, :merge_history, :operation_log\n\n  def initialize\n    @crdt_store = {}\n    @merge_history = []\n    @operation_log = []\n  end\n\n  # \u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\n  # Core Operations: "
    },
    {
      "file": "lib/curriculum.rb",
      "pattern_type": "function_definition",
      "start_line": 55,
      "end_line": 55,
      "symbols": [
        "pitch_class_events"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 59,
      "snippet": "      def pitch_class_events(start_beat, pitches, dur, gap)"
    },
    {
      "file": "lib/curriculum.rb",
      "pattern_type": "function_definition",
      "start_line": 68,
      "end_line": 68,
      "symbols": [
        "harmonic_function_events"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 67,
      "snippet": "      def harmonic_function_events(start_beat, functions, dur, gap)"
    },
    {
      "file": "lib/curriculum.rb",
      "pattern_type": "function_definition",
      "start_line": 82,
      "end_line": 82,
      "symbols": [
        "modulation_events"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 60,
      "snippet": "      def modulation_events(start_beat, intervals, dur, gap)"
    },
    {
      "file": "lib/curriculum.rb",
      "pattern_type": "function_definition",
      "start_line": 96,
      "end_line": 96,
      "symbols": [
        "chord_progression_events"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 64,
      "snippet": "      def chord_progression_events(start_beat, chords, dur, gap)"
    },
    {
      "file": "lib/curriculum.rb",
      "pattern_type": "function_definition",
      "start_line": 110,
      "end_line": 110,
      "symbols": [
        "compile_initial_world"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 31,
      "snippet": "      def compile_initial_world"
    },
    {
      "file": "lib/curriculum.rb",
      "pattern_type": "function_definition",
      "start_line": 125,
      "end_line": 125,
      "symbols": [
        "compile_terminal_world"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 32,
      "snippet": "      def compile_terminal_world"
    },
    {
      "file": "lib/curriculum.rb",
      "pattern_type": "function_definition",
      "start_line": 145,
      "end_line": 145,
      "symbols": [
        "compile_full_curriculum"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 33,
      "snippet": "      def compile_full_curriculum"
    },
    {
      "file": "lib/event_scheduler.rb",
      "pattern_type": "function_definition",
      "start_line": 10,
      "end_line": 10,
      "symbols": [
        "initialize"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 93,
      "snippet": "  def initialize(tempo:, play_event: nil, sc_host: DEFAULT_SC_HOST, sc_port: DEFAULT_SC_PORT)"
    },
    {
      "file": "lib/event_scheduler.rb",
      "pattern_type": "function_definition",
      "start_line": 18,
      "end_line": 18,
      "symbols": [
        "run"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 23,
      "snippet": "  def run(score_events)"
    },
    {
      "file": "lib/event_scheduler.rb",
      "pattern_type": "function_definition",
      "start_line": 34,
      "end_line": 34,
      "symbols": [
        "send_osc"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 27,
      "snippet": "  def send_osc(path, *args)"
    },
    {
      "file": "lib/event_scheduler.rb",
      "pattern_type": "function_definition",
      "start_line": 39,
      "end_line": 39,
      "symbols": [
        "score_event_to_s_new"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 33,
      "snippet": "  def score_event_to_s_new(event)"
    },
    {
      "file": "lib/event_scheduler.rb",
      "pattern_type": "function_definition",
      "start_line": 56,
      "end_line": 56,
      "symbols": [
        "play_via_osc"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 25,
      "snippet": "  def play_via_osc(event)"
    },
    {
      "file": "lib/event_scheduler.rb",
      "pattern_type": "function_definition",
      "start_line": 61,
      "end_line": 61,
      "symbols": [
        "close"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 11,
      "snippet": "  def close"
    },
    {
      "file": "lib/event_scheduler.rb",
      "pattern_type": "function_definition",
      "start_line": 67,
      "end_line": 67,
      "symbols": [
        "monotonic_now"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 19,
      "snippet": "  def monotonic_now"
    },
    {
      "file": "lib/event_scheduler.rb",
      "pattern_type": "function_definition",
      "start_line": 71,
      "end_line": 71,
      "symbols": [
        "beats_to_seconds"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 29,
      "snippet": "  def beats_to_seconds(beats)"
    },
    {
      "file": "lib/event_scheduler.rb",
      "pattern_type": "function_definition",
      "start_line": 75,
      "end_line": 75,
      "symbols": [
        "sleep_until"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 30,
      "snippet": "  def sleep_until(target_time)"
    },
    {
      "file": "lib/event_scheduler.rb",
      "pattern_type": "function_definition",
      "start_line": 83,
      "end_line": 83,
      "symbols": [
        "default_play_event"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 31,
      "snippet": "  def default_play_event(event)"
    },
    {
      "file": "lib/event_scheduler.rb",
      "pattern_type": "function_definition",
      "start_line": 97,
      "end_line": 97,
      "symbols": [
        "osc_string"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 21,
      "snippet": "  def osc_string(str)"
    },
    {
      "file": "lib/event_scheduler.rb",
      "pattern_type": "function_definition",
      "start_line": 111,
      "end_line": 111,
      "symbols": [
        "encode_osc_arg"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 25,
      "snippet": "  def encode_osc_arg(arg)"
    },
    {
      "file": "lib/exa_research_history.rb",
      "pattern_type": "function_definition",
      "start_line": 29,
      "end_line": 29,
      "symbols": [
        "initialize"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 45,
      "snippet": "  def initialize(api_key: ENV['EXA_API_KEY'])"
    },
    {
      "file": "lib/exa_research_history.rb",
      "pattern_type": "function_definition",
      "start_line": 72,
      "end_line": 72,
      "symbols": [
        "fetch_paginated_tasks"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 27,
      "snippet": "  def fetch_paginated_tasks"
    },
    {
      "file": "lib/exa_research_history.rb",
      "pattern_type": "function_definition",
      "start_line": 119,
      "end_line": 119,
      "symbols": [
        "fetch_page"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 41,
      "snippet": "  def fetch_page(cursor = nil, limit: 50)"
    },
    {
      "file": "lib/exa_research_history.rb",
      "pattern_type": "function_definition",
      "start_line": 150,
      "end_line": 150,
      "symbols": [
        "fetch_detailed_events"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 27,
      "snippet": "  def fetch_detailed_events"
    },
    {
      "file": "lib/exa_research_history.rb",
      "pattern_type": "function_definition",
      "start_line": 183,
      "end_line": 183,
      "symbols": [
        "generate_report"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 21,
      "snippet": "  def generate_report"
    },
    {
      "file": "lib/exa_research_history.rb",
      "pattern_type": "function_definition",
      "start_line": 205,
      "end_line": 205,
      "symbols": [
        "analyze_tasks"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 19,
      "snippet": "  def analyze_tasks"
    },
    {
      "file": "lib/exa_research_history.rb",
      "pattern_type": "function_definition",
      "start_line": 218,
      "end_line": 218,
      "symbols": [
        "breakdown_by_status"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 25,
      "snippet": "  def breakdown_by_status"
    },
    {
      "file": "lib/exa_research_history.rb",
      "pattern_type": "function_definition",
      "start_line": 228,
      "end_line": 228,
      "symbols": [
        "breakdown_by_model"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 24,
      "snippet": "  def breakdown_by_model"
    },
    {
      "file": "lib/exa_research_history.rb",
      "pattern_type": "function_definition",
      "start_line": 238,
      "end_line": 238,
      "symbols": [
        "generate_timeline"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 23,
      "snippet": "  def generate_timeline"
    },
    {
      "file": "lib/exa_research_history.rb",
      "pattern_type": "function_definition",
      "start_line": 250,
      "end_line": 250,
      "symbols": [
        "print_task_summary"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 30,
      "snippet": "  def print_task_summary(task)"
    },
    {
      "file": "lib/exa_research_history.rb",
      "pattern_type": "function_definition",
      "start_line": 269,
      "end_line": 269,
      "symbols": [
        "print_summary_report"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 34,
      "snippet": "  def print_summary_report(report)"
    },
    {
      "file": "lib/exa_research_history.rb",
      "pattern_type": "function_definition",
      "start_line": 316,
      "end_line": 316,
      "symbols": [
        "save_json_report"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 30,
      "snippet": "  def save_json_report(report)"
    },
    {
      "file": "lib/exa_research_history.rb",
      "pattern_type": "function_definition",
      "start_line": 327,
      "end_line": 327,
      "symbols": [
        "find_tasks_by_status"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 34,
      "snippet": "  def find_tasks_by_status(status)"
    },
    {
      "file": "lib/exa_research_history.rb",
      "pattern_type": "function_definition",
      "start_line": 332,
      "end_line": 332,
      "symbols": [
        "find_tasks_by_model"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 32,
      "snippet": "  def find_tasks_by_model(model)"
    },
    {
      "file": "lib/exa_research_history.rb",
      "pattern_type": "function_definition",
      "start_line": 353,
      "end_line": 353,
      "symbols": [
        "export_csv"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 16,
      "snippet": "  def export_csv"
    },
    {
      "file": "lib/exa_research_history.rb",
      "pattern_type": "function_definition",
      "start_line": 377,
      "end_line": 377,
      "symbols": [
        "export_markdown"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 21,
      "snippet": "  def export_markdown"
    },
    {
      "file": "lib/form.rb",
      "pattern_type": "function_definition",
      "start_line": 17,
      "end_line": 17,
      "symbols": [
        "initialize"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 34,
      "snippet": "  def initialize(expo, dev, recap)"
    },
    {
      "file": "lib/form.rb",
      "pattern_type": "function_definition",
      "start_line": 23,
      "end_line": 23,
      "symbols": [
        "complete?"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 15,
      "snippet": "  def complete?"
    },
    {
      "file": "lib/form.rb",
      "pattern_type": "class_definition",
      "start_line": 14,
      "end_line": 27,
      "symbols": [
        "SonataForm"
      ],
      "complexity": 0.4,
      "leitmotif_type": "synthesis",
      "snippet_length": 268,
      "snippet": "class SonataForm\n  attr_reader :exposition, :development, :recapitulation\n\n  def initialize(expo, dev, recap)\n    @exposition = expo\n    @development = dev\n    @recapitulation = recap\n  end\n\n  def complete?\n    @exposition && @development && @recapitulation\n  end\nend\n"
    },
    {
      "file": "lib/free_monad.rb",
      "pattern_type": "function_definition",
      "start_line": 12,
      "end_line": 61,
      "symbols": [
        "pure?"
      ],
      "complexity": 2.5,
      "leitmotif_type": "synthesis",
      "snippet_length": 890,
      "snippet": "    def pure?\n      is_a?(Pure)\n    end\n    \n    def bind(&f)\n      raise NotImplementedError\n    end\n    \n    def map(&f)\n      bind { |a| Pure.new(f.call(a)) }\n    end\n    \n    def flatten\n      bind { |x| x }\n    end\n  end\n  \n  # Pure value - computation complete\n  class Pure < Free\n    attr_read"
    },
    {
      "file": "lib/free_monad.rb",
      "pattern_type": "function_definition",
      "start_line": 16,
      "end_line": 65,
      "symbols": [
        "bind"
      ],
      "complexity": 2.3,
      "leitmotif_type": "synthesis",
      "snippet_length": 967,
      "snippet": "    def bind(&f)\n      raise NotImplementedError\n    end\n    \n    def map(&f)\n      bind { |a| Pure.new(f.call(a)) }\n    end\n    \n    def flatten\n      bind { |x| x }\n    end\n  end\n  \n  # Pure value - computation complete\n  class Pure < Free\n    attr_reader :value\n    \n    def initialize(value)\n    "
    },
    {
      "file": "lib/free_monad.rb",
      "pattern_type": "function_definition",
      "start_line": 20,
      "end_line": 69,
      "symbols": [
        "map"
      ],
      "complexity": 2.6,
      "leitmotif_type": "synthesis",
      "snippet_length": 1041,
      "snippet": "    def map(&f)\n      bind { |a| Pure.new(f.call(a)) }\n    end\n    \n    def flatten\n      bind { |x| x }\n    end\n  end\n  \n  # Pure value - computation complete\n  class Pure < Free\n    attr_reader :value\n    \n    def initialize(value)\n      @value = value\n    end\n    \n    def bind(&f)\n      f.call(@v"
    },
    {
      "file": "lib/free_monad.rb",
      "pattern_type": "function_definition",
      "start_line": 24,
      "end_line": 73,
      "symbols": [
        "flatten"
      ],
      "complexity": 2.1,
      "leitmotif_type": "synthesis",
      "snippet_length": 1036,
      "snippet": "    def flatten\n      bind { |x| x }\n    end\n  end\n  \n  # Pure value - computation complete\n  class Pure < Free\n    attr_reader :value\n    \n    def initialize(value)\n      @value = value\n    end\n    \n    def bind(&f)\n      f.call(@value)\n    end\n    \n    def to_s\n      \"Pure(#{@value})\"\n    end\n  en"
    },
    {
      "file": "lib/free_monad.rb",
      "pattern_type": "function_definition",
      "start_line": 33,
      "end_line": 82,
      "symbols": [
        "initialize"
      ],
      "complexity": 2.1,
      "leitmotif_type": "synthesis",
      "snippet_length": 1148,
      "snippet": "    def initialize(value)\n      @value = value\n    end\n    \n    def bind(&f)\n      f.call(@value)\n    end\n    \n    def to_s\n      \"Pure(#{@value})\"\n    end\n  end\n  \n  # Suspended computation - more work to do\n  class Suspend < Free\n    attr_reader :instruction\n    \n    def initialize(instruction)\n  "
    },
    {
      "file": "lib/free_monad.rb",
      "pattern_type": "function_definition",
      "start_line": 37,
      "end_line": 86,
      "symbols": [
        "bind"
      ],
      "complexity": 2.1,
      "leitmotif_type": "synthesis",
      "snippet_length": 1167,
      "snippet": "    def bind(&f)\n      f.call(@value)\n    end\n    \n    def to_s\n      \"Pure(#{@value})\"\n    end\n  end\n  \n  # Suspended computation - more work to do\n  class Suspend < Free\n    attr_reader :instruction\n    \n    def initialize(instruction)\n      @instruction = instruction\n    end\n    \n    def bind(&f)"
    },
    {
      "file": "lib/free_monad.rb",
      "pattern_type": "function_definition",
      "start_line": 41,
      "end_line": 90,
      "symbols": [
        "to_s"
      ],
      "complexity": 1.9,
      "leitmotif_type": "synthesis",
      "snippet_length": 1209,
      "snippet": "    def to_s\n      \"Pure(#{@value})\"\n    end\n  end\n  \n  # Suspended computation - more work to do\n  class Suspend < Free\n    attr_reader :instruction\n    \n    def initialize(instruction)\n      @instruction = instruction\n    end\n    \n    def bind(&f)\n      # fmap the bind into the instruction's conti"
    },
    {
      "file": "lib/free_monad.rb",
      "pattern_type": "function_definition",
      "start_line": 50,
      "end_line": 99,
      "symbols": [
        "initialize"
      ],
      "complexity": 1.9,
      "leitmotif_type": "synthesis",
      "snippet_length": 1387,
      "snippet": "    def initialize(instruction)\n      @instruction = instruction\n    end\n    \n    def bind(&f)\n      # fmap the bind into the instruction's continuation\n      Suspend.new(@instruction.fmap { |free| free.bind(&f) })\n    end\n    \n    def to_s\n      \"Suspend(#{@instruction.class.name.split('::').last})"
    },
    {
      "file": "lib/free_monad.rb",
      "pattern_type": "function_definition",
      "start_line": 54,
      "end_line": 103,
      "symbols": [
        "bind"
      ],
      "complexity": 1.9,
      "leitmotif_type": "synthesis",
      "snippet_length": 1418,
      "snippet": "    def bind(&f)\n      # fmap the bind into the instruction's continuation\n      Suspend.new(@instruction.fmap { |free| free.bind(&f) })\n    end\n    \n    def to_s\n      \"Suspend(#{@instruction.class.name.split('::').last})\"\n    end\n  end\n  \n  # ======================================================="
    },
    {
      "file": "lib/free_monad.rb",
      "pattern_type": "function_definition",
      "start_line": 59,
      "end_line": 108,
      "symbols": [
        "to_s"
      ],
      "complexity": 1.7,
      "leitmotif_type": "synthesis",
      "snippet_length": 1331,
      "snippet": "    def to_s\n      \"Suspend(#{@instruction.class.name.split('::').last})\"\n    end\n  end\n  \n  # ============================================================================\n  # MUSICAL INSTRUCTION FUNCTOR\n  # ============================================================================\n  \n  # Base cla"
    },
    {
      "file": "lib/free_monad.rb",
      "pattern_type": "function_definition",
      "start_line": 70,
      "end_line": 119,
      "symbols": [
        "fmap"
      ],
      "complexity": 1.4,
      "leitmotif_type": "synthesis",
      "snippet_length": 1243,
      "snippet": "    def fmap(&f)\n      raise NotImplementedError\n    end\n  end\n  \n  # Play a single note\n  class PlayNote < Instruction\n    attr_reader :pitch, :duration, :amplitude, :next_fn\n    \n    def initialize(pitch, duration, amplitude, &next_fn)\n      @pitch = pitch\n      @duration = duration\n      @amplitu"
    },
    {
      "file": "lib/free_monad.rb",
      "pattern_type": "function_definition",
      "start_line": 79,
      "end_line": 128,
      "symbols": [
        "initialize"
      ],
      "complexity": 1.4,
      "leitmotif_type": "synthesis",
      "snippet_length": 1363,
      "snippet": "    def initialize(pitch, duration, amplitude, &next_fn)\n      @pitch = pitch\n      @duration = duration\n      @amplitude = amplitude\n      @next_fn = next_fn || -> { Pure.new(nil) }\n    end\n    \n    def fmap(&f)\n      PlayNote.new(@pitch, @duration, @amplitude) { f.call(@next_fn.call) }\n    end\n  e"
    },
    {
      "file": "lib/free_monad.rb",
      "pattern_type": "function_definition",
      "start_line": 86,
      "end_line": 135,
      "symbols": [
        "fmap"
      ],
      "complexity": 1.4,
      "leitmotif_type": "synthesis",
      "snippet_length": 1303,
      "snippet": "    def fmap(&f)\n      PlayNote.new(@pitch, @duration, @amplitude) { f.call(@next_fn.call) }\n    end\n  end\n  \n  # Play a chord (multiple notes simultaneously)\n  class PlayChord < Instruction\n    attr_reader :pitches, :duration, :amplitude, :next_fn\n    \n    def initialize(pitches, duration, amplitud"
    },
    {
      "file": "lib/free_monad.rb",
      "pattern_type": "function_definition",
      "start_line": 95,
      "end_line": 144,
      "symbols": [
        "initialize"
      ],
      "complexity": 1.4,
      "leitmotif_type": "synthesis",
      "snippet_length": 1320,
      "snippet": "    def initialize(pitches, duration, amplitude, &next_fn)\n      @pitches = pitches\n      @duration = duration\n      @amplitude = amplitude\n      @next_fn = next_fn || -> { Pure.new(nil) }\n    end\n    \n    def fmap(&f)\n      PlayChord.new(@pitches, @duration, @amplitude) { f.call(@next_fn.call) }\n  "
    },
    {
      "file": "lib/free_monad.rb",
      "pattern_type": "function_definition",
      "start_line": 102,
      "end_line": 151,
      "symbols": [
        "fmap"
      ],
      "complexity": 1.4,
      "leitmotif_type": "synthesis",
      "snippet_length": 1257,
      "snippet": "    def fmap(&f)\n      PlayChord.new(@pitches, @duration, @amplitude) { f.call(@next_fn.call) }\n    end\n  end\n  \n  # Rest (silence)\n  class Rest < Instruction\n    attr_reader :duration, :next_fn\n    \n    def initialize(duration, &next_fn)\n      @duration = duration\n      @next_fn = next_fn || -> { P"
    },
    {
      "file": "lib/free_monad.rb",
      "pattern_type": "function_definition",
      "start_line": 111,
      "end_line": 160,
      "symbols": [
        "initialize"
      ],
      "complexity": 2.1,
      "leitmotif_type": "synthesis",
      "snippet_length": 1252,
      "snippet": "    def initialize(duration, &next_fn)\n      @duration = duration\n      @next_fn = next_fn || -> { Pure.new(nil) }\n    end\n    \n    def fmap(&f)\n      Rest.new(@duration) { f.call(@next_fn.call) }\n    end\n  end\n  \n  # Apply a musical transformation\n  class Transform < Instruction\n    attr_reader :tr"
    },
    {
      "file": "lib/free_monad.rb",
      "pattern_type": "function_definition",
      "start_line": 116,
      "end_line": 165,
      "symbols": [
        "fmap"
      ],
      "complexity": 1.9,
      "leitmotif_type": "synthesis",
      "snippet_length": 1209,
      "snippet": "    def fmap(&f)\n      Rest.new(@duration) { f.call(@next_fn.call) }\n    end\n  end\n  \n  # Apply a musical transformation\n  class Transform < Instruction\n    attr_reader :transformation, :target, :next_fn\n    \n    def initialize(transformation, target, &next_fn)\n      @transformation = transformation"
    },
    {
      "file": "lib/free_monad.rb",
      "pattern_type": "function_definition",
      "start_line": 125,
      "end_line": 174,
      "symbols": [
        "initialize"
      ],
      "complexity": 2.6,
      "leitmotif_type": "synthesis",
      "snippet_length": 1167,
      "snippet": "    def initialize(transformation, target, &next_fn)\n      @transformation = transformation\n      @target = target\n      @next_fn = next_fn || ->(result) { Pure.new(result) }\n    end\n    \n    def fmap(&f)\n      Transform.new(@transformation, @target) { |result| f.call(@next_fn.call(result)) }\n    en"
    },
    {
      "file": "lib/free_monad.rb",
      "pattern_type": "function_definition",
      "start_line": 131,
      "end_line": 180,
      "symbols": [
        "fmap"
      ],
      "complexity": 2.4,
      "leitmotif_type": "synthesis",
      "snippet_length": 1174,
      "snippet": "    def fmap(&f)\n      Transform.new(@transformation, @target) { |result| f.call(@next_fn.call(result)) }\n    end\n  end\n  \n  # Conditional branch\n  class Branch < Instruction\n    attr_reader :condition, :then_branch, :else_branch\n    \n    def initialize(condition, then_branch, else_branch)\n      @co"
    },
    {
      "file": "lib/free_monad.rb",
      "pattern_type": "function_definition",
      "start_line": 140,
      "end_line": 189,
      "symbols": [
        "initialize"
      ],
      "complexity": 2.6,
      "leitmotif_type": "synthesis",
      "snippet_length": 1119,
      "snippet": "    def initialize(condition, then_branch, else_branch)\n      @condition = condition\n      @then_branch = then_branch\n      @else_branch = else_branch\n    end\n    \n    def fmap(&f)\n      Branch.new(@condition, f.call(@then_branch), f.call(@else_branch))\n    end\n  end\n  \n  # Sequential composition\n  "
    },
    {
      "file": "lib/free_monad.rb",
      "pattern_type": "function_definition",
      "start_line": 146,
      "end_line": 195,
      "symbols": [
        "fmap"
      ],
      "complexity": 2.8,
      "leitmotif_type": "synthesis",
      "snippet_length": 1143,
      "snippet": "    def fmap(&f)\n      Branch.new(@condition, f.call(@then_branch), f.call(@else_branch))\n    end\n  end\n  \n  # Sequential composition\n  class Sequence < Instruction\n    attr_reader :actions\n    \n    def initialize(actions)\n      @actions = actions\n    end\n    \n    def fmap(&f)\n      Sequence.new(@ac"
    },
    {
      "file": "lib/free_monad.rb",
      "pattern_type": "function_definition",
      "start_line": 155,
      "end_line": 204,
      "symbols": [
        "initialize"
      ],
      "complexity": 3.0,
      "leitmotif_type": "synthesis",
      "snippet_length": 1202,
      "snippet": "    def initialize(actions)\n      @actions = actions\n    end\n    \n    def fmap(&f)\n      Sequence.new(@actions.map { |a| f.call(a) })\n    end\n  end\n  \n  # Parallel composition (polyphony)\n  class Parallel < Instruction\n    attr_reader :voices\n    \n    def initialize(voices)\n      @voices = voices\n  "
    },
    {
      "file": "lib/free_monad.rb",
      "pattern_type": "function_definition",
      "start_line": 159,
      "end_line": 208,
      "symbols": [
        "fmap"
      ],
      "complexity": 3.0,
      "leitmotif_type": "synthesis",
      "snippet_length": 1218,
      "snippet": "    def fmap(&f)\n      Sequence.new(@actions.map { |a| f.call(a) })\n    end\n  end\n  \n  # Parallel composition (polyphony)\n  class Parallel < Instruction\n    attr_reader :voices\n    \n    def initialize(voices)\n      @voices = voices\n    end\n    \n    def fmap(&f)\n      Parallel.new(@voices.map { |v| f"
    },
    {
      "file": "lib/free_monad.rb",
      "pattern_type": "function_definition",
      "start_line": 168,
      "end_line": 217,
      "symbols": [
        "initialize"
      ],
      "complexity": 2.5,
      "leitmotif_type": "synthesis",
      "snippet_length": 1310,
      "snippet": "    def initialize(voices)\n      @voices = voices\n    end\n    \n    def fmap(&f)\n      Parallel.new(@voices.map { |v| f.call(v) })\n    end\n  end\n  \n  # ============================================================================\n  # DSL CONSTRUCTORS\n  # ==============================================="
    },
    {
      "file": "lib/free_monad.rb",
      "pattern_type": "function_definition",
      "start_line": 172,
      "end_line": 221,
      "symbols": [
        "fmap"
      ],
      "complexity": 3.0,
      "leitmotif_type": "synthesis",
      "snippet_length": 1330,
      "snippet": "    def fmap(&f)\n      Parallel.new(@voices.map { |v| f.call(v) })\n    end\n  end\n  \n  # ============================================================================\n  # DSL CONSTRUCTORS\n  # ============================================================================\n  \n  module DSL\n    def pure(x)\n "
    },
    {
      "file": "lib/free_monad.rb",
      "pattern_type": "function_definition",
      "start_line": 182,
      "end_line": 231,
      "symbols": [
        "pure"
      ],
      "complexity": 2.3,
      "leitmotif_type": "synthesis",
      "snippet_length": 1360,
      "snippet": "    def pure(x)\n      Pure.new(x)\n    end\n    \n    def play_note!(pitch, duration, amplitude)\n      Suspend.new(PlayNote.new(pitch, duration, amplitude))\n    end\n    \n    def play_chord!(pitches, duration, amplitude)\n      Suspend.new(PlayChord.new(pitches, duration, amplitude))\n    end\n    \n    def"
    },
    {
      "file": "lib/free_monad.rb",
      "pattern_type": "function_definition",
      "start_line": 186,
      "end_line": 231,
      "symbols": [
        "play_note!"
      ],
      "complexity": 2.1,
      "leitmotif_type": "synthesis",
      "snippet_length": 1313,
      "snippet": "    def play_note!(pitch, duration, amplitude)\n      Suspend.new(PlayNote.new(pitch, duration, amplitude))\n    end\n    \n    def play_chord!(pitches, duration, amplitude)\n      Suspend.new(PlayChord.new(pitches, duration, amplitude))\n    end\n    \n    def rest!(duration)\n      Suspend.new(Rest.new(dur"
    },
    {
      "file": "lib/free_monad.rb",
      "pattern_type": "function_definition",
      "start_line": 190,
      "end_line": 231,
      "symbols": [
        "play_chord!"
      ],
      "complexity": 1.9,
      "leitmotif_type": "synthesis",
      "snippet_length": 1193,
      "snippet": "    def play_chord!(pitches, duration, amplitude)\n      Suspend.new(PlayChord.new(pitches, duration, amplitude))\n    end\n    \n    def rest!(duration)\n      Suspend.new(Rest.new(duration))\n    end\n    \n    def transform!(transformation, target)\n      Suspend.new(Transform.new(transformation, target))"
    },
    {
      "file": "lib/free_monad.rb",
      "pattern_type": "function_definition",
      "start_line": 194,
      "end_line": 231,
      "symbols": [
        "rest!"
      ],
      "complexity": 1.7,
      "leitmotif_type": "synthesis",
      "snippet_length": 1067,
      "snippet": "    def rest!(duration)\n      Suspend.new(Rest.new(duration))\n    end\n    \n    def transform!(transformation, target)\n      Suspend.new(Transform.new(transformation, target))\n    end\n    \n    def branch!(condition, then_branch, else_branch)\n      Suspend.new(Branch.new(condition, then_branch, else_b"
    },
    {
      "file": "lib/free_monad.rb",
      "pattern_type": "function_definition",
      "start_line": 198,
      "end_line": 231,
      "symbols": [
        "transform!"
      ],
      "complexity": 1.5,
      "leitmotif_type": "synthesis",
      "snippet_length": 992,
      "snippet": "    def transform!(transformation, target)\n      Suspend.new(Transform.new(transformation, target))\n    end\n    \n    def branch!(condition, then_branch, else_branch)\n      Suspend.new(Branch.new(condition, then_branch, else_branch))\n    end\n    \n    def sequence!(*actions)\n      Suspend.new(Sequence"
    },
    {
      "file": "lib/free_monad.rb",
      "pattern_type": "function_definition",
      "start_line": 202,
      "end_line": 231,
      "symbols": [
        "branch!"
      ],
      "complexity": 1.3,
      "leitmotif_type": "synthesis",
      "snippet_length": 879,
      "snippet": "    def branch!(condition, then_branch, else_branch)\n      Suspend.new(Branch.new(condition, then_branch, else_branch))\n    end\n    \n    def sequence!(*actions)\n      Suspend.new(Sequence.new(actions))\n    end\n    \n    def parallel!(*voices)\n      Suspend.new(Parallel.new(voices))\n    end\n  end\n  \n "
    },
    {
      "file": "lib/free_monad.rb",
      "pattern_type": "function_definition",
      "start_line": 206,
      "end_line": 231,
      "symbols": [
        "sequence!"
      ],
      "complexity": 1.1,
      "leitmotif_type": "synthesis",
      "snippet_length": 746,
      "snippet": "    def sequence!(*actions)\n      Suspend.new(Sequence.new(actions))\n    end\n    \n    def parallel!(*voices)\n      Suspend.new(Parallel.new(voices))\n    end\n  end\n  \n  # ============================================================================\n  # FOLD / INTERPRETER\n  # =========================="
    },
    {
      "file": "lib/free_monad.rb",
      "pattern_type": "function_definition",
      "start_line": 210,
      "end_line": 231,
      "symbols": [
        "parallel!"
      ],
      "complexity": 0.9,
      "leitmotif_type": "synthesis",
      "snippet_length": 664,
      "snippet": "    def parallel!(*voices)\n      Suspend.new(Parallel.new(voices))\n    end\n  end\n  \n  # ============================================================================\n  # FOLD / INTERPRETER\n  # ============================================================================\n  \n  def self.fold(pattern, &in"
    },
    {
      "file": "lib/free_monad.rb",
      "pattern_type": "function_definition",
      "start_line": 219,
      "end_line": 231,
      "symbols": [
        "self"
      ],
      "complexity": 0.7,
      "leitmotif_type": "synthesis",
      "snippet_length": 392,
      "snippet": "  def self.fold(pattern, &interpreter)\n    if pattern.pure?\n      pattern.value\n    else\n      interpreter.call(pattern.instruction.fmap { |p| fold(p, &interpreter) })\n    end\n  end\nend\n\n# ============================================================================\n# EXAMPLE: INITIAL WORLD AS FREE M"
    },
    {
      "file": "lib/free_monad.rb",
      "pattern_type": "function_definition",
      "start_line": 235,
      "end_line": 235,
      "symbols": [
        "self"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 16,
      "snippet": "  def self.build"
    },
    {
      "file": "lib/free_monad.rb",
      "pattern_type": "class_definition",
      "start_line": 11,
      "end_line": 231,
      "symbols": [
        "Free"
      ],
      "complexity": 9.3,
      "leitmotif_type": "synthesis",
      "snippet_length": 5268,
      "snippet": "  class Free\n    def pure?\n      is_a?(Pure)\n    end\n    \n    def bind(&f)\n      raise NotImplementedError\n    end\n    \n    def map(&f)\n      bind { |a| Pure.new(f.call(a)) }\n    end\n    \n    def flatten\n      bind { |x| x }\n    end\n  end\n  \n  # Pure value - computation complete\n  class Pure < Free\n"
    },
    {
      "file": "lib/free_monad.rb",
      "pattern_type": "class_definition",
      "start_line": 30,
      "end_line": 231,
      "symbols": [
        "Pure"
      ],
      "complexity": 8.0,
      "leitmotif_type": "synthesis",
      "snippet_length": 4988,
      "snippet": "  class Pure < Free\n    attr_reader :value\n    \n    def initialize(value)\n      @value = value\n    end\n    \n    def bind(&f)\n      f.call(@value)\n    end\n    \n    def to_s\n      \"Pure(#{@value})\"\n    end\n  end\n  \n  # Suspended computation - more work to do\n  class Suspend < Free\n    attr_reader :ins"
    },
    {
      "file": "lib/free_monad.rb",
      "pattern_type": "class_definition",
      "start_line": 47,
      "end_line": 231,
      "symbols": [
        "Suspend"
      ],
      "complexity": 7.4,
      "leitmotif_type": "synthesis",
      "snippet_length": 4731,
      "snippet": "  class Suspend < Free\n    attr_reader :instruction\n    \n    def initialize(instruction)\n      @instruction = instruction\n    end\n    \n    def bind(&f)\n      # fmap the bind into the instruction's continuation\n      Suspend.new(@instruction.fmap { |free| free.bind(&f) })\n    end\n    \n    def to_s\n  "
    },
    {
      "file": "lib/free_monad.rb",
      "pattern_type": "class_definition",
      "start_line": 69,
      "end_line": 231,
      "symbols": [
        "Instruction"
      ],
      "complexity": 6.3,
      "leitmotif_type": "synthesis",
      "snippet_length": 4126,
      "snippet": "  class Instruction\n    def fmap(&f)\n      raise NotImplementedError\n    end\n  end\n  \n  # Play a single note\n  class PlayNote < Instruction\n    attr_reader :pitch, :duration, :amplitude, :next_fn\n    \n    def initialize(pitch, duration, amplitude, &next_fn)\n      @pitch = pitch\n      @duration = dur"
    },
    {
      "file": "lib/free_monad.rb",
      "pattern_type": "class_definition",
      "start_line": 76,
      "end_line": 231,
      "symbols": [
        "PlayNote"
      ],
      "complexity": 6.1,
      "leitmotif_type": "synthesis",
      "snippet_length": 4017,
      "snippet": "  class PlayNote < Instruction\n    attr_reader :pitch, :duration, :amplitude, :next_fn\n    \n    def initialize(pitch, duration, amplitude, &next_fn)\n      @pitch = pitch\n      @duration = duration\n      @amplitude = amplitude\n      @next_fn = next_fn || -> { Pure.new(nil) }\n    end\n    \n    def fmap"
    },
    {
      "file": "lib/free_monad.rb",
      "pattern_type": "class_definition",
      "start_line": 92,
      "end_line": 231,
      "symbols": [
        "PlayChord"
      ],
      "complexity": 5.7,
      "leitmotif_type": "synthesis",
      "snippet_length": 3570,
      "snippet": "  class PlayChord < Instruction\n    attr_reader :pitches, :duration, :amplitude, :next_fn\n    \n    def initialize(pitches, duration, amplitude, &next_fn)\n      @pitches = pitches\n      @duration = duration\n      @amplitude = amplitude\n      @next_fn = next_fn || -> { Pure.new(nil) }\n    end\n    \n   "
    },
    {
      "file": "lib/free_monad.rb",
      "pattern_type": "class_definition",
      "start_line": 108,
      "end_line": 231,
      "symbols": [
        "Rest"
      ],
      "complexity": 5.3,
      "leitmotif_type": "synthesis",
      "snippet_length": 3141,
      "snippet": "  class Rest < Instruction\n    attr_reader :duration, :next_fn\n    \n    def initialize(duration, &next_fn)\n      @duration = duration\n      @next_fn = next_fn || -> { Pure.new(nil) }\n    end\n    \n    def fmap(&f)\n      Rest.new(@duration) { f.call(@next_fn.call) }\n    end\n  end\n  \n  # Apply a musica"
    },
    {
      "file": "lib/free_monad.rb",
      "pattern_type": "class_definition",
      "start_line": 122,
      "end_line": 231,
      "symbols": [
        "Transform"
      ],
      "complexity": 4.9,
      "leitmotif_type": "synthesis",
      "snippet_length": 2824,
      "snippet": "  class Transform < Instruction\n    attr_reader :transformation, :target, :next_fn\n    \n    def initialize(transformation, target, &next_fn)\n      @transformation = transformation\n      @target = target\n      @next_fn = next_fn || ->(result) { Pure.new(result) }\n    end\n    \n    def fmap(&f)\n      T"
    },
    {
      "file": "lib/free_monad.rb",
      "pattern_type": "class_definition",
      "start_line": 137,
      "end_line": 231,
      "symbols": [
        "Branch"
      ],
      "complexity": 4.5,
      "leitmotif_type": "synthesis",
      "snippet_length": 2402,
      "snippet": "  class Branch < Instruction\n    attr_reader :condition, :then_branch, :else_branch\n    \n    def initialize(condition, then_branch, else_branch)\n      @condition = condition\n      @then_branch = then_branch\n      @else_branch = else_branch\n    end\n    \n    def fmap(&f)\n      Branch.new(@condition, f"
    },
    {
      "file": "lib/free_monad.rb",
      "pattern_type": "class_definition",
      "start_line": 152,
      "end_line": 231,
      "symbols": [
        "Sequence"
      ],
      "complexity": 4.1,
      "leitmotif_type": "synthesis",
      "snippet_length": 2015,
      "snippet": "  class Sequence < Instruction\n    attr_reader :actions\n    \n    def initialize(actions)\n      @actions = actions\n    end\n    \n    def fmap(&f)\n      Sequence.new(@actions.map { |a| f.call(a) })\n    end\n  end\n  \n  # Parallel composition (polyphony)\n  class Parallel < Instruction\n    attr_reader :voi"
    },
    {
      "file": "lib/free_monad.rb",
      "pattern_type": "class_definition",
      "start_line": 165,
      "end_line": 231,
      "symbols": [
        "Parallel"
      ],
      "complexity": 3.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 1766,
      "snippet": "  class Parallel < Instruction\n    attr_reader :voices\n    \n    def initialize(voices)\n      @voices = voices\n    end\n    \n    def fmap(&f)\n      Parallel.new(@voices.map { |v| f.call(v) })\n    end\n  end\n  \n  # ============================================================================\n  # DSL CONS"
    },
    {
      "file": "lib/free_monad.rb",
      "pattern_type": "class_definition",
      "start_line": 232,
      "end_line": 263,
      "symbols": [
        "InitialWorldPattern"
      ],
      "complexity": 0.7,
      "leitmotif_type": "synthesis",
      "snippet_length": 804,
      "snippet": "class InitialWorldPattern\n  extend FreeMonad::DSL\n  \n  def self.build\n    sequence!(\n      # 1. Initial pitch\n      play_note!(60, 2.0, 0.3),\n      \n      # 2. Chromatic scale\n      sequence!(\n        *((60..71).map { |p| play_note!(p, 0.08, 0.2) })\n      ),\n      \n      # 3. Harmonic functions T \u2192 "
    },
    {
      "file": "lib/gay_neverending.rb",
      "pattern_type": "function_definition",
      "start_line": 46,
      "end_line": 46,
      "symbols": [
        "initialize"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 29,
      "snippet": "    def initialize(seed: nil)"
    },
    {
      "file": "lib/gay_neverending.rb",
      "pattern_type": "function_definition",
      "start_line": 58,
      "end_line": 58,
      "symbols": [
        "next_color!"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 19,
      "snippet": "    def next_color!"
    },
    {
      "file": "lib/gay_neverending.rb",
      "pattern_type": "function_definition",
      "start_line": 64,
      "end_line": 64,
      "symbols": [
        "color_at"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 21,
      "snippet": "    def color_at(idx)"
    },
    {
      "file": "lib/gay_neverending.rb",
      "pattern_type": "function_definition",
      "start_line": 88,
      "end_line": 88,
      "symbols": [
        "palette"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 18,
      "snippet": "    def palette(n)"
    },
    {
      "file": "lib/gay_neverending.rb",
      "pattern_type": "function_definition",
      "start_line": 93,
      "end_line": 93,
      "symbols": [
        "golden_thread"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 28,
      "snippet": "    def golden_thread(steps)"
    },
    {
      "file": "lib/gay_neverending.rb",
      "pattern_type": "function_definition",
      "start_line": 98,
      "end_line": 98,
      "symbols": [
        "reset!"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 14,
      "snippet": "    def reset!"
    },
    {
      "file": "lib/gay_neverending.rb",
      "pattern_type": "function_definition",
      "start_line": 103,
      "end_line": 103,
      "symbols": [
        "set_seed!"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 27,
      "snippet": "    def set_seed!(new_seed)"
    },
    {
      "file": "lib/gay_neverending.rb",
      "pattern_type": "function_definition",
      "start_line": 110,
      "end_line": 110,
      "symbols": [
        "deterministic_rng"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 36,
      "snippet": "    def deterministic_rng(seed, idx)"
    },
    {
      "file": "lib/gay_neverending.rb",
      "pattern_type": "function_definition",
      "start_line": 123,
      "end_line": 123,
      "symbols": [
        "hsl_to_rgb"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 27,
      "snippet": "    def hsl_to_rgb(h, s, l)"
    },
    {
      "file": "lib/gay_neverending.rb",
      "pattern_type": "function_definition",
      "start_line": 141,
      "end_line": 141,
      "symbols": [
        "rgb_to_hex"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 23,
      "snippet": "    def rgb_to_hex(rgb)"
    },
    {
      "file": "lib/gay_neverending.rb",
      "pattern_type": "function_definition",
      "start_line": 155,
      "end_line": 155,
      "symbols": [
        "self"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 36,
      "snippet": "    def self.hue_to_pitch_class(hue)"
    },
    {
      "file": "lib/gay_neverending.rb",
      "pattern_type": "function_definition",
      "start_line": 168,
      "end_line": 168,
      "symbols": [
        "self"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 58,
      "snippet": "    def self.hue_to_scale_degree(hue, scale: DORIAN_SCALE)"
    },
    {
      "file": "lib/gay_neverending.rb",
      "pattern_type": "function_definition",
      "start_line": 174,
      "end_line": 174,
      "symbols": [
        "self"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 46,
      "snippet": "    def self.saturation_to_density(saturation)"
    },
    {
      "file": "lib/gay_neverending.rb",
      "pattern_type": "function_definition",
      "start_line": 180,
      "end_line": 180,
      "symbols": [
        "self"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 46,
      "snippet": "    def self.lightness_to_amplitude(lightness)"
    },
    {
      "file": "lib/gay_neverending.rb",
      "pattern_type": "function_definition",
      "start_line": 186,
      "end_line": 186,
      "symbols": [
        "self"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 43,
      "snippet": "    def self.lightness_to_octave(lightness)"
    },
    {
      "file": "lib/gay_neverending.rb",
      "pattern_type": "function_definition",
      "start_line": 192,
      "end_line": 192,
      "symbols": [
        "self"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 50,
      "snippet": "    def self.rgb_delta_to_interval(color1, color2)"
    },
    {
      "file": "lib/gay_neverending.rb",
      "pattern_type": "function_definition",
      "start_line": 207,
      "end_line": 207,
      "symbols": [
        "self"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 34,
      "snippet": "    def self.hue_to_tempo_mod(hue)"
    },
    {
      "file": "lib/gay_neverending.rb",
      "pattern_type": "function_definition",
      "start_line": 214,
      "end_line": 214,
      "symbols": [
        "self"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 51,
      "snippet": "    def self.saturation_to_articulation(saturation)"
    },
    {
      "file": "lib/gay_neverending.rb",
      "pattern_type": "function_definition",
      "start_line": 226,
      "end_line": 226,
      "symbols": [
        "self"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 73,
      "snippet": "    def self.color_to_params(color, prev_color: nil, scale: DORIAN_SCALE)"
    },
    {
      "file": "lib/gay_neverending.rb",
      "pattern_type": "function_definition",
      "start_line": 255,
      "end_line": 255,
      "symbols": [
        "initialize"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 45,
      "snippet": "    def initialize(seed: 42, style: :ambient)"
    },
    {
      "file": "lib/gay_neverending.rb",
      "pattern_type": "function_definition",
      "start_line": 267,
      "end_line": 267,
      "symbols": [
        "style_config"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 27,
      "snippet": "    def style_config(style)"
    },
    {
      "file": "lib/gay_neverending.rb",
      "pattern_type": "function_definition",
      "start_line": 328,
      "end_line": 328,
      "symbols": [
        "next_event!"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 19,
      "snippet": "    def next_event!"
    },
    {
      "file": "lib/gay_neverending.rb",
      "pattern_type": "function_definition",
      "start_line": 351,
      "end_line": 351,
      "symbols": [
        "generate"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 19,
      "snippet": "    def generate(n)"
    },
    {
      "file": "lib/gay_neverending.rb",
      "pattern_type": "function_definition",
      "start_line": 356,
      "end_line": 356,
      "symbols": [
        "each"
      ],
      "complexity": 0.7,
      "leitmotif_type": "synthesis",
      "snippet_length": 12,
      "snippet": "    def each"
    },
    {
      "file": "lib/gay_neverending.rb",
      "pattern_type": "function_definition",
      "start_line": 362,
      "end_line": 362,
      "symbols": [
        "generate_for_duration"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 42,
      "snippet": "    def generate_for_duration(total_beats)"
    },
    {
      "file": "lib/gay_neverending.rb",
      "pattern_type": "function_definition",
      "start_line": 389,
      "end_line": 389,
      "symbols": [
        "generate_rest"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 29,
      "snippet": "    def generate_rest(params)"
    },
    {
      "file": "lib/gay_neverending.rb",
      "pattern_type": "function_definition",
      "start_line": 398,
      "end_line": 398,
      "symbols": [
        "generate_chord"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 30,
      "snippet": "    def generate_chord(params)"
    },
    {
      "file": "lib/gay_neverending.rb",
      "pattern_type": "function_definition",
      "start_line": 438,
      "end_line": 438,
      "symbols": [
        "generate_melody"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 31,
      "snippet": "    def generate_melody(params)"
    },
    {
      "file": "lib/gay_neverending.rb",
      "pattern_type": "function_definition",
      "start_line": 474,
      "end_line": 474,
      "symbols": [
        "self"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 61,
      "snippet": "    def self.build(duration: 32.0, seed: 42, style: :ambient)"
    },
    {
      "file": "lib/gay_neverending.rb",
      "pattern_type": "function_definition",
      "start_line": 493,
      "end_line": 493,
      "symbols": [
        "self"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 42,
      "snippet": "    def self.stream(seed: 42, style: :idm)"
    },
    {
      "file": "lib/gay_neverending.rb",
      "pattern_type": "function_definition",
      "start_line": 530,
      "end_line": 530,
      "symbols": [
        "initialize"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 53,
      "snippet": "    def initialize(seed: 42, style: :idm, tempo: 120)"
    },
    {
      "file": "lib/gay_neverending.rb",
      "pattern_type": "function_definition",
      "start_line": 536,
      "end_line": 536,
      "symbols": [
        "start!"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 22,
      "snippet": "    def start!(&block)"
    },
    {
      "file": "lib/gay_neverending.rb",
      "pattern_type": "function_definition",
      "start_line": 552,
      "end_line": 552,
      "symbols": [
        "stop!"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 13,
      "snippet": "    def stop!"
    },
    {
      "file": "lib/gay_neverending.rb",
      "pattern_type": "function_definition",
      "start_line": 564,
      "end_line": 564,
      "symbols": [
        "self"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 43,
      "snippet": "    def self.neverending_showcase(seed: 42)"
    },
    {
      "file": "lib/gay_neverending.rb",
      "pattern_type": "function_definition",
      "start_line": 594,
      "end_line": 594,
      "symbols": [
        "self"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 64,
      "snippet": "    def self.single_style(duration: 32.0, seed: 42, style: :idm)"
    },
    {
      "file": "lib/gay_neverending.rb",
      "pattern_type": "function_definition",
      "start_line": 599,
      "end_line": 599,
      "symbols": [
        "self"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 47,
      "snippet": "    def self.print_color_guide(n: 20, seed: 42)"
    },
    {
      "file": "lib/gay_neverending.rb",
      "pattern_type": "function_definition",
      "start_line": 624,
      "end_line": 624,
      "symbols": [
        "self"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 33,
      "snippet": "    def self.section_marker(name)"
    },
    {
      "file": "lib/gay_neverending.rb",
      "pattern_type": "class_definition",
      "start_line": 529,
      "end_line": 628,
      "symbols": [
        "RealtimeStreamer"
      ],
      "complexity": 2.9,
      "leitmotif_type": "synthesis",
      "snippet_length": 3214,
      "snippet": "  class RealtimeStreamer\n    def initialize(seed: 42, style: :idm, tempo: 120)\n      @generator = NeverendingGenerator.new(seed: seed, style: style)\n      @tempo = tempo\n      @running = false\n    end\n    \n    def start!(&block)\n      @running = true\n      beat_duration = 60.0 / @tempo\n      \n      "
    },
    {
      "file": "lib/gay_neverending.rb",
      "pattern_type": "class_definition",
      "start_line": 561,
      "end_line": 629,
      "symbols": [
        "Showcase"
      ],
      "complexity": 0.8,
      "leitmotif_type": "synthesis",
      "snippet_length": 2419,
      "snippet": "  class Showcase\n    extend FreeMonad::DSL\n    \n    def self.neverending_showcase(seed: 42)\n      sequence!(\n        section_marker(\"\u2554\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2557\"),\n        section_marker(\"\u2551     NEVERENDING PRODUCTIONS          \u2551\"),\n        section_marker(\"\u2551  Guided by Gay.jl Color Trans"
    },
    {
      "file": "lib/genesis_chain.rb",
      "pattern_type": "function_definition",
      "start_line": 73,
      "end_line": 73,
      "symbols": [
        "self"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 33,
      "snippet": "  def self.immortal?(computation)"
    },
    {
      "file": "lib/genesis_chain.rb",
      "pattern_type": "function_definition",
      "start_line": 78,
      "end_line": 78,
      "symbols": [
        "self"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 35,
      "snippet": "  def self.mortal_urgency?(battery)"
    },
    {
      "file": "lib/genesis_chain.rb",
      "pattern_type": "function_definition",
      "start_line": 87,
      "end_line": 87,
      "symbols": [
        "self"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 25,
      "snippet": "  def self.hue_to_trit(h)"
    },
    {
      "file": "lib/genesis_chain.rb",
      "pattern_type": "function_definition",
      "start_line": 96,
      "end_line": 96,
      "symbols": [
        "self"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 39,
      "snippet": "  def self.compute_trits(chain = CHAIN)"
    },
    {
      "file": "lib/genesis_chain.rb",
      "pattern_type": "function_definition",
      "start_line": 100,
      "end_line": 100,
      "symbols": [
        "self"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 25,
      "snippet": "  def self.gf3_sum(trits)"
    },
    {
      "file": "lib/genesis_chain.rb",
      "pattern_type": "function_definition",
      "start_line": 104,
      "end_line": 104,
      "symbols": [
        "self"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 40,
      "snippet": "  def self.gf3_conserved?(chain = CHAIN)"
    },
    {
      "file": "lib/genesis_chain.rb",
      "pattern_type": "function_definition",
      "start_line": 134,
      "end_line": 134,
      "symbols": [
        "self"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 23,
      "snippet": "  def self.mobius_mu(n)"
    },
    {
      "file": "lib/genesis_chain.rb",
      "pattern_type": "function_definition",
      "start_line": 157,
      "end_line": 157,
      "symbols": [
        "self"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 35,
      "snippet": "  def self.mobius_transport(values)"
    },
    {
      "file": "lib/genesis_chain.rb",
      "pattern_type": "function_definition",
      "start_line": 176,
      "end_line": 176,
      "symbols": [
        "self"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 46,
      "snippet": "  def self.verify_deterministic(chain = CHAIN)"
    },
    {
      "file": "lib/genesis_chain.rb",
      "pattern_type": "function_definition",
      "start_line": 203,
      "end_line": 203,
      "symbols": [
        "self"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 17,
      "snippet": "  def self.to_edn"
    },
    {
      "file": "lib/genesis_chain.rb",
      "pattern_type": "function_definition",
      "start_line": 220,
      "end_line": 220,
      "symbols": [
        "self"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 18,
      "snippet": "  def self.to_json"
    },
    {
      "file": "lib/genesis_chain.rb",
      "pattern_type": "function_definition",
      "start_line": 240,
      "end_line": 240,
      "symbols": [
        "self"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 18,
      "snippet": "  def self.decide!"
    },
    {
      "file": "lib/genetic_spectral_search.rb",
      "pattern_type": "function_definition",
      "start_line": 12,
      "end_line": 12,
      "symbols": [
        "self"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 39,
      "snippet": "  def self.fitness(seed, n_steps = 100)"
    },
    {
      "file": "lib/genetic_spectral_search.rb",
      "pattern_type": "function_definition",
      "start_line": 36,
      "end_line": 36,
      "symbols": [
        "self"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 44,
      "snippet": "  def self.mutate(seed, mutation_rate = 0.1)"
    },
    {
      "file": "lib/genetic_spectral_search.rb",
      "pattern_type": "function_definition",
      "start_line": 46,
      "end_line": 46,
      "symbols": [
        "self"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 34,
      "snippet": "  def self.crossover(seed1, seed2)"
    },
    {
      "file": "lib/genetic_spectral_search.rb",
      "pattern_type": "function_definition",
      "start_line": 52,
      "end_line": 52,
      "symbols": [
        "self"
      ],
      "complexity": 0.7,
      "leitmotif_type": "synthesis",
      "snippet_length": 61,
      "snippet": "  def self.select(population, fitnesses, tournament_size = 3)"
    },
    {
      "file": "lib/genetic_spectral_search.rb",
      "pattern_type": "function_definition",
      "start_line": 96,
      "end_line": 96,
      "symbols": [
        "self"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 15,
      "snippet": "  def self.demo"
    },
    {
      "file": "lib/geometric_morphism.rb",
      "pattern_type": "function_definition",
      "start_line": 35,
      "end_line": 35,
      "symbols": [
        "initialize"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 45,
      "snippet": "    def initialize(seed: 0x42D, dimension: 3)"
    },
    {
      "file": "lib/geometric_morphism.rb",
      "pattern_type": "function_definition",
      "start_line": 42,
      "end_line": 42,
      "symbols": [
        "colors"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 17,
      "snippet": "    def colors(n)"
    },
    {
      "file": "lib/geometric_morphism.rb",
      "pattern_type": "function_definition",
      "start_line": 55,
      "end_line": 55,
      "symbols": [
        "self"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 21,
      "snippet": "    def self.terminal"
    },
    {
      "file": "lib/geometric_morphism.rb",
      "pattern_type": "function_definition",
      "start_line": 60,
      "end_line": 60,
      "symbols": [
        "self"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 20,
      "snippet": "    def self.initial"
    },
    {
      "file": "lib/geometric_morphism.rb",
      "pattern_type": "function_definition",
      "start_line": 74,
      "end_line": 74,
      "symbols": [
        "initialize"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 46,
      "snippet": "    def initialize(source_seed:, target_seed:)"
    },
    {
      "file": "lib/geometric_morphism.rb",
      "pattern_type": "function_definition",
      "start_line": 80,
      "end_line": 80,
      "symbols": [
        "pullback"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 30,
      "snippet": "    def pullback(target_color)"
    },
    {
      "file": "lib/geometric_morphism.rb",
      "pattern_type": "function_definition",
      "start_line": 97,
      "end_line": 97,
      "symbols": [
        "preserve_coproduct"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 46,
      "snippet": "    def preserve_coproduct(colors_a, colors_b)"
    },
    {
      "file": "lib/geometric_morphism.rb",
      "pattern_type": "function_definition",
      "start_line": 117,
      "end_line": 117,
      "symbols": [
        "initialize"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 46,
      "snippet": "    def initialize(source_seed:, target_seed:)"
    },
    {
      "file": "lib/geometric_morphism.rb",
      "pattern_type": "function_definition",
      "start_line": 124,
      "end_line": 124,
      "symbols": [
        "pushforward"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 33,
      "snippet": "    def pushforward(source_color)"
    },
    {
      "file": "lib/geometric_morphism.rb",
      "pattern_type": "function_definition",
      "start_line": 145,
      "end_line": 145,
      "symbols": [
        "preserve_product"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 44,
      "snippet": "    def preserve_product(colors_a, colors_b)"
    },
    {
      "file": "lib/geometric_morphism.rb",
      "pattern_type": "function_definition",
      "start_line": 172,
      "end_line": 172,
      "symbols": [
        "initialize"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 46,
      "snippet": "    def initialize(source_seed:, target_seed:)"
    },
    {
      "file": "lib/geometric_morphism.rb",
      "pattern_type": "function_definition",
      "start_line": 180,
      "end_line": 180,
      "symbols": [
        "unit"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 26,
      "snippet": "    def unit(target_color)"
    },
    {
      "file": "lib/geometric_morphism.rb",
      "pattern_type": "function_definition",
      "start_line": 192,
      "end_line": 192,
      "symbols": [
        "counit"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 28,
      "snippet": "    def counit(source_color)"
    },
    {
      "file": "lib/geometric_morphism.rb",
      "pattern_type": "function_definition",
      "start_line": 205,
      "end_line": 205,
      "symbols": [
        "triangle_identity_1"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 41,
      "snippet": "    def triangle_identity_1(target_color)"
    },
    {
      "file": "lib/geometric_morphism.rb",
      "pattern_type": "function_definition",
      "start_line": 225,
      "end_line": 225,
      "symbols": [
        "triangle_identity_2"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 41,
      "snippet": "    def triangle_identity_2(source_color)"
    },
    {
      "file": "lib/geometric_morphism.rb",
      "pattern_type": "function_definition",
      "start_line": 249,
      "end_line": 249,
      "symbols": [
        "verify_adjunction"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 25,
      "snippet": "    def verify_adjunction"
    },
    {
      "file": "lib/geometric_morphism.rb",
      "pattern_type": "function_definition",
      "start_line": 286,
      "end_line": 286,
      "symbols": [
        "self"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 47,
      "snippet": "    def self.characteristic(element, predicate)"
    },
    {
      "file": "lib/geometric_morphism.rb",
      "pattern_type": "function_definition",
      "start_line": 291,
      "end_line": 291,
      "symbols": [
        "self"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 26,
      "snippet": "    def self.true_morphism"
    },
    {
      "file": "lib/geometric_morphism.rb",
      "pattern_type": "function_definition",
      "start_line": 296,
      "end_line": 296,
      "symbols": [
        "self"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 42,
      "snippet": "    def self.pullback(elements, predicate)"
    },
    {
      "file": "lib/geometric_morphism.rb",
      "pattern_type": "function_definition",
      "start_line": 310,
      "end_line": 310,
      "symbols": [
        "initialize"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 59,
      "snippet": "    def initialize(source_seed: 0x42D, target_seed: 0x1069)"
    },
    {
      "file": "lib/geometric_morphism.rb",
      "pattern_type": "function_definition",
      "start_line": 320,
      "end_line": 320,
      "symbols": [
        "inverse_image"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 21,
      "snippet": "    def inverse_image"
    },
    {
      "file": "lib/geometric_morphism.rb",
      "pattern_type": "function_definition",
      "start_line": 325,
      "end_line": 325,
      "symbols": [
        "direct_image"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 20,
      "snippet": "    def direct_image"
    },
    {
      "file": "lib/geometric_morphism.rb",
      "pattern_type": "function_definition",
      "start_line": 330,
      "end_line": 330,
      "symbols": [
        "verify_axioms"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 21,
      "snippet": "    def verify_axioms"
    },
    {
      "file": "lib/geometric_morphism.rb",
      "pattern_type": "function_definition",
      "start_line": 352,
      "end_line": 352,
      "symbols": [
        "to_s"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 12,
      "snippet": "    def to_s"
    },
    {
      "file": "lib/geometric_morphism.rb",
      "pattern_type": "function_definition",
      "start_line": 361,
      "end_line": 361,
      "symbols": [
        "self"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 56,
      "snippet": "  def self.demo(source_seed: 0x42D, target_seed: 0x1069)"
    },
    {
      "file": "lib/geometric_morphism.rb",
      "pattern_type": "class_definition",
      "start_line": 71,
      "end_line": 170,
      "symbols": [
        "InverseImage"
      ],
      "complexity": 3.7,
      "leitmotif_type": "synthesis",
      "snippet_length": 3241,
      "snippet": "  class InverseImage\n    attr_reader :source_seed, :target_seed\n    \n    def initialize(source_seed:, target_seed:)\n      @source_seed = source_seed\n      @target_seed = target_seed\n    end\n    \n    # Pull back a color from target to source\n    def pullback(target_color)\n      # The pullback uses 3-"
    },
    {
      "file": "lib/geometric_morphism.rb",
      "pattern_type": "class_definition",
      "start_line": 114,
      "end_line": 213,
      "symbols": [
        "DirectImage"
      ],
      "complexity": 2.9,
      "leitmotif_type": "synthesis",
      "snippet_length": 3289,
      "snippet": "  class DirectImage\n    attr_reader :source_seed, :target_seed\n    \n    def initialize(source_seed:, target_seed:)\n      @source_seed = source_seed\n      @target_seed = target_seed\n    end\n    \n    # Push forward a color from source to target\n    # ENSURES GF(3) conservation by constraining target t"
    },
    {
      "file": "lib/geometric_morphism.rb",
      "pattern_type": "class_definition",
      "start_line": 307,
      "end_line": 406,
      "symbols": [
        "GeometricMorphism"
      ],
      "complexity": 2.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 3686,
      "snippet": "  class GeometricMorphism\n    attr_reader :source, :target, :adjunction\n    \n    def initialize(source_seed: 0x42D, target_seed: 0x1069)\n      @source = ColorSpace.new(seed: source_seed)\n      @target = ColorSpace.new(seed: target_seed)\n      @adjunction = Adjunction.new(\n        source_seed: source"
    },
    {
      "file": "lib/girard_colors.rb",
      "pattern_type": "function_definition",
      "start_line": 133,
      "end_line": 139,
      "symbols": [
        "trace_to_melody"
      ],
      "complexity": 0.7,
      "leitmotif_type": "synthesis",
      "snippet_length": 131,
      "snippet": "    def trace_to_melody\n      @traces.flat_map { |t| [t[:from], t[:to]] }.uniq\n    end\n  end\nend\n\n# Seed Mining for Musical Quality"
    },
    {
      "file": "lib/girard_colors.rb",
      "pattern_type": "function_definition",
      "start_line": 178,
      "end_line": 227,
      "symbols": [
        "self"
      ],
      "complexity": 1.4,
      "leitmotif_type": "synthesis",
      "snippet_length": 1548,
      "snippet": "  def self.lch_to_hex(l, c, h)\n    h_rad = h * Math::PI / 180\n    a = c * Math.cos(h_rad) * 0.01\n    b = c * Math.sin(h_rad) * 0.01\n    l_norm = l / 100.0\n    \n    r = [[l_norm + a, 0].max, 1].min\n    g = [[l_norm - 0.5 * a.abs - 0.5 * b.abs, 0].max, 1].min\n    bl = [[l_norm + b, 0].max, 1].min\n    "
    },
    {
      "file": "lib/girard_colors.rb",
      "pattern_type": "function_definition",
      "start_line": 192,
      "end_line": 241,
      "symbols": [
        "self"
      ],
      "complexity": 1.9,
      "leitmotif_type": "synthesis",
      "snippet_length": 1540,
      "snippet": "  def self.evaluate_seed(seed, chain_length: 12)\n    colors = (0...chain_length).map { |i| color_at(seed, i) }\n    \n    # Extract hues as pitch classes\n    pitches = colors.map { |c| (c[:H] / 30.0).round % 12 }\n    \n    # Evaluate metrics\n    {\n      seed: seed,\n      seed_hex: \"0x#{seed.to_s(16).up"
    },
    {
      "file": "lib/girard_colors.rb",
      "pattern_type": "function_definition",
      "start_line": 232,
      "end_line": 281,
      "symbols": [
        "self"
      ],
      "complexity": 5.7,
      "leitmotif_type": "synthesis",
      "snippet_length": 1762,
      "snippet": "  def self.mine(base_seed, radius: 1000, chain_length: 12, top_n: 10)\n    candidates = (-radius..radius).map do |offset|\n      seed = (base_seed + offset) & 0xFFFFFFFFFFFFFFFF\n      evaluate_seed(seed, chain_length: chain_length)\n    end\n    \n    candidates.sort_by { |c| -c[:total_score] }.first(top"
    },
    {
      "file": "lib/girard_colors.rb",
      "pattern_type": "function_definition",
      "start_line": 242,
      "end_line": 291,
      "symbols": [
        "self"
      ],
      "complexity": 6.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 1836,
      "snippet": "  def self.mine_girard(base_seed, radius: 1000, chain_length: 12)\n    candidates = mine(base_seed, radius: radius, chain_length: chain_length, top_n: 100)\n    \n    # Filter for Girard-compatible (polarity balance > 0.4)\n    girard_compatible = candidates.select { |c| c[:polarity_balance] > 0.4 }\n   "
    },
    {
      "file": "lib/girard_colors.rb",
      "pattern_type": "function_definition",
      "start_line": 326,
      "end_line": 326,
      "symbols": [
        "self"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 53,
      "snippet": "  def self.from_seed(seed, length: 8, base_pitch: 60)"
    },
    {
      "file": "lib/girard_colors.rb",
      "pattern_type": "function_definition",
      "start_line": 362,
      "end_line": 362,
      "symbols": [
        "self"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 52,
      "snippet": "  def self.with_variations(seed, variation_count: 3)"
    },
    {
      "file": "lib/girard_colors.rb",
      "pattern_type": "function_definition",
      "start_line": 382,
      "end_line": 382,
      "symbols": [
        "self"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 66,
      "snippet": "  def self.from_intervals(intervals, start_pitch: 60, seed: 0x42D)"
    },
    {
      "file": "lib/girard_colors.rb",
      "pattern_type": "function_definition",
      "start_line": 408,
      "end_line": 408,
      "symbols": [
        "self"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 41,
      "snippet": "  def self.intervals_match?(leit1, leit2)"
    },
    {
      "file": "lib/girard_colors.rb",
      "pattern_type": "function_definition",
      "start_line": 426,
      "end_line": 426,
      "symbols": [
        "self"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 33,
      "snippet": "  def self.find_cut_points(notes)"
    },
    {
      "file": "lib/girard_colors.rb",
      "pattern_type": "function_definition",
      "start_line": 434,
      "end_line": 434,
      "symbols": [
        "self"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 40,
      "snippet": "  def self.find_resolution_points(notes)"
    },
    {
      "file": "lib/girard_colors.rb",
      "pattern_type": "class_definition",
      "start_line": 146,
      "end_line": 323,
      "symbols": [
        "SplitMix64"
      ],
      "complexity": 10.0,
      "leitmotif_type": "synthesis",
      "snippet_length": 5713,
      "snippet": "  class SplitMix64\n    def initialize(seed)\n      @state = seed & 0xFFFFFFFFFFFFFFFF\n    end\n\n    def next_u64\n      @state = (@state + 0x9E3779B97F4A7C15) & 0xFFFFFFFFFFFFFFFF\n      z = @state\n      z = ((z ^ (z >> 30)) * 0xBF58476D1CE4E5B9) & 0xFFFFFFFFFFFFFFFF\n      z = ((z ^ (z >> 27)) * 0x94D04"
    },
    {
      "file": "lib/glass_bead_game.rb",
      "pattern_type": "function_definition",
      "start_line": 33,
      "end_line": 33,
      "symbols": [
        "initialize"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 24,
      "snippet": "    def initialize(seed)"
    },
    {
      "file": "lib/glass_bead_game.rb",
      "pattern_type": "function_definition",
      "start_line": 37,
      "end_line": 37,
      "symbols": [
        "next_u64"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 16,
      "snippet": "    def next_u64"
    },
    {
      "file": "lib/glass_bead_game.rb",
      "pattern_type": "function_definition",
      "start_line": 45,
      "end_line": 45,
      "symbols": [
        "next_ternary"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 20,
      "snippet": "    def next_ternary"
    },
    {
      "file": "lib/glass_bead_game.rb",
      "pattern_type": "function_definition",
      "start_line": 49,
      "end_line": 49,
      "symbols": [
        "next_float"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 18,
      "snippet": "    def next_float"
    },
    {
      "file": "lib/glass_bead_game.rb",
      "pattern_type": "function_definition",
      "start_line": 68,
      "end_line": 68,
      "symbols": [
        "initialize"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 60,
      "snippet": "    def initialize(domain, concept, seed: nil, metadata: {})"
    },
    {
      "file": "lib/glass_bead_game.rb",
      "pattern_type": "function_definition",
      "start_line": 76,
      "end_line": 76,
      "symbols": [
        "complexity"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 18,
      "snippet": "    def complexity"
    },
    {
      "file": "lib/glass_bead_game.rb",
      "pattern_type": "function_definition",
      "start_line": 80,
      "end_line": 80,
      "symbols": [
        "near_void?"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 18,
      "snippet": "    def near_void?"
    },
    {
      "file": "lib/glass_bead_game.rb",
      "pattern_type": "function_definition",
      "start_line": 84,
      "end_line": 84,
      "symbols": [
        "to_h"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 12,
      "snippet": "    def to_h"
    },
    {
      "file": "lib/glass_bead_game.rb",
      "pattern_type": "function_definition",
      "start_line": 88,
      "end_line": 88,
      "symbols": [
        "to_s"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 12,
      "snippet": "    def to_s"
    },
    {
      "file": "lib/glass_bead_game.rb",
      "pattern_type": "function_definition",
      "start_line": 96,
      "end_line": 96,
      "symbols": [
        "hash"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 12,
      "snippet": "    def hash"
    },
    {
      "file": "lib/glass_bead_game.rb",
      "pattern_type": "function_definition",
      "start_line": 111,
      "end_line": 111,
      "symbols": [
        "initialize"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 62,
      "snippet": "    def initialize(seed:, epoch: 0, beads: [], invariants: [])"
    },
    {
      "file": "lib/glass_bead_game.rb",
      "pattern_type": "function_definition",
      "start_line": 121,
      "end_line": 121,
      "symbols": [
        "compute_state"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 21,
      "snippet": "    def compute_state"
    },
    {
      "file": "lib/glass_bead_game.rb",
      "pattern_type": "function_definition",
      "start_line": 130,
      "end_line": 130,
      "symbols": [
        "select_mathematician"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 28,
      "snippet": "    def select_mathematician"
    },
    {
      "file": "lib/glass_bead_game.rb",
      "pattern_type": "function_definition",
      "start_line": 135,
      "end_line": 135,
      "symbols": [
        "add_bead"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 22,
      "snippet": "    def add_bead(bead)"
    },
    {
      "file": "lib/glass_bead_game.rb",
      "pattern_type": "function_definition",
      "start_line": 140,
      "end_line": 140,
      "symbols": [
        "add_invariant"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 26,
      "snippet": "    def add_invariant(inv)"
    },
    {
      "file": "lib/glass_bead_game.rb",
      "pattern_type": "function_definition",
      "start_line": 145,
      "end_line": 145,
      "symbols": [
        "advance!"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 16,
      "snippet": "    def advance!"
    },
    {
      "file": "lib/glass_bead_game.rb",
      "pattern_type": "function_definition",
      "start_line": 152,
      "end_line": 152,
      "symbols": [
        "fork"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 24,
      "snippet": "    def fork(event_seed)"
    },
    {
      "file": "lib/glass_bead_game.rb",
      "pattern_type": "function_definition",
      "start_line": 162,
      "end_line": 162,
      "symbols": [
        "to_h"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 12,
      "snippet": "    def to_h"
    },
    {
      "file": "lib/glass_bead_game.rb",
      "pattern_type": "function_definition",
      "start_line": 172,
      "end_line": 172,
      "symbols": [
        "to_s"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 12,
      "snippet": "    def to_s"
    },
    {
      "file": "lib/glass_bead_game.rb",
      "pattern_type": "function_definition",
      "start_line": 183,
      "end_line": 183,
      "symbols": [
        "self"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 35,
      "snippet": "    def self.hamming_distance(a, b)"
    },
    {
      "file": "lib/glass_bead_game.rb",
      "pattern_type": "function_definition",
      "start_line": 188,
      "end_line": 188,
      "symbols": [
        "self"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 35,
      "snippet": "    def self.world_distance(w1, w2)"
    },
    {
      "file": "lib/glass_bead_game.rb",
      "pattern_type": "function_definition",
      "start_line": 204,
      "end_line": 204,
      "symbols": [
        "self"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 40,
      "snippet": "    def self.valid_triangle?(w1, w2, w3)"
    },
    {
      "file": "lib/glass_bead_game.rb",
      "pattern_type": "function_definition",
      "start_line": 213,
      "end_line": 213,
      "symbols": [
        "self"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 49,
      "snippet": "    def self.shortest_path(start, target, worlds)"
    },
    {
      "file": "lib/glass_bead_game.rb",
      "pattern_type": "function_definition",
      "start_line": 263,
      "end_line": 263,
      "symbols": [
        "initialize"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 32,
      "snippet": "    def initialize(site:, name:)"
    },
    {
      "file": "lib/glass_bead_game.rb",
      "pattern_type": "function_definition",
      "start_line": 269,
      "end_line": 269,
      "symbols": [
        "occurs?"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 22,
      "snippet": "    def occurs?(world)"
    },
    {
      "file": "lib/glass_bead_game.rb",
      "pattern_type": "function_definition",
      "start_line": 281,
      "end_line": 281,
      "symbols": [
        "execute!"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 23,
      "snippet": "    def execute!(world)"
    },
    {
      "file": "lib/glass_bead_game.rb",
      "pattern_type": "function_definition",
      "start_line": 289,
      "end_line": 289,
      "symbols": [
        "to_s"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 12,
      "snippet": "    def to_s"
    },
    {
      "file": "lib/glass_bead_game.rb",
      "pattern_type": "function_definition",
      "start_line": 302,
      "end_line": 302,
      "symbols": [
        "initialize"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 48,
      "snippet": "      def initialize(from:, to: nil, **metadata)"
    },
    {
      "file": "lib/glass_bead_game.rb",
      "pattern_type": "function_definition",
      "start_line": 308,
      "end_line": 308,
      "symbols": [
        "execute!"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 24,
      "snippet": "      def execute!(game)"
    },
    {
      "file": "lib/glass_bead_game.rb",
      "pattern_type": "function_definition",
      "start_line": 312,
      "end_line": 312,
      "symbols": [
        "points"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 16,
      "snippet": "      def points"
    },
    {
      "file": "lib/glass_bead_game.rb",
      "pattern_type": "function_definition",
      "start_line": 320,
      "end_line": 320,
      "symbols": [
        "initialize"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 50,
      "snippet": "      def initialize(from:, to:, via:, **metadata)"
    },
    {
      "file": "lib/glass_bead_game.rb",
      "pattern_type": "function_definition",
      "start_line": 325,
      "end_line": 325,
      "symbols": [
        "execute!"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 24,
      "snippet": "      def execute!(game)"
    },
    {
      "file": "lib/glass_bead_game.rb",
      "pattern_type": "function_definition",
      "start_line": 329,
      "end_line": 329,
      "symbols": [
        "points"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 16,
      "snippet": "      def points"
    },
    {
      "file": "lib/glass_bead_game.rb",
      "pattern_type": "function_definition",
      "start_line": 347,
      "end_line": 347,
      "symbols": [
        "execute!"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 24,
      "snippet": "      def execute!(game)"
    },
    {
      "file": "lib/glass_bead_game.rb",
      "pattern_type": "function_definition",
      "start_line": 352,
      "end_line": 352,
      "symbols": [
        "points"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 16,
      "snippet": "      def points"
    },
    {
      "file": "lib/glass_bead_game.rb",
      "pattern_type": "function_definition",
      "start_line": 360,
      "end_line": 360,
      "symbols": [
        "initialize"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 78,
      "snippet": "      def initialize(from_world:, event:, to_world: nil, truth_preserved: nil)"
    },
    {
      "file": "lib/glass_bead_game.rb",
      "pattern_type": "function_definition",
      "start_line": 366,
      "end_line": 366,
      "symbols": [
        "execute!"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 24,
      "snippet": "      def execute!(game)"
    },
    {
      "file": "lib/glass_bead_game.rb",
      "pattern_type": "function_definition",
      "start_line": 375,
      "end_line": 375,
      "symbols": [
        "points"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 16,
      "snippet": "      def points"
    },
    {
      "file": "lib/glass_bead_game.rb",
      "pattern_type": "function_definition",
      "start_line": 391,
      "end_line": 391,
      "symbols": [
        "initialize"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 50,
      "snippet": "    def initialize(domain, initial_knowledge: 0.0)"
    },
    {
      "file": "lib/glass_bead_game.rb",
      "pattern_type": "function_definition",
      "start_line": 398,
      "end_line": 398,
      "symbols": [
        "add_info"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 28,
      "snippet": "    def add_info(key, value)"
    },
    {
      "file": "lib/glass_bead_game.rb",
      "pattern_type": "function_definition",
      "start_line": 403,
      "end_line": 403,
      "symbols": [
        "get"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 16,
      "snippet": "    def get(key)"
    },
    {
      "file": "lib/glass_bead_game.rb",
      "pattern_type": "function_definition",
      "start_line": 407,
      "end_line": 407,
      "symbols": [
        "has?"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 17,
      "snippet": "    def has?(key)"
    },
    {
      "file": "lib/glass_bead_game.rb",
      "pattern_type": "function_definition",
      "start_line": 411,
      "end_line": 411,
      "symbols": [
        "merge"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 25,
      "snippet": "    def merge(key, value)"
    },
    {
      "file": "lib/glass_bead_game.rb",
      "pattern_type": "function_definition",
      "start_line": 433,
      "end_line": 433,
      "symbols": [
        "initialize"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 30,
      "snippet": "    def initialize(seed: 1069)"
    },
    {
      "file": "lib/glass_bead_game.rb",
      "pattern_type": "function_definition",
      "start_line": 448,
      "end_line": 448,
      "symbols": [
        "add_bead"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 22,
      "snippet": "    def add_bead(bead)"
    },
    {
      "file": "lib/glass_bead_game.rb",
      "pattern_type": "function_definition",
      "start_line": 469,
      "end_line": 469,
      "symbols": [
        "add_world"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 24,
      "snippet": "    def add_world(world)"
    },
    {
      "file": "lib/glass_bead_game.rb",
      "pattern_type": "function_definition",
      "start_line": 483,
      "end_line": 483,
      "symbols": [
        "execute_move!"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 27,
      "snippet": "    def execute_move!(move)"
    },
    {
      "file": "lib/glass_bead_game.rb",
      "pattern_type": "function_definition",
      "start_line": 494,
      "end_line": 494,
      "symbols": [
        "hop_to!"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 29,
      "snippet": "    def hop_to!(target_world)"
    },
    {
      "file": "lib/glass_bead_game.rb",
      "pattern_type": "function_definition",
      "start_line": 508,
      "end_line": 508,
      "symbols": [
        "arbitrage!"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 18,
      "snippet": "    def arbitrage!"
    },
    {
      "file": "lib/glass_bead_game.rb",
      "pattern_type": "function_definition",
      "start_line": 527,
      "end_line": 527,
      "symbols": [
        "to_h"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 12,
      "snippet": "    def to_h"
    },
    {
      "file": "lib/glass_bead_game.rb",
      "pattern_type": "function_definition",
      "start_line": 543,
      "end_line": 543,
      "symbols": [
        "self"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 31,
      "snippet": "  def self.new_game(seed: 1069)"
    },
    {
      "file": "lib/glass_bead_game.rb",
      "pattern_type": "function_definition",
      "start_line": 564,
      "end_line": 564,
      "symbols": [
        "self"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 41,
      "snippet": "  def self.demo(steps: 10, verbose: true)"
    },
    {
      "file": "lib/glass_bead_game.rb",
      "pattern_type": "function_definition",
      "start_line": 635,
      "end_line": 635,
      "symbols": [
        "self"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 20,
      "snippet": "  def self.serve_mcp"
    },
    {
      "file": "lib/group_theory.rb",
      "pattern_type": "function_definition",
      "start_line": 25,
      "end_line": 74,
      "symbols": [
        "initialize"
      ],
      "complexity": 5.0,
      "leitmotif_type": "synthesis",
      "snippet_length": 1577,
      "snippet": "  def initialize(elements, identity, generators = nil)\n    @elements = Set.new(elements)\n    @identity = identity\n    @generators = generators || []\n    @multiplication_table = {}\n    @inverse_map = {}\n  end\n\n  # Verify group axioms\n  # Returns hash: { valid: bool, errors: [String] }\n  def validate_"
    },
    {
      "file": "lib/group_theory.rb",
      "pattern_type": "function_definition",
      "start_line": 107,
      "end_line": 125,
      "symbols": [
        "check_associativity"
      ],
      "complexity": 2.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 499,
      "snippet": "  def check_associativity(sample)\n    sample.sample([sample.size, 5].min).each do |a|\n      sample.sample([sample.size, 5].min).each do |b|\n        sample.sample([sample.size, 5].min).each do |c|\n          ab_c = multiply(multiply(a, b), c)\n          a_bc = multiply(a, multiply(b, c))\n          retu"
    },
    {
      "file": "lib/group_theory.rb",
      "pattern_type": "function_definition",
      "start_line": 129,
      "end_line": 166,
      "symbols": [
        "initialize"
      ],
      "complexity": 1.0,
      "leitmotif_type": "synthesis",
      "snippet_length": 895,
      "snippet": "  def initialize(n)\n    @order = n\n    elements = (0...n).to_a\n    super(elements, 0, [1])  # Generator is 1\n  end\n\n  # Cyclic group multiplication: (a + b) mod n\n  def multiply(a, b)\n    (a + b) % @order\n  end\n\n  # Inverse in cyclic group: -a mod n = (n - a) mod n\n  def inverse(a)\n    ((@order - a)"
    },
    {
      "file": "lib/group_theory.rb",
      "pattern_type": "function_definition",
      "start_line": 136,
      "end_line": 166,
      "symbols": [
        "multiply"
      ],
      "complexity": 0.8,
      "leitmotif_type": "synthesis",
      "snippet_length": 732,
      "snippet": "  def multiply(a, b)\n    (a + b) % @order\n  end\n\n  # Inverse in cyclic group: -a mod n = (n - a) mod n\n  def inverse(a)\n    ((@order - a) % @order)\n  end\n\n  # Distance in cyclic group: shortest arc on circle\n  # min(|a-b|, n - |a-b|)\n  def distance(a, b)\n    diff = (a - b).abs\n    [diff, @order - di"
    },
    {
      "file": "lib/group_theory.rb",
      "pattern_type": "function_definition",
      "start_line": 141,
      "end_line": 166,
      "symbols": [
        "inverse"
      ],
      "complexity": 0.6,
      "leitmotif_type": "synthesis",
      "snippet_length": 629,
      "snippet": "  def inverse(a)\n    ((@order - a) % @order)\n  end\n\n  # Distance in cyclic group: shortest arc on circle\n  # min(|a-b|, n - |a-b|)\n  def distance(a, b)\n    diff = (a - b).abs\n    [diff, @order - diff].min\n  end\n\n  # Verify triangle inequality\n  def triangle_inequality_satisfied?(a, b, c)\n    d_ab = "
    },
    {
      "file": "lib/group_theory.rb",
      "pattern_type": "function_definition",
      "start_line": 147,
      "end_line": 166,
      "symbols": [
        "distance"
      ],
      "complexity": 0.4,
      "leitmotif_type": "synthesis",
      "snippet_length": 498,
      "snippet": "  def distance(a, b)\n    diff = (a - b).abs\n    [diff, @order - diff].min\n  end\n\n  # Verify triangle inequality\n  def triangle_inequality_satisfied?(a, b, c)\n    d_ab = distance(a, b)\n    d_bc = distance(b, c)\n    d_ac = distance(a, c)\n\n    # d(a,c) \u2264 d(a,b) + d(b,c)\n    d_ac <= d_ab + d_bc + 1e-10\n"
    },
    {
      "file": "lib/group_theory.rb",
      "pattern_type": "function_definition",
      "start_line": 153,
      "end_line": 166,
      "symbols": [
        "triangle_inequality_satisfied?"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 386,
      "snippet": "  def triangle_inequality_satisfied?(a, b, c)\n    d_ab = distance(a, b)\n    d_bc = distance(b, c)\n    d_ac = distance(a, c)\n\n    # d(a,c) \u2264 d(a,b) + d(b,c)\n    d_ac <= d_ab + d_bc + 1e-10\n  end\nend\n\n# Permutation - represents a bijection of {0, 1, ..., n-1}\n# Can be represented as:\n# 1. Array: perm["
    },
    {
      "file": "lib/group_theory.rb",
      "pattern_type": "function_definition",
      "start_line": 242,
      "end_line": 259,
      "symbols": [
        "to_s"
      ],
      "complexity": 0.6,
      "leitmotif_type": "synthesis",
      "snippet_length": 265,
      "snippet": "  def to_s\n    \"Permutation#{to_cycles}\"\n  end\n\n  def ==(other)\n    other.is_a?(Permutation) && @mapping == other.mapping\n  end\n\n  def hash\n    @mapping.hash\n  end\n  \n  alias_method :eql?, :==\nend\n\n# Symmetric Group S_n\n# All permutations of n elements\n# |S_n| = n!"
    },
    {
      "file": "lib/group_theory.rb",
      "pattern_type": "function_definition",
      "start_line": 250,
      "end_line": 259,
      "symbols": [
        "hash"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 136,
      "snippet": "  def hash\n    @mapping.hash\n  end\n  \n  alias_method :eql?, :==\nend\n\n# Symmetric Group S_n\n# All permutations of n elements\n# |S_n| = n!"
    },
    {
      "file": "lib/group_theory.rb",
      "pattern_type": "function_definition",
      "start_line": 263,
      "end_line": 312,
      "symbols": [
        "initialize"
      ],
      "complexity": 4.8,
      "leitmotif_type": "synthesis",
      "snippet_length": 1445,
      "snippet": "  def initialize(n)\n    @n = n\n    @cayley_graph_cache = {}\n    identity = Permutation.identity(n)\n    super(generate_s_n(n), identity, generate_generators(n))\n  end\n\n  # Multiply two permutations: compose them\n  def multiply(perm1, perm2)\n    perm1.compose(perm2)\n  end\n\n  # Inverse of a permutation"
    },
    {
      "file": "lib/group_theory.rb",
      "pattern_type": "function_definition",
      "start_line": 341,
      "end_line": 390,
      "symbols": [
        "random_permutation"
      ],
      "complexity": 6.3,
      "leitmotif_type": "synthesis",
      "snippet_length": 1304,
      "snippet": "  def random_permutation\n    Permutation.new((0...@n).to_a.shuffle)\n  end\n\n  # Cayley graph distance: shortest path using generators as edges\n  # BFS from source to target\n  def distance(perm1, perm2)\n    return 0 if perm1 == perm2\n\n    # Convert to target (perm1\u207b\u00b9 \u00b7 perm2)\n    target = perm1.invers"
    },
    {
      "file": "lib/group_theory.rb",
      "pattern_type": "function_definition",
      "start_line": 347,
      "end_line": 396,
      "symbols": [
        "distance"
      ],
      "complexity": 6.1,
      "leitmotif_type": "synthesis",
      "snippet_length": 1336,
      "snippet": "  def distance(perm1, perm2)\n    return 0 if perm1 == perm2\n\n    # Convert to target (perm1\u207b\u00b9 \u00b7 perm2)\n    target = perm1.inverse.compose(perm2)\n\n    # BFS for shortest path to target using generators\n    queue = [[identity, 0]]\n    visited = { identity => 0 }\n\n    while queue.any?\n      current, di"
    },
    {
      "file": "lib/group_theory.rb",
      "pattern_type": "function_definition",
      "start_line": 436,
      "end_line": 436,
      "symbols": [
        "initialize"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 16,
      "snippet": "  def initialize"
    },
    {
      "file": "lib/group_theory.rb",
      "pattern_type": "function_definition",
      "start_line": 442,
      "end_line": 442,
      "symbols": [
        "voice_leading_action"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 46,
      "snippet": "  def voice_leading_action(chord, permutation)"
    },
    {
      "file": "lib/group_theory.rb",
      "pattern_type": "function_definition",
      "start_line": 452,
      "end_line": 452,
      "symbols": [
        "voice_leading_distance"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 44,
      "snippet": "  def voice_leading_distance(chord1, chord2)"
    },
    {
      "file": "lib/group_theory.rb",
      "pattern_type": "class_definition",
      "start_line": 126,
      "end_line": 166,
      "symbols": [
        "CyclicGroup"
      ],
      "complexity": 1.0,
      "leitmotif_type": "synthesis",
      "snippet_length": 943,
      "snippet": "class CyclicGroup < Group\n  attr_reader :order\n\n  def initialize(n)\n    @order = n\n    elements = (0...n).to_a\n    super(elements, 0, [1])  # Generator is 1\n  end\n\n  # Cyclic group multiplication: (a + b) mod n\n  def multiply(a, b)\n    (a + b) % @order\n  end\n\n  # Inverse in cyclic group: -a mod n = "
    },
    {
      "file": "lib/harmonic_function.rb",
      "pattern_type": "function_definition",
      "start_line": 39,
      "end_line": 88,
      "symbols": [
        "self"
      ],
      "complexity": 3.1,
      "leitmotif_type": "synthesis",
      "snippet_length": 1644,
      "snippet": "  def self.from_chord(chord, key_context = 'C')\n    root = chord.root\n    function = analyze_function(root, key_context)\n    new(chord, function, key_context)\n  end\n\n  # Analyze which function a chord has based on root\n  # In C Major: C=T, D=S, E=S, F=S, G=D, A=S, B=D\n  def self.analyze_function(roo"
    },
    {
      "file": "lib/harmonic_function.rb",
      "pattern_type": "function_definition",
      "start_line": 214,
      "end_line": 246,
      "symbols": [
        "self"
      ],
      "complexity": 3.3,
      "leitmotif_type": "synthesis",
      "snippet_length": 761,
      "snippet": "  def self.classify_progression(functions)\n    # Classify based on function pattern\n    if functions.length < 2\n      :single\n    elsif functions[-2] == DOMINANT && functions[-1] == TONIC\n      :authentic_cadence\n    elsif functions[-2] == SUBDOMINANT && functions[-1] == TONIC\n      :plagal_cadence\n"
    },
    {
      "file": "lib/harmonic_function.rb",
      "pattern_type": "function_definition",
      "start_line": 231,
      "end_line": 246,
      "symbols": [
        "to_s"
      ],
      "complexity": 0.6,
      "leitmotif_type": "synthesis",
      "snippet_length": 278,
      "snippet": "  def to_s\n    \"#{chord}(#{@function.to_s.upcase[0]})\"\n  end\n\n  def ==(other)\n    other.is_a?(HarmonicFunction) &&\n      @function == other.function &&\n      @chord == other.chord\n  end\n\n  def hash\n    [@function, @chord].hash\n  end\nend\n\n# Functional chord with harmonic context"
    },
    {
      "file": "lib/harmonic_function.rb",
      "pattern_type": "function_definition",
      "start_line": 241,
      "end_line": 246,
      "symbols": [
        "hash"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 91,
      "snippet": "  def hash\n    [@function, @chord].hash\n  end\nend\n\n# Functional chord with harmonic context"
    },
    {
      "file": "lib/harmonic_function.rb",
      "pattern_type": "function_definition",
      "start_line": 250,
      "end_line": 250,
      "symbols": [
        "initialize"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 62,
      "snippet": "  def initialize(chord, function, position = 1, inversion = 0)"
    },
    {
      "file": "lib/harmonic_function.rb",
      "pattern_type": "function_definition",
      "start_line": 258,
      "end_line": 258,
      "symbols": [
        "self"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 41,
      "snippet": "  def self.from_roman(numeral, key = 'C')"
    },
    {
      "file": "lib/harmonic_function.rb",
      "pattern_type": "function_definition",
      "start_line": 269,
      "end_line": 269,
      "symbols": [
        "to_s"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 10,
      "snippet": "  def to_s"
    },
    {
      "file": "lib/harmonic_function.rb",
      "pattern_type": "class_definition",
      "start_line": 247,
      "end_line": 273,
      "symbols": [
        "FunctionalChord"
      ],
      "complexity": 0.6,
      "leitmotif_type": "synthesis",
      "snippet_length": 771,
      "snippet": "class FunctionalChord\n  attr_reader :chord, :function, :position, :inversion\n\n  def initialize(chord, function, position = 1, inversion = 0)\n    @chord = chord\n    @function = function\n    @position = position  # Position in progression\n    @inversion = inversion  # 0=root, 1=first, 2=second\n  end\n\n"
    },
    {
      "file": "lib/hedges_open_games.rb",
      "pattern_type": "function_definition",
      "start_line": 33,
      "end_line": 33,
      "symbols": [
        "initialize"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 55,
      "snippet": "    def initialize(name:, forward:, backward:, trit: 0)"
    },
    {
      "file": "lib/hedges_open_games.rb",
      "pattern_type": "function_definition",
      "start_line": 55,
      "end_line": 55,
      "symbols": [
        "tensor"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 21,
      "snippet": "    def tensor(other)"
    },
    {
      "file": "lib/hedges_open_games.rb",
      "pattern_type": "function_definition",
      "start_line": 81,
      "end_line": 81,
      "symbols": [
        "initialize"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 84,
      "snippet": "    def initialize(name:, lens:, strategy_space:, utility_fn:, seed: nil, trit: nil)"
    },
    {
      "file": "lib/hedges_open_games.rb",
      "pattern_type": "function_definition",
      "start_line": 91,
      "end_line": 91,
      "symbols": [
        "play"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 36,
      "snippet": "    def play(context, strategy: nil)"
    },
    {
      "file": "lib/hedges_open_games.rb",
      "pattern_type": "function_definition",
      "start_line": 107,
      "end_line": 107,
      "symbols": [
        "select_strategy"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 32,
      "snippet": "    def select_strategy(context)"
    },
    {
      "file": "lib/hedges_open_games.rb",
      "pattern_type": "function_definition",
      "start_line": 115,
      "end_line": 115,
      "symbols": [
        "best_response"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 49,
      "snippet": "    def best_response(opponent_strategy, context)"
    },
    {
      "file": "lib/hedges_open_games.rb",
      "pattern_type": "function_definition",
      "start_line": 124,
      "end_line": 124,
      "symbols": [
        "nash_equilibrium?"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 52,
      "snippet": "    def nash_equilibrium?(strategy_profile, context)"
    },
    {
      "file": "lib/hedges_open_games.rb",
      "pattern_type": "function_definition",
      "start_line": 148,
      "end_line": 148,
      "symbols": [
        "tensor"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 21,
      "snippet": "    def tensor(other)"
    },
    {
      "file": "lib/hedges_open_games.rb",
      "pattern_type": "function_definition",
      "start_line": 174,
      "end_line": 174,
      "symbols": [
        "initialize"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 56,
      "snippet": "    def initialize(seed = SplitMixTernary::DEFAULT_SEED)"
    },
    {
      "file": "lib/hedges_open_games.rb",
      "pattern_type": "function_definition",
      "start_line": 185,
      "end_line": 185,
      "symbols": [
        "create_player"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 33,
      "snippet": "    def create_player(role, trit)"
    },
    {
      "file": "lib/hedges_open_games.rb",
      "pattern_type": "function_definition",
      "start_line": 213,
      "end_line": 213,
      "symbols": [
        "play_round"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 32,
      "snippet": "    def play_round(context = {})"
    },
    {
      "file": "lib/hedges_open_games.rb",
      "pattern_type": "function_definition",
      "start_line": 230,
      "end_line": 230,
      "symbols": [
        "play_tournament"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 40,
      "snippet": "    def play_tournament(n, context = {})"
    },
    {
      "file": "lib/hedges_open_games.rb",
      "pattern_type": "function_definition",
      "start_line": 235,
      "end_line": 235,
      "symbols": [
        "verify_conservation"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 27,
      "snippet": "    def verify_conservation"
    },
    {
      "file": "lib/hedges_open_games.rb",
      "pattern_type": "function_definition",
      "start_line": 240,
      "end_line": 240,
      "symbols": [
        "aggregate_utilities"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 27,
      "snippet": "    def aggregate_utilities"
    },
    {
      "file": "lib/hedges_open_games.rb",
      "pattern_type": "function_definition",
      "start_line": 260,
      "end_line": 260,
      "symbols": [
        "initialize"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 45,
      "snippet": "    def initialize(name:, selector:, trit: 0)"
    },
    {
      "file": "lib/hedges_open_games.rb",
      "pattern_type": "function_definition",
      "start_line": 267,
      "end_line": 267,
      "symbols": [
        "call"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 31,
      "snippet": "    def call(valuation, domain)"
    },
    {
      "file": "lib/hedges_open_games.rb",
      "pattern_type": "function_definition",
      "start_line": 272,
      "end_line": 272,
      "symbols": [
        "self"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 28,
      "snippet": "    def self.argmax(trit: 1)"
    },
    {
      "file": "lib/hedges_open_games.rb",
      "pattern_type": "function_definition",
      "start_line": 283,
      "end_line": 283,
      "symbols": [
        "self"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 29,
      "snippet": "    def self.argmin(trit: -1)"
    },
    {
      "file": "lib/hedges_open_games.rb",
      "pattern_type": "function_definition",
      "start_line": 294,
      "end_line": 294,
      "symbols": [
        "self"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 35,
      "snippet": "    def self.random(seed:, trit: 0)"
    },
    {
      "file": "lib/hedges_open_games.rb",
      "pattern_type": "function_definition",
      "start_line": 307,
      "end_line": 307,
      "symbols": [
        "self"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 53,
      "snippet": "    def self.epsilon_greedy(epsilon:, seed:, trit: 0)"
    },
    {
      "file": "lib/hedges_open_games.rb",
      "pattern_type": "function_definition",
      "start_line": 333,
      "end_line": 333,
      "symbols": [
        "initialize"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 47,
      "snippet": "    def initialize(prior:, likelihood:, **opts)"
    },
    {
      "file": "lib/hedges_open_games.rb",
      "pattern_type": "function_definition",
      "start_line": 340,
      "end_line": 340,
      "symbols": [
        "posterior"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 53,
      "snippet": "    def posterior(observation, prior_belief = @prior)"
    },
    {
      "file": "lib/hedges_open_games.rb",
      "pattern_type": "function_definition",
      "start_line": 350,
      "end_line": 350,
      "symbols": [
        "expected_utility"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 42,
      "snippet": "    def expected_utility(strategy, belief)"
    },
    {
      "file": "lib/hedges_open_games.rb",
      "pattern_type": "function_definition",
      "start_line": 362,
      "end_line": 362,
      "symbols": [
        "self"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 52,
      "snippet": "  def self.demo(seed: SplitMixTernary::DEFAULT_SEED)"
    },
    {
      "file": "lib/hedges_open_games.rb",
      "pattern_type": "class_definition",
      "start_line": 78,
      "end_line": 177,
      "symbols": [
        "OpenGame"
      ],
      "complexity": 2.1,
      "leitmotif_type": "synthesis",
      "snippet_length": 3469,
      "snippet": "  class OpenGame\n    attr_reader :name, :lens, :strategy_space, :utility_fn, :seed, :trit\n    \n    def initialize(name:, lens:, strategy_space:, utility_fn:, seed: nil, trit: nil)\n      @name = name\n      @lens = lens\n      @strategy_space = strategy_space  # Set of possible strategies\n      @utilit"
    },
    {
      "file": "lib/hedges_open_games.rb",
      "pattern_type": "class_definition",
      "start_line": 171,
      "end_line": 270,
      "symbols": [
        "TripartiteGame"
      ],
      "complexity": 3.1,
      "leitmotif_type": "synthesis",
      "snippet_length": 3222,
      "snippet": "  class TripartiteGame\n    attr_reader :minus_player, :ergodic_player, :plus_player, :seed, :history\n    \n    def initialize(seed = SplitMixTernary::DEFAULT_SEED)\n      @seed = seed\n      @streams = SplitMixTernary::TripartiteStreams.new(seed)\n      @history = []\n      \n      # Create three players "
    },
    {
      "file": "lib/hedges_open_games.rb",
      "pattern_type": "class_definition",
      "start_line": 330,
      "end_line": 429,
      "symbols": [
        "BayesianGame"
      ],
      "complexity": 0.8,
      "leitmotif_type": "synthesis",
      "snippet_length": 3703,
      "snippet": "  class BayesianGame < OpenGame\n    attr_reader :prior, :likelihood\n    \n    def initialize(prior:, likelihood:, **opts)\n      super(**opts)\n      @prior = prior           # P(\u03b8): prior over types\n      @likelihood = likelihood # P(outcome | \u03b8, strategy)\n    end\n    \n    # Update belief given observ"
    },
    {
      "file": "lib/hvm_parallel_games.rb",
      "pattern_type": "function_definition",
      "start_line": 74,
      "end_line": 74,
      "symbols": [
        "partner"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 15,
      "snippet": "    def partner"
    },
    {
      "file": "lib/hvm_parallel_games.rb",
      "pattern_type": "function_definition",
      "start_line": 81,
      "end_line": 81,
      "symbols": [
        "other"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 19,
      "snippet": "    def other(port)"
    },
    {
      "file": "lib/hvm_parallel_games.rb",
      "pattern_type": "function_definition",
      "start_line": 91,
      "end_line": 91,
      "symbols": [
        "initialize"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 46,
      "snippet": "    def initialize(label:, arity:, color: nil)"
    },
    {
      "file": "lib/hvm_parallel_games.rb",
      "pattern_type": "function_definition",
      "start_line": 99,
      "end_line": 99,
      "symbols": [
        "principal_port"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 22,
      "snippet": "    def principal_port"
    },
    {
      "file": "lib/hvm_parallel_games.rb",
      "pattern_type": "function_definition",
      "start_line": 103,
      "end_line": 103,
      "symbols": [
        "auxiliary_ports"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 23,
      "snippet": "    def auxiliary_ports"
    },
    {
      "file": "lib/hvm_parallel_games.rb",
      "pattern_type": "function_definition",
      "start_line": 109,
      "end_line": 109,
      "symbols": [
        "hue_to_trit"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 22,
      "snippet": "    def hue_to_trit(h)"
    },
    {
      "file": "lib/hvm_parallel_games.rb",
      "pattern_type": "function_definition",
      "start_line": 125,
      "end_line": 125,
      "symbols": [
        "initialize"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 59,
      "snippet": "    def initialize(name:, pattern:, result:, trit_delta: 0)"
    },
    {
      "file": "lib/hvm_parallel_games.rb",
      "pattern_type": "function_definition",
      "start_line": 132,
      "end_line": 132,
      "symbols": [
        "matches?"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 30,
      "snippet": "    def matches?(node1, node2)"
    },
    {
      "file": "lib/hvm_parallel_games.rb",
      "pattern_type": "function_definition",
      "start_line": 136,
      "end_line": 136,
      "symbols": [
        "apply"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 32,
      "snippet": "    def apply(node1, node2, net)"
    },
    {
      "file": "lib/hvm_parallel_games.rb",
      "pattern_type": "function_definition",
      "start_line": 218,
      "end_line": 218,
      "symbols": [
        "initialize"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 18,
      "snippet": "    def initialize"
    },
    {
      "file": "lib/hvm_parallel_games.rb",
      "pattern_type": "function_definition",
      "start_line": 225,
      "end_line": 225,
      "symbols": [
        "add"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 17,
      "snippet": "    def add(node)"
    },
    {
      "file": "lib/hvm_parallel_games.rb",
      "pattern_type": "function_definition",
      "start_line": 230,
      "end_line": 230,
      "symbols": [
        "remove"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 20,
      "snippet": "    def remove(node)"
    },
    {
      "file": "lib/hvm_parallel_games.rb",
      "pattern_type": "function_definition",
      "start_line": 253,
      "end_line": 253,
      "symbols": [
        "find_active_pairs"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 25,
      "snippet": "    def find_active_pairs"
    },
    {
      "file": "lib/hvm_parallel_games.rb",
      "pattern_type": "function_definition",
      "start_line": 269,
      "end_line": 269,
      "symbols": [
        "parallel_reduce!"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 24,
      "snippet": "    def parallel_reduce!"
    },
    {
      "file": "lib/hvm_parallel_games.rb",
      "pattern_type": "function_definition",
      "start_line": 292,
      "end_line": 292,
      "symbols": [
        "normalize!"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 18,
      "snippet": "    def normalize!"
    },
    {
      "file": "lib/hvm_parallel_games.rb",
      "pattern_type": "function_definition",
      "start_line": 304,
      "end_line": 304,
      "symbols": [
        "gf3_conserved?"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 22,
      "snippet": "    def gf3_conserved?"
    },
    {
      "file": "lib/hvm_parallel_games.rb",
      "pattern_type": "function_definition",
      "start_line": 317,
      "end_line": 317,
      "symbols": [
        "initialize"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 56,
      "snippet": "    def initialize(seed = SplitMixTernary::DEFAULT_SEED)"
    },
    {
      "file": "lib/hvm_parallel_games.rb",
      "pattern_type": "function_definition",
      "start_line": 325,
      "end_line": 325,
      "symbols": [
        "add_player"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 44,
      "snippet": "    def add_player(name, strategies:, trit:)"
    },
    {
      "file": "lib/hvm_parallel_games.rb",
      "pattern_type": "function_definition",
      "start_line": 345,
      "end_line": 345,
      "symbols": [
        "create_tripartite_game"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 30,
      "snippet": "    def create_tripartite_game"
    },
    {
      "file": "lib/hvm_parallel_games.rb",
      "pattern_type": "function_definition",
      "start_line": 360,
      "end_line": 360,
      "symbols": [
        "play!"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 13,
      "snippet": "    def play!"
    },
    {
      "file": "lib/hvm_parallel_games.rb",
      "pattern_type": "function_definition",
      "start_line": 380,
      "end_line": 380,
      "symbols": [
        "initialize"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 56,
      "snippet": "    def initialize(seed = SplitMixTernary::DEFAULT_SEED)"
    },
    {
      "file": "lib/hvm_parallel_games.rb",
      "pattern_type": "function_definition",
      "start_line": 387,
      "end_line": 387,
      "symbols": [
        "player"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 28,
      "snippet": "    def player(name, &block)"
    },
    {
      "file": "lib/hvm_parallel_games.rb",
      "pattern_type": "function_definition",
      "start_line": 393,
      "end_line": 393,
      "symbols": [
        "parallel"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 24,
      "snippet": "    def parallel(&block)"
    },
    {
      "file": "lib/hvm_parallel_games.rb",
      "pattern_type": "function_definition",
      "start_line": 400,
      "end_line": 400,
      "symbols": [
        "then"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 20,
      "snippet": "    def then(&block)"
    },
    {
      "file": "lib/hvm_parallel_games.rb",
      "pattern_type": "function_definition",
      "start_line": 407,
      "end_line": 407,
      "symbols": [
        "compile"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 15,
      "snippet": "    def compile"
    },
    {
      "file": "lib/hvm_parallel_games.rb",
      "pattern_type": "function_definition",
      "start_line": 427,
      "end_line": 427,
      "symbols": [
        "execute_parallel"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 34,
      "snippet": "    def execute_parallel(net, ops)"
    },
    {
      "file": "lib/hvm_parallel_games.rb",
      "pattern_type": "function_definition",
      "start_line": 447,
      "end_line": 447,
      "symbols": [
        "self"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 52,
      "snippet": "  def self.demo(seed: SplitMixTernary::DEFAULT_SEED)"
    },
    {
      "file": "lib/jungle_involution.rb",
      "pattern_type": "function_definition",
      "start_line": 48,
      "end_line": 48,
      "symbols": [
        "initialize"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 51,
      "snippet": "    def initialize(base_bpm: 172, drift_rate: 0.03)"
    },
    {
      "file": "lib/jungle_involution.rb",
      "pattern_type": "function_definition",
      "start_line": 57,
      "end_line": 57,
      "symbols": [
        "tick"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 12,
      "snippet": "    def tick"
    },
    {
      "file": "lib/jungle_involution.rb",
      "pattern_type": "function_definition",
      "start_line": 73,
      "end_line": 73,
      "symbols": [
        "beat_duration"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 21,
      "snippet": "    def beat_duration"
    },
    {
      "file": "lib/jungle_involution.rb",
      "pattern_type": "function_definition",
      "start_line": 78,
      "end_line": 78,
      "symbols": [
        "subdivisions"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 20,
      "snippet": "    def subdivisions"
    },
    {
      "file": "lib/jungle_involution.rb",
      "pattern_type": "function_definition",
      "start_line": 93,
      "end_line": 93,
      "symbols": [
        "random_subdivision"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 26,
      "snippet": "    def random_subdivision"
    },
    {
      "file": "lib/jungle_involution.rb",
      "pattern_type": "function_definition",
      "start_line": 135,
      "end_line": 135,
      "symbols": [
        "initialize"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 31,
      "snippet": "    def initialize(tempo_field)"
    },
    {
      "file": "lib/jungle_involution.rb",
      "pattern_type": "function_definition",
      "start_line": 145,
      "end_line": 145,
      "symbols": [
        "generate_bar"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 20,
      "snippet": "    def generate_bar"
    },
    {
      "file": "lib/jungle_involution.rb",
      "pattern_type": "function_definition",
      "start_line": 196,
      "end_line": 196,
      "symbols": [
        "mangle_pattern"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 31,
      "snippet": "    def mangle_pattern(pattern)"
    },
    {
      "file": "lib/jungle_involution.rb",
      "pattern_type": "function_definition",
      "start_line": 244,
      "end_line": 244,
      "symbols": [
        "initialize"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 31,
      "snippet": "    def initialize(tempo_field)"
    },
    {
      "file": "lib/jungle_involution.rb",
      "pattern_type": "function_definition",
      "start_line": 252,
      "end_line": 252,
      "symbols": [
        "generate_bar"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 20,
      "snippet": "    def generate_bar"
    },
    {
      "file": "lib/jungle_involution.rb",
      "pattern_type": "function_definition",
      "start_line": 304,
      "end_line": 304,
      "symbols": [
        "initialize"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 88,
      "snippet": "    def initialize(break_pattern: nil, bass_pattern: nil, fx_params: nil, generation: 0)"
    },
    {
      "file": "lib/jungle_involution.rb",
      "pattern_type": "function_definition",
      "start_line": 312,
      "end_line": 312,
      "symbols": [
        "default_fx"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 18,
      "snippet": "    def default_fx"
    },
    {
      "file": "lib/jungle_involution.rb",
      "pattern_type": "function_definition",
      "start_line": 323,
      "end_line": 323,
      "symbols": [
        "clone"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 13,
      "snippet": "    def clone"
    },
    {
      "file": "lib/jungle_involution.rb",
      "pattern_type": "function_definition",
      "start_line": 332,
      "end_line": 332,
      "symbols": [
        "to_events"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 17,
      "snippet": "    def to_events"
    },
    {
      "file": "lib/jungle_involution.rb",
      "pattern_type": "function_definition",
      "start_line": 365,
      "end_line": 365,
      "symbols": [
        "self"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 26,
      "snippet": "    def self.expand(state)"
    },
    {
      "file": "lib/jungle_involution.rb",
      "pattern_type": "function_definition",
      "start_line": 395,
      "end_line": 395,
      "symbols": [
        "self"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 26,
      "snippet": "    def self.mutate(state)"
    },
    {
      "file": "lib/jungle_involution.rb",
      "pattern_type": "function_definition",
      "start_line": 433,
      "end_line": 433,
      "symbols": [
        "self"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 29,
      "snippet": "    def self.transpose(state)"
    },
    {
      "file": "lib/jungle_involution.rb",
      "pattern_type": "function_definition",
      "start_line": 464,
      "end_line": 464,
      "symbols": [
        "initialize"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 18,
      "snippet": "    def initialize"
    },
    {
      "file": "lib/jungle_involution.rb",
      "pattern_type": "function_definition",
      "start_line": 468,
      "end_line": 468,
      "symbols": [
        "evaluate"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 23,
      "snippet": "    def evaluate(state)"
    },
    {
      "file": "lib/jungle_involution.rb",
      "pattern_type": "function_definition",
      "start_line": 491,
      "end_line": 491,
      "symbols": [
        "evaluate_density"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 31,
      "snippet": "    def evaluate_density(state)"
    },
    {
      "file": "lib/jungle_involution.rb",
      "pattern_type": "function_definition",
      "start_line": 516,
      "end_line": 516,
      "symbols": [
        "evaluate_bass"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 28,
      "snippet": "    def evaluate_bass(state)"
    },
    {
      "file": "lib/jungle_involution.rb",
      "pattern_type": "function_definition",
      "start_line": 532,
      "end_line": 532,
      "symbols": [
        "evaluate_chaos"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 29,
      "snippet": "    def evaluate_chaos(state)"
    },
    {
      "file": "lib/jungle_involution.rb",
      "pattern_type": "function_definition",
      "start_line": 546,
      "end_line": 546,
      "symbols": [
        "evaluate_novelty"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 31,
      "snippet": "    def evaluate_novelty(state)"
    },
    {
      "file": "lib/jungle_involution.rb",
      "pattern_type": "function_definition",
      "start_line": 554,
      "end_line": 554,
      "symbols": [
        "extract_patterns"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 31,
      "snippet": "    def extract_patterns(state)"
    },
    {
      "file": "lib/jungle_involution.rb",
      "pattern_type": "function_definition",
      "start_line": 581,
      "end_line": 581,
      "symbols": [
        "initialize"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 36,
      "snippet": "    def initialize(decay_rate: 0.95)"
    },
    {
      "file": "lib/jungle_involution.rb",
      "pattern_type": "function_definition",
      "start_line": 587,
      "end_line": 587,
      "symbols": [
        "record"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 30,
      "snippet": "    def record(pattern, score)"
    },
    {
      "file": "lib/jungle_involution.rb",
      "pattern_type": "function_definition",
      "start_line": 600,
      "end_line": 600,
      "symbols": [
        "familiarity"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 28,
      "snippet": "    def familiarity(pattern)"
    },
    {
      "file": "lib/jungle_involution.rb",
      "pattern_type": "function_definition",
      "start_line": 611,
      "end_line": 611,
      "symbols": [
        "bias_for"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 25,
      "snippet": "    def bias_for(pattern)"
    },
    {
      "file": "lib/jungle_involution.rb",
      "pattern_type": "function_definition",
      "start_line": 618,
      "end_line": 618,
      "symbols": [
        "advance_generation"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 26,
      "snippet": "    def advance_generation"
    },
    {
      "file": "lib/jungle_involution.rb",
      "pattern_type": "function_definition",
      "start_line": 624,
      "end_line": 624,
      "symbols": [
        "pattern_hash"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 29,
      "snippet": "    def pattern_hash(pattern)"
    },
    {
      "file": "lib/jungle_involution.rb",
      "pattern_type": "function_definition",
      "start_line": 637,
      "end_line": 637,
      "symbols": [
        "initialize"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 59,
      "snippet": "    def initialize(max_generations: 50, target_score: 0.85)"
    },
    {
      "file": "lib/jungle_involution.rb",
      "pattern_type": "function_definition",
      "start_line": 645,
      "end_line": 645,
      "symbols": [
        "evolve"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 29,
      "snippet": "    def evolve(initial_state)"
    },
    {
      "file": "lib/jungle_involution.rb",
      "pattern_type": "function_definition",
      "start_line": 700,
      "end_line": 700,
      "symbols": [
        "self"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 51,
      "snippet": "    def self.build(duration: 16.0, generations: 30)"
    },
    {
      "file": "lib/jungle_involution.rb",
      "pattern_type": "function_definition",
      "start_line": 734,
      "end_line": 734,
      "symbols": [
        "self"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 43,
      "snippet": "    def self.state_to_pattern(state, tempo)"
    },
    {
      "file": "lib/jungle_involution.rb",
      "pattern_type": "function_definition",
      "start_line": 777,
      "end_line": 777,
      "symbols": [
        "self"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 39,
      "snippet": "    def self.jungle_involution_showcase"
    },
    {
      "file": "lib/jungle_involution.rb",
      "pattern_type": "function_definition",
      "start_line": 798,
      "end_line": 798,
      "symbols": [
        "self"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 40,
      "snippet": "    def self.quick_jungle(duration: 4.0)"
    },
    {
      "file": "lib/jungle_involution.rb",
      "pattern_type": "function_definition",
      "start_line": 804,
      "end_line": 804,
      "symbols": [
        "self"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 33,
      "snippet": "    def self.section_marker(name)"
    },
    {
      "file": "lib/jungle_involution.rb",
      "pattern_type": "class_definition",
      "start_line": 45,
      "end_line": 144,
      "symbols": [
        "TempoField"
      ],
      "complexity": 2.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 2586,
      "snippet": "  class TempoField\n    attr_reader :base_bpm, :current_bpm, :phase, :drift_rate\n    \n    def initialize(base_bpm: 172, drift_rate: 0.03)\n      @base_bpm = base_bpm\n      @current_bpm = base_bpm\n      @drift_rate = drift_rate\n      @phase = 0\n      @chaos = MaximumDynamism::EntropySources::LorenzAttr"
    },
    {
      "file": "lib/jungle_involution.rb",
      "pattern_type": "class_definition",
      "start_line": 580,
      "end_line": 679,
      "symbols": [
        "IntuitionBank"
      ],
      "complexity": 5.6,
      "leitmotif_type": "synthesis",
      "snippet_length": 2940,
      "snippet": "  class IntuitionBank\n    def initialize(decay_rate: 0.95)\n      @patterns = {}  # pattern_hash => { count:, success_rate:, last_seen: }\n      @decay_rate = decay_rate\n      @generation = 0\n    end\n    \n    def record(pattern, score)\n      key = pattern_hash(pattern)\n      \n      if @patterns[key]\n "
    },
    {
      "file": "lib/jungle_involution.rb",
      "pattern_type": "class_definition",
      "start_line": 634,
      "end_line": 733,
      "symbols": [
        "SelfInvolution"
      ],
      "complexity": 4.6,
      "leitmotif_type": "synthesis",
      "snippet_length": 3148,
      "snippet": "  class SelfInvolution\n    attr_reader :history, :intuition_bank\n    \n    def initialize(max_generations: 50, target_score: 0.85)\n      @max_generations = max_generations\n      @target_score = target_score\n      @evaluator = Evaluator.new\n      @intuition_bank = IntuitionBank.new\n      @history = []"
    },
    {
      "file": "lib/jungle_involution.rb",
      "pattern_type": "class_definition",
      "start_line": 697,
      "end_line": 796,
      "symbols": [
        "JunglePatternBuilder"
      ],
      "complexity": 4.6,
      "leitmotif_type": "synthesis",
      "snippet_length": 3254,
      "snippet": "  class JunglePatternBuilder\n    extend FreeMonad::DSL\n    \n    def self.build(duration: 16.0, generations: 30)\n      tempo_field = TempoField.new(base_bpm: 172)\n      break_engine = BreakbeatEngine.new(tempo_field)\n      bass_engine = BassEngine.new(tempo_field)\n      \n      # Generate initial stat"
    },
    {
      "file": "lib/jungle_involution.rb",
      "pattern_type": "class_definition",
      "start_line": 774,
      "end_line": 809,
      "symbols": [
        "Showcase"
      ],
      "complexity": 0.6,
      "leitmotif_type": "synthesis",
      "snippet_length": 1121,
      "snippet": "  class Showcase\n    extend FreeMonad::DSL\n    \n    def self.jungle_involution_showcase\n      sequence!(\n        section_marker(\"\u2554\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2557\"),\n        section_marker(\"\u2551   INDUSTRIAL JUNGLE SELF-INVOLUTION  \u2551\"),\n        section_marker(\"\u2551  \u03b9: UIState \u2192 UIState | \u03b9\u2218\u03b9 \u2192 id "
    },
    {
      "file": "lib/maximum_dynamism.rb",
      "pattern_type": "function_definition",
      "start_line": 47,
      "end_line": 47,
      "symbols": [
        "self"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 41,
      "snippet": "    def self.gaussian(mean: 0, stddev: 1)"
    },
    {
      "file": "lib/maximum_dynamism.rb",
      "pattern_type": "function_definition",
      "start_line": 56,
      "end_line": 56,
      "symbols": [
        "self"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 37,
      "snippet": "    def self.uniform(min: -1, max: 1)"
    },
    {
      "file": "lib/maximum_dynamism.rb",
      "pattern_type": "function_definition",
      "start_line": 61,
      "end_line": 61,
      "symbols": [
        "self"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 41,
      "snippet": "    def self.levy(alpha: 1.5, scale: 1.0)"
    },
    {
      "file": "lib/maximum_dynamism.rb",
      "pattern_type": "function_definition",
      "start_line": 73,
      "end_line": 73,
      "symbols": [
        "self"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 33,
      "snippet": "    def self.logistic(x, r: 3.99)"
    },
    {
      "file": "lib/maximum_dynamism.rb",
      "pattern_type": "function_definition",
      "start_line": 79,
      "end_line": 79,
      "symbols": [
        "initialize"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 53,
      "snippet": "      def initialize(sigma: 10, rho: 28, beta: 8.0/3)"
    },
    {
      "file": "lib/maximum_dynamism.rb",
      "pattern_type": "function_definition",
      "start_line": 85,
      "end_line": 85,
      "symbols": [
        "step"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 14,
      "snippet": "      def step"
    },
    {
      "file": "lib/maximum_dynamism.rb",
      "pattern_type": "function_definition",
      "start_line": 97,
      "end_line": 97,
      "symbols": [
        "next_value"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 31,
      "snippet": "      def next_value(coord: :x)"
    },
    {
      "file": "lib/maximum_dynamism.rb",
      "pattern_type": "function_definition",
      "start_line": 109,
      "end_line": 109,
      "symbols": [
        "initialize"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 36,
      "snippet": "      def initialize(a: 1.4, b: 0.3)"
    },
    {
      "file": "lib/maximum_dynamism.rb",
      "pattern_type": "function_definition",
      "start_line": 114,
      "end_line": 114,
      "symbols": [
        "step"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 14,
      "snippet": "      def step"
    },
    {
      "file": "lib/maximum_dynamism.rb",
      "pattern_type": "function_definition",
      "start_line": 121,
      "end_line": 121,
      "symbols": [
        "next_value"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 20,
      "snippet": "      def next_value"
    },
    {
      "file": "lib/maximum_dynamism.rb",
      "pattern_type": "function_definition",
      "start_line": 129,
      "end_line": 129,
      "symbols": [
        "initialize"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 53,
      "snippet": "      def initialize(step_size: 0.1, bounds: [-1, 1])"
    },
    {
      "file": "lib/maximum_dynamism.rb",
      "pattern_type": "function_definition",
      "start_line": 135,
      "end_line": 135,
      "symbols": [
        "step"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 14,
      "snippet": "      def step"
    },
    {
      "file": "lib/maximum_dynamism.rb",
      "pattern_type": "function_definition",
      "start_line": 140,
      "end_line": 140,
      "symbols": [
        "next_value"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 20,
      "snippet": "      def next_value"
    },
    {
      "file": "lib/maximum_dynamism.rb",
      "pattern_type": "function_definition",
      "start_line": 145,
      "end_line": 145,
      "symbols": [
        "reset"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 15,
      "snippet": "      def reset"
    },
    {
      "file": "lib/maximum_dynamism.rb",
      "pattern_type": "function_definition",
      "start_line": 152,
      "end_line": 152,
      "symbols": [
        "initialize"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 36,
      "snippet": "      def initialize(frequency: 0.1)"
    },
    {
      "file": "lib/maximum_dynamism.rb",
      "pattern_type": "function_definition",
      "start_line": 158,
      "end_line": 158,
      "symbols": [
        "next_value"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 20,
      "snippet": "      def next_value"
    },
    {
      "file": "lib/maximum_dynamism.rb",
      "pattern_type": "function_definition",
      "start_line": 176,
      "end_line": 176,
      "symbols": [
        "initialize"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 19,
      "snippet": "    def initialize("
    },
    {
      "file": "lib/maximum_dynamism.rb",
      "pattern_type": "function_definition",
      "start_line": 193,
      "end_line": 193,
      "symbols": [
        "self"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 19,
      "snippet": "    def self.subtle"
    },
    {
      "file": "lib/maximum_dynamism.rb",
      "pattern_type": "function_definition",
      "start_line": 204,
      "end_line": 204,
      "symbols": [
        "self"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 21,
      "snippet": "    def self.moderate"
    },
    {
      "file": "lib/maximum_dynamism.rb",
      "pattern_type": "function_definition",
      "start_line": 215,
      "end_line": 215,
      "symbols": [
        "self"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 20,
      "snippet": "    def self.chaotic"
    },
    {
      "file": "lib/maximum_dynamism.rb",
      "pattern_type": "function_definition",
      "start_line": 226,
      "end_line": 226,
      "symbols": [
        "self"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 20,
      "snippet": "    def self.maximum"
    },
    {
      "file": "lib/maximum_dynamism.rb",
      "pattern_type": "function_definition",
      "start_line": 266,
      "end_line": 266,
      "symbols": [
        "initialize"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 19,
      "snippet": "    def initialize("
    },
    {
      "file": "lib/maximum_dynamism.rb",
      "pattern_type": "function_definition",
      "start_line": 293,
      "end_line": 293,
      "symbols": [
        "derange"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 22,
      "snippet": "    def derange(pitch)"
    },
    {
      "file": "lib/maximum_dynamism.rb",
      "pattern_type": "function_definition",
      "start_line": 343,
      "end_line": 343,
      "symbols": [
        "derange_chord"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 30,
      "snippet": "    def derange_chord(pitches)"
    },
    {
      "file": "lib/maximum_dynamism.rb",
      "pattern_type": "function_definition",
      "start_line": 350,
      "end_line": 350,
      "symbols": [
        "active_strategy"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 23,
      "snippet": "    def active_strategy"
    },
    {
      "file": "lib/maximum_dynamism.rb",
      "pattern_type": "function_definition",
      "start_line": 354,
      "end_line": 354,
      "symbols": [
        "derange_with_strategy"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 43,
      "snippet": "    def derange_with_strategy(pitch, strat)"
    },
    {
      "file": "lib/maximum_dynamism.rb",
      "pattern_type": "function_definition",
      "start_line": 371,
      "end_line": 371,
      "symbols": [
        "initialize"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 19,
      "snippet": "    def initialize("
    },
    {
      "file": "lib/maximum_dynamism.rb",
      "pattern_type": "function_definition",
      "start_line": 393,
      "end_line": 393,
      "symbols": [
        "derange"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 25,
      "snippet": "    def derange(duration)"
    },
    {
      "file": "lib/maximum_dynamism.rb",
      "pattern_type": "function_definition",
      "start_line": 446,
      "end_line": 446,
      "symbols": [
        "initialize"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 19,
      "snippet": "    def initialize("
    },
    {
      "file": "lib/maximum_dynamism.rb",
      "pattern_type": "function_definition",
      "start_line": 464,
      "end_line": 464,
      "symbols": [
        "derange"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 26,
      "snippet": "    def derange(amplitude)"
    },
    {
      "file": "lib/maximum_dynamism.rb",
      "pattern_type": "function_definition",
      "start_line": 521,
      "end_line": 521,
      "symbols": [
        "initialize"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 19,
      "snippet": "    def initialize("
    },
    {
      "file": "lib/maximum_dynamism.rb",
      "pattern_type": "function_definition",
      "start_line": 566,
      "end_line": 566,
      "symbols": [
        "initialize"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 19,
      "snippet": "    def initialize("
    },
    {
      "file": "lib/maximum_dynamism.rb",
      "pattern_type": "function_definition",
      "start_line": 582,
      "end_line": 582,
      "symbols": [
        "derange_sequence"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 32,
      "snippet": "    def derange_sequence(events)"
    },
    {
      "file": "lib/maximum_dynamism.rb",
      "pattern_type": "function_definition",
      "start_line": 617,
      "end_line": 617,
      "symbols": [
        "derange_pattern"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 32,
      "snippet": "    def derange_pattern(pattern)"
    },
    {
      "file": "lib/maximum_dynamism.rb",
      "pattern_type": "function_definition",
      "start_line": 659,
      "end_line": 659,
      "symbols": [
        "initialize"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 19,
      "snippet": "    def initialize("
    },
    {
      "file": "lib/maximum_dynamism.rb",
      "pattern_type": "function_definition",
      "start_line": 673,
      "end_line": 673,
      "symbols": [
        "apply_to_config!"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 32,
      "snippet": "    def apply_to_config!(config)"
    },
    {
      "file": "lib/maximum_dynamism.rb",
      "pattern_type": "function_definition",
      "start_line": 707,
      "end_line": 707,
      "symbols": [
        "initialize"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 54,
      "snippet": "    def initialize(config = DerangementConfig.maximum)"
    },
    {
      "file": "lib/maximum_dynamism.rb",
      "pattern_type": "function_definition",
      "start_line": 713,
      "end_line": 713,
      "symbols": [
        "interpret"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 52,
      "snippet": "    def interpret(pattern, matter, current_beat = 0)"
    },
    {
      "file": "lib/maximum_dynamism.rb",
      "pattern_type": "function_definition",
      "start_line": 725,
      "end_line": 725,
      "symbols": [
        "interpret_recursive"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 58,
      "snippet": "    def interpret_recursive(pattern, matter, current_beat)"
    },
    {
      "file": "lib/maximum_dynamism.rb",
      "pattern_type": "function_definition",
      "start_line": 762,
      "end_line": 762,
      "symbols": [
        "emit_note"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 44,
      "snippet": "    def emit_note(instruction, matter, beat)"
    },
    {
      "file": "lib/maximum_dynamism.rb",
      "pattern_type": "function_definition",
      "start_line": 791,
      "end_line": 791,
      "symbols": [
        "emit_chord"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 45,
      "snippet": "    def emit_chord(instruction, matter, beat)"
    },
    {
      "file": "lib/maximum_dynamism.rb",
      "pattern_type": "function_definition",
      "start_line": 815,
      "end_line": 815,
      "symbols": [
        "events_to_score"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 23,
      "snippet": "    def events_to_score"
    },
    {
      "file": "lib/maximum_dynamism.rb",
      "pattern_type": "function_definition",
      "start_line": 833,
      "end_line": 833,
      "symbols": [
        "midi_to_hz"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 24,
      "snippet": "    def midi_to_hz(midi)"
    },
    {
      "file": "lib/maximum_dynamism.rb",
      "pattern_type": "function_definition",
      "start_line": 849,
      "end_line": 849,
      "symbols": [
        "self"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 77,
      "snippet": "    def self.derange(pattern, config: DerangementConfig.maximum, matter: nil)"
    },
    {
      "file": "lib/maximum_dynamism.rb",
      "pattern_type": "function_definition",
      "start_line": 863,
      "end_line": 863,
      "symbols": [
        "self"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 41,
      "snippet": "    def self.maximum_aphex(duration: 8.0)"
    },
    {
      "file": "lib/maximum_dynamism.rb",
      "pattern_type": "function_definition",
      "start_line": 869,
      "end_line": 869,
      "symbols": [
        "self"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 44,
      "snippet": "    def self.maximum_autechre(duration: 8.0)"
    },
    {
      "file": "lib/maximum_dynamism.rb",
      "pattern_type": "function_definition",
      "start_line": 875,
      "end_line": 875,
      "symbols": [
        "self"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 25,
      "snippet": "    def self.aphex_config"
    },
    {
      "file": "lib/maximum_dynamism.rb",
      "pattern_type": "function_definition",
      "start_line": 902,
      "end_line": 902,
      "symbols": [
        "self"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 28,
      "snippet": "    def self.autechre_config"
    },
    {
      "file": "lib/maximum_dynamism.rb",
      "pattern_type": "function_definition",
      "start_line": 930,
      "end_line": 930,
      "symbols": [
        "self"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 27,
      "snippet": "    def self.default_matter"
    },
    {
      "file": "lib/maximum_dynamism.rb",
      "pattern_type": "function_definition",
      "start_line": 942,
      "end_line": 942,
      "symbols": [
        "self"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 34,
      "snippet": "    def self.maximum_dynamism_demo"
    },
    {
      "file": "lib/maximum_dynamism.rb",
      "pattern_type": "function_definition",
      "start_line": 977,
      "end_line": 977,
      "symbols": [
        "self"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 33,
      "snippet": "    def self.section_marker(name)"
    },
    {
      "file": "lib/maximum_dynamism.rb",
      "pattern_type": "function_definition",
      "start_line": 981,
      "end_line": 981,
      "symbols": [
        "self"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 42,
      "snippet": "    def self.build_deranged_pattern(level)"
    },
    {
      "file": "lib/maximum_dynamism.rb",
      "pattern_type": "class_definition",
      "start_line": 367,
      "end_line": 466,
      "symbols": [
        "DurationDerangement"
      ],
      "complexity": 4.3,
      "leitmotif_type": "synthesis",
      "snippet_length": 3011,
      "snippet": "  class DurationDerangement\n    attr_accessor :enabled, :intensity, :strategy, :allow_zero, :allow_extreme,\n                  :min_duration, :max_duration, :quantize\n    \n    def initialize(\n      enabled: true,\n      intensity: 0.3,\n      strategy: :gaussian,\n      allow_zero: false,\n      allow_ex"
    },
    {
      "file": "lib/maximum_dynamism.rb",
      "pattern_type": "class_definition",
      "start_line": 562,
      "end_line": 661,
      "symbols": [
        "StructureDerangement"
      ],
      "complexity": 7.3,
      "leitmotif_type": "synthesis",
      "snippet_length": 2894,
      "snippet": "  class StructureDerangement\n    attr_accessor :enabled, :swap_probability, :reverse_probability,\n                  :skip_probability, :repeat_probability, :nest_probability\n    \n    def initialize(\n      enabled: true,\n      swap_probability: 0.1,\n      reverse_probability: 0.05,\n      skip_probabi"
    },
    {
      "file": "lib/maximum_dynamism.rb",
      "pattern_type": "class_definition",
      "start_line": 939,
      "end_line": 1005,
      "symbols": [
        "Showcase"
      ],
      "complexity": 1.1,
      "leitmotif_type": "synthesis",
      "snippet_length": 2003,
      "snippet": "  class Showcase\n    extend FreeMonad::DSL\n    \n    def self.maximum_dynamism_demo\n      sequence!(\n        section_marker(\"\u2554\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2557\"),\n        section_marker(\"\u2551     MAXIMUM DYNAMISM SHOWCASE        \u2551\"),\n        section_marker(\"\u2551  Every DOF Derangeable with Entropy  \u2551"
    },
    {
      "file": "lib/modulation.rb",
      "pattern_type": "function_definition",
      "start_line": 153,
      "end_line": 182,
      "symbols": [
        "initialize"
      ],
      "complexity": 1.7,
      "leitmotif_type": "synthesis",
      "snippet_length": 604,
      "snippet": "  def initialize(semitones)\n    @semitones = semitones % 12\n    @direction = semitones >= 0 ? :up : :down\n  end\n\n  # Apply transposition to pitch class\n  def apply(pitch_class)\n    PitchClass.new(pitch_class.value + @semitones)\n  end\n\n  # Apply to chord\n  def apply_to_chord(chord)\n    Chord.new(*cho"
    },
    {
      "file": "lib/modulation.rb",
      "pattern_type": "function_definition",
      "start_line": 159,
      "end_line": 182,
      "symbols": [
        "apply"
      ],
      "complexity": 1.5,
      "leitmotif_type": "synthesis",
      "snippet_length": 452,
      "snippet": "  def apply(pitch_class)\n    PitchClass.new(pitch_class.value + @semitones)\n  end\n\n  # Apply to chord\n  def apply_to_chord(chord)\n    Chord.new(*chord.voices.map { |v| apply(v) })\n  end\n\n  def to_s\n    direction = @direction == :up ? '+' : '-'\n    \"T#{direction}#{@semitones.abs}\"\n  end\n\n  def ==(oth"
    },
    {
      "file": "lib/modulation.rb",
      "pattern_type": "function_definition",
      "start_line": 164,
      "end_line": 182,
      "symbols": [
        "apply_to_chord"
      ],
      "complexity": 1.3,
      "leitmotif_type": "synthesis",
      "snippet_length": 350,
      "snippet": "  def apply_to_chord(chord)\n    Chord.new(*chord.voices.map { |v| apply(v) })\n  end\n\n  def to_s\n    direction = @direction == :up ? '+' : '-'\n    \"T#{direction}#{@semitones.abs}\"\n  end\n\n  def ==(other)\n    other.is_a?(Transposition) && @semitones == other.semitones\n  end\n\n  def hash\n    @semitones.h"
    },
    {
      "file": "lib/modulation.rb",
      "pattern_type": "function_definition",
      "start_line": 168,
      "end_line": 182,
      "symbols": [
        "to_s"
      ],
      "complexity": 0.6,
      "leitmotif_type": "synthesis",
      "snippet_length": 265,
      "snippet": "  def to_s\n    direction = @direction == :up ? '+' : '-'\n    \"T#{direction}#{@semitones.abs}\"\n  end\n\n  def ==(other)\n    other.is_a?(Transposition) && @semitones == other.semitones\n  end\n\n  def hash\n    @semitones.hash\n  end\nend\n\n# Modulation path: sequence of keys"
    },
    {
      "file": "lib/modulation.rb",
      "pattern_type": "function_definition",
      "start_line": 177,
      "end_line": 182,
      "symbols": [
        "hash"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 77,
      "snippet": "  def hash\n    @semitones.hash\n  end\nend\n\n# Modulation path: sequence of keys"
    },
    {
      "file": "lib/modulation.rb",
      "pattern_type": "function_definition",
      "start_line": 186,
      "end_line": 186,
      "symbols": [
        "initialize"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 27,
      "snippet": "  def initialize(keys = [])"
    },
    {
      "file": "lib/modulation.rb",
      "pattern_type": "function_definition",
      "start_line": 198,
      "end_line": 198,
      "symbols": [
        "add_key"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 18,
      "snippet": "  def add_key(key)"
    },
    {
      "file": "lib/modulation.rb",
      "pattern_type": "function_definition",
      "start_line": 207,
      "end_line": 207,
      "symbols": [
        "total_distance"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 20,
      "snippet": "  def total_distance"
    },
    {
      "file": "lib/modulation.rb",
      "pattern_type": "function_definition",
      "start_line": 212,
      "end_line": 212,
      "symbols": [
        "returns_to_origin?"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 24,
      "snippet": "  def returns_to_origin?"
    },
    {
      "file": "lib/modulation.rb",
      "pattern_type": "function_definition",
      "start_line": 216,
      "end_line": 216,
      "symbols": [
        "to_s"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 10,
      "snippet": "  def to_s"
    },
    {
      "file": "lib/modulation.rb",
      "pattern_type": "class_definition",
      "start_line": 150,
      "end_line": 182,
      "symbols": [
        "Transposition"
      ],
      "complexity": 1.7,
      "leitmotif_type": "synthesis",
      "snippet_length": 662,
      "snippet": "class Transposition\n  attr_reader :semitones, :direction\n\n  def initialize(semitones)\n    @semitones = semitones % 12\n    @direction = semitones >= 0 ? :up : :down\n  end\n\n  # Apply transposition to pitch class\n  def apply(pitch_class)\n    PitchClass.new(pitch_class.value + @semitones)\n  end\n\n  # App"
    },
    {
      "file": "lib/modulation.rb",
      "pattern_type": "class_definition",
      "start_line": 183,
      "end_line": 220,
      "symbols": [
        "ModulationPath"
      ],
      "complexity": 2.5,
      "leitmotif_type": "synthesis",
      "snippet_length": 807,
      "snippet": "class ModulationPath\n  attr_reader :keys, :modulations\n\n  def initialize(keys = [])\n    @keys = keys\n    @modulations = []\n\n    # Calculate modulations between consecutive keys\n    (1...keys.length).each do |i|\n      mod = Modulation.new(keys[i-1], keys[i], :direct)\n      @modulations << mod\n    end"
    },
    {
      "file": "lib/moebius.rb",
      "pattern_type": "function_definition",
      "start_line": 17,
      "end_line": 17,
      "symbols": [
        "self"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 16,
      "snippet": "  def self.mu(n)"
    },
    {
      "file": "lib/moebius.rb",
      "pattern_type": "function_definition",
      "start_line": 28,
      "end_line": 28,
      "symbols": [
        "self"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 27,
      "snippet": "  def self.prime_factors(n)"
    },
    {
      "file": "lib/moebius.rb",
      "pattern_type": "function_definition",
      "start_line": 43,
      "end_line": 43,
      "symbols": [
        "self"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 22,
      "snippet": "  def self.divisors(n)"
    },
    {
      "file": "lib/moebius.rb",
      "pattern_type": "function_definition",
      "start_line": 51,
      "end_line": 51,
      "symbols": [
        "self"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 30,
      "snippet": "  def self.invert(f_values, n)"
    },
    {
      "file": "lib/moebius.rb",
      "pattern_type": "function_definition",
      "start_line": 56,
      "end_line": 56,
      "symbols": [
        "self"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 37,
      "snippet": "  def self.transform(g_values, max_n)"
    },
    {
      "file": "lib/moebius.rb",
      "pattern_type": "function_definition",
      "start_line": 65,
      "end_line": 65,
      "symbols": [
        "initialize"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 18,
      "snippet": "    def initialize"
    },
    {
      "file": "lib/moebius.rb",
      "pattern_type": "function_definition",
      "start_line": 70,
      "end_line": 70,
      "symbols": [
        "add"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 30,
      "snippet": "    def add(encoding, program)"
    },
    {
      "file": "lib/moebius.rb",
      "pattern_type": "function_definition",
      "start_line": 75,
      "end_line": 75,
      "symbols": [
        "prefix?"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 21,
      "snippet": "    def prefix?(p, q)"
    },
    {
      "file": "lib/moebius.rb",
      "pattern_type": "function_definition",
      "start_line": 79,
      "end_line": 79,
      "symbols": [
        "interval"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 22,
      "snippet": "    def interval(p, q)"
    },
    {
      "file": "lib/moebius.rb",
      "pattern_type": "function_definition",
      "start_line": 87,
      "end_line": 87,
      "symbols": [
        "mu_lattice"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 24,
      "snippet": "    def mu_lattice(p, q)"
    },
    {
      "file": "lib/moebius.rb",
      "pattern_type": "function_definition",
      "start_line": 102,
      "end_line": 102,
      "symbols": [
        "invert_prefix"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 34,
      "snippet": "    def invert_prefix(f_values, q)"
    },
    {
      "file": "lib/moebius.rb",
      "pattern_type": "function_definition",
      "start_line": 113,
      "end_line": 113,
      "symbols": [
        "self"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 22,
      "snippet": "    def self.encode(n)"
    },
    {
      "file": "lib/moebius.rb",
      "pattern_type": "function_definition",
      "start_line": 139,
      "end_line": 139,
      "symbols": [
        "self"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 25,
      "snippet": "    def self.decode(code)"
    },
    {
      "file": "lib/moebius.rb",
      "pattern_type": "function_definition",
      "start_line": 155,
      "end_line": 155,
      "symbols": [
        "self"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 34,
      "snippet": "    def self.all_codes(max_length)"
    },
    {
      "file": "lib/neo_riemannian.rb",
      "pattern_type": "function_definition",
      "start_line": 5,
      "end_line": 5,
      "symbols": [
        "self"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 26,
      "snippet": "  def self.parallel(chord)"
    },
    {
      "file": "lib/neo_riemannian.rb",
      "pattern_type": "function_definition",
      "start_line": 21,
      "end_line": 21,
      "symbols": [
        "self"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 26,
      "snippet": "  def self.relative(chord)"
    },
    {
      "file": "lib/neo_riemannian.rb",
      "pattern_type": "function_definition",
      "start_line": 58,
      "end_line": 58,
      "symbols": [
        "self"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 39,
      "snippet": "  def self.leading_tone_exchange(chord)"
    },
    {
      "file": "lib/neo_riemannian.rb",
      "pattern_type": "function_definition",
      "start_line": 87,
      "end_line": 87,
      "symbols": [
        "self"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 50,
      "snippet": "  def self.hexatonic_cycle(start_chord, steps = 6)"
    },
    {
      "file": "lib/neo_riemannian.rb",
      "pattern_type": "function_definition",
      "start_line": 139,
      "end_line": 139,
      "symbols": [
        "self"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 54,
      "snippet": "  def self.color_update(color, h: nil, l: nil, c: nil)"
    },
    {
      "file": "lib/neo_riemannian.rb",
      "pattern_type": "function_definition",
      "start_line": 152,
      "end_line": 152,
      "symbols": [
        "self"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 27,
      "snippet": "  def self.transform(chord)"
    },
    {
      "file": "lib/neo_riemannian.rb",
      "pattern_type": "class_definition",
      "start_line": 4,
      "end_line": 103,
      "symbols": [
        "NeoRiemannian"
      ],
      "complexity": 3.8,
      "leitmotif_type": "synthesis",
      "snippet_length": 2935,
      "snippet": "class NeoRiemannian\n  def self.parallel(chord)\n    transform(chord) do |voices|\n      # P: Maps Major to Minor by lowering 3rd, Minor to Major by raising 3rd\n      # Simplified for triads (Root, 3rd, 5th)\n      root = voices[0]\n      third = voices[1]\n      fifth = voices[2]\n      \n      # Determine"
    },
    {
      "file": "lib/ontological_validator.rb",
      "pattern_type": "function_definition",
      "start_line": 3,
      "end_line": 3,
      "symbols": [
        "self"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 40,
      "snippet": "  def self.semantic_closure(composition)"
    },
    {
      "file": "lib/opn/arpeggios.rb",
      "pattern_type": "function_definition",
      "start_line": 25,
      "end_line": 25,
      "symbols": [
        "initialize"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 66,
      "snippet": "      def initialize(chord, pattern: :up, octaves: 2, rate: 0.125)"
    },
    {
      "file": "lib/opn/arpeggios.rb",
      "pattern_type": "function_definition",
      "start_line": 32,
      "end_line": 32,
      "symbols": [
        "generate"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 27,
      "snippet": "      def generate(bars: 4)"
    },
    {
      "file": "lib/opn/arpeggios.rb",
      "pattern_type": "function_definition",
      "start_line": 84,
      "end_line": 84,
      "symbols": [
        "self"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 59,
      "snippet": "    def self.broken_arp(chord, density: 0.7, duration: 8.0)"
    },
    {
      "file": "lib/opn/drone.rb",
      "pattern_type": "function_definition",
      "start_line": 9,
      "end_line": 9,
      "symbols": [
        "initialize"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 44,
      "snippet": "      def initialize(root: 36, harmonics: 8)"
    },
    {
      "file": "lib/opn/drone.rb",
      "pattern_type": "function_definition",
      "start_line": 14,
      "end_line": 14,
      "symbols": [
        "generate"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 34,
      "snippet": "      def generate(duration: 32.0)"
    },
    {
      "file": "lib/opn/drone.rb",
      "pattern_type": "function_definition",
      "start_line": 46,
      "end_line": 46,
      "symbols": [
        "self"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 66,
      "snippet": "    def self.evolving_drone(root: 36, duration: 64.0, movement: 5)"
    },
    {
      "file": "lib/opn/drone.rb",
      "pattern_type": "function_definition",
      "start_line": 66,
      "end_line": 66,
      "symbols": [
        "self"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 61,
      "snippet": "    def self.cathedral_wash(pitches, feedback: 5, delay: 0.5)"
    },
    {
      "file": "lib/opn/dynamics.rb",
      "pattern_type": "function_definition",
      "start_line": 8,
      "end_line": 8,
      "symbols": [
        "self"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 39,
      "snippet": "    def self.hard_cut(events, at_time:)"
    },
    {
      "file": "lib/opn/dynamics.rb",
      "pattern_type": "function_definition",
      "start_line": 13,
      "end_line": 13,
      "symbols": [
        "self"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 41,
      "snippet": "    def self.emergence(events, duration:)"
    },
    {
      "file": "lib/opn/dynamics.rb",
      "pattern_type": "function_definition",
      "start_line": 21,
      "end_line": 21,
      "symbols": [
        "self"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 51,
      "snippet": "    def self.impact(pitch, duration: 0.5, amp: 0.9)"
    },
    {
      "file": "lib/opn/dynamics.rb",
      "pattern_type": "function_definition",
      "start_line": 30,
      "end_line": 30,
      "symbols": [
        "self"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 42,
      "snippet": "    def self.breathing(events, cycle: 4.0)"
    },
    {
      "file": "lib/opn/dynamics.rb",
      "pattern_type": "function_definition",
      "start_line": 39,
      "end_line": 39,
      "symbols": [
        "self"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 54,
      "snippet": "    def self.swell(pitch, duration: 8.0, peak_at: 0.7)"
    },
    {
      "file": "lib/opn/dynamics.rb",
      "pattern_type": "function_definition",
      "start_line": 63,
      "end_line": 63,
      "symbols": [
        "self"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 59,
      "snippet": "    def self.subito_piano(events, at_time:, reduction: 0.2)"
    },
    {
      "file": "lib/opn/eccojam.rb",
      "pattern_type": "function_definition",
      "start_line": 9,
      "end_line": 9,
      "symbols": [
        "initialize"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 68,
      "snippet": "      def initialize(pitches, durations, loop_count: 4, decay: 0.95)"
    },
    {
      "file": "lib/opn/eccojam.rb",
      "pattern_type": "function_definition",
      "start_line": 16,
      "end_line": 16,
      "symbols": [
        "generate"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 18,
      "snippet": "      def generate"
    },
    {
      "file": "lib/opn/eccojam.rb",
      "pattern_type": "function_definition",
      "start_line": 47,
      "end_line": 47,
      "symbols": [
        "self"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 71,
      "snippet": "    def self.slowed_sample(pitches, original_tempo: 120, slowdown: 0.5)"
    },
    {
      "file": "lib/opn/eccojam.rb",
      "pattern_type": "function_definition",
      "start_line": 71,
      "end_line": 71,
      "symbols": [
        "self"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 66,
      "snippet": "    def self.stutter(pitch, total_duration: 2.0, stutter_count: 8)"
    },
    {
      "file": "lib/opn/glitch.rb",
      "pattern_type": "function_definition",
      "start_line": 8,
      "end_line": 8,
      "symbols": [
        "self"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 66,
      "snippet": "    def self.buffer_stutter(pitch, buffer_size: 0.05, repeats: 16)"
    },
    {
      "file": "lib/opn/glitch.rb",
      "pattern_type": "function_definition",
      "start_line": 24,
      "end_line": 24,
      "symbols": [
        "self"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 38,
      "snippet": "    def self.bitcrush(events, bits: 4)"
    },
    {
      "file": "lib/opn/glitch.rb",
      "pattern_type": "function_definition",
      "start_line": 34,
      "end_line": 34,
      "symbols": [
        "self"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 52,
      "snippet": "    def self.cd_skip(pattern, skip_probability: 0.2)"
    },
    {
      "file": "lib/opn/glitch.rb",
      "pattern_type": "function_definition",
      "start_line": 60,
      "end_line": 60,
      "symbols": [
        "self"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 45,
      "snippet": "    def self.corrupt(events, corruption: 0.3)"
    },
    {
      "file": "lib/opn/glitch.rb",
      "pattern_type": "function_definition",
      "start_line": 75,
      "end_line": 75,
      "symbols": [
        "self"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 47,
      "snippet": "    def self.dropout(events, probability: 0.15)"
    },
    {
      "file": "lib/opn/granular.rb",
      "pattern_type": "function_definition",
      "start_line": 14,
      "end_line": 14,
      "symbols": [
        "initialize"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 80,
      "snippet": "      def initialize(center_pitch: 60, density: 100, scatter: 12, duration: 8.0)"
    },
    {
      "file": "lib/opn/granular.rb",
      "pattern_type": "function_definition",
      "start_line": 21,
      "end_line": 21,
      "symbols": [
        "generate"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 18,
      "snippet": "      def generate"
    },
    {
      "file": "lib/opn/granular.rb",
      "pattern_type": "function_definition",
      "start_line": 46,
      "end_line": 46,
      "symbols": [
        "to_pattern"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 20,
      "snippet": "      def to_pattern"
    },
    {
      "file": "lib/opn/granular.rb",
      "pattern_type": "function_definition",
      "start_line": 56,
      "end_line": 56,
      "symbols": [
        "rand_gaussian"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 23,
      "snippet": "      def rand_gaussian"
    },
    {
      "file": "lib/opn/granular.rb",
      "pattern_type": "function_definition",
      "start_line": 64,
      "end_line": 64,
      "symbols": [
        "self"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 60,
      "snippet": "    def self.freeze_frame(pitch, duration: 4.0, density: 50)"
    },
    {
      "file": "lib/opn/granular.rb",
      "pattern_type": "function_definition",
      "start_line": 70,
      "end_line": 70,
      "symbols": [
        "self"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 72,
      "snippet": "    def self.spectral_smear(fundamental: 36, partials: 8, duration: 6.0)"
    },
    {
      "file": "lib/opn/harmony.rb",
      "pattern_type": "function_definition",
      "start_line": 59,
      "end_line": 59,
      "symbols": [
        "self"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 54,
      "snippet": "    def self.voice_lead(chord1, chord2, duration: 4.0)"
    },
    {
      "file": "lib/opn/harmony.rb",
      "pattern_type": "function_definition",
      "start_line": 85,
      "end_line": 85,
      "symbols": [
        "self"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 88,
      "snippet": "    def self.modal_interchange(root: 60, modes: [:major, :minor, :sus4, :cluster_tight])"
    },
    {
      "file": "lib/opn/midi_orchestra.rb",
      "pattern_type": "function_definition",
      "start_line": 24,
      "end_line": 24,
      "symbols": [
        "initialize"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 54,
      "snippet": "      def initialize(voices: [:violin, :cello, :horn])"
    },
    {
      "file": "lib/opn/midi_orchestra.rb",
      "pattern_type": "function_definition",
      "start_line": 28,
      "end_line": 28,
      "symbols": [
        "chord"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 63,
      "snippet": "      def chord(root, quality: :major, duration: 2.0, amp: 0.4)"
    },
    {
      "file": "lib/opn/midi_orchestra.rb",
      "pattern_type": "function_definition",
      "start_line": 69,
      "end_line": 69,
      "symbols": [
        "progression"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 59,
      "snippet": "      def progression(roots, qualities, duration_each: 2.0)"
    },
    {
      "file": "lib/opn/midi_orchestra.rb",
      "pattern_type": "function_definition",
      "start_line": 85,
      "end_line": 85,
      "symbols": [
        "self"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 53,
      "snippet": "    def self.uncanny_strings(root: 48, duration: 8.0)"
    },
    {
      "file": "lib/opn/polyrhythm.rb",
      "pattern_type": "function_definition",
      "start_line": 9,
      "end_line": 9,
      "symbols": [
        "initialize"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 31,
      "snippet": "      def initialize(divisions)"
    },
    {
      "file": "lib/opn/polyrhythm.rb",
      "pattern_type": "function_definition",
      "start_line": 13,
      "end_line": 13,
      "symbols": [
        "generate"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 48,
      "snippet": "      def generate(duration: 16.0, pitches: nil)"
    },
    {
      "file": "lib/opn/polyrhythm.rb",
      "pattern_type": "function_definition",
      "start_line": 38,
      "end_line": 38,
      "symbols": [
        "self"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 57,
      "snippet": "    def self.phase_shift(pattern, copies: 2, drift: 0.01)"
    },
    {
      "file": "lib/opn/polyrhythm.rb",
      "pattern_type": "function_definition",
      "start_line": 56,
      "end_line": 56,
      "symbols": [
        "self"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 68,
      "snippet": "    def self.metric_modulation(events, old_div:, new_div:, at_time:)"
    },
    {
      "file": "lib/opn/polyrhythm.rb",
      "pattern_type": "function_definition",
      "start_line": 70,
      "end_line": 70,
      "symbols": [
        "self"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 52,
      "snippet": "    def self.additive(cycle_lengths, duration: 16.0)"
    },
    {
      "file": "lib/opn/repetition.rb",
      "pattern_type": "function_definition",
      "start_line": 8,
      "end_line": 8,
      "symbols": [
        "self"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 76,
      "snippet": "    def self.obsessive_loop(phrase, repetitions: 16, subtle_variation: true)"
    },
    {
      "file": "lib/opn/repetition.rb",
      "pattern_type": "function_definition",
      "start_line": 32,
      "end_line": 32,
      "symbols": [
        "self"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 42,
      "snippet": "    def self.memory_fade(phrase, loops: 8)"
    },
    {
      "file": "lib/opn/repetition.rb",
      "pattern_type": "function_definition",
      "start_line": 55,
      "end_line": 55,
      "symbols": [
        "self"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 65,
      "snippet": "    def self.ostinato(notes, duration: 32.0, note_duration: 0.25)"
    },
    {
      "file": "lib/opn/repetition.rb",
      "pattern_type": "function_definition",
      "start_line": 76,
      "end_line": 76,
      "symbols": [
        "self"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 65,
      "snippet": "    def self.micro_stutter(pitch, times: 32, total_duration: 2.0)"
    },
    {
      "file": "lib/opn/samples.rb",
      "pattern_type": "function_definition",
      "start_line": 8,
      "end_line": 8,
      "symbols": [
        "self"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 28,
      "snippet": "    def self.reverse(events)"
    },
    {
      "file": "lib/opn/samples.rb",
      "pattern_type": "function_definition",
      "start_line": 20,
      "end_line": 20,
      "symbols": [
        "self"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 46,
      "snippet": "    def self.time_stretch(events, factor: 2.0)"
    },
    {
      "file": "lib/opn/samples.rb",
      "pattern_type": "function_definition",
      "start_line": 30,
      "end_line": 30,
      "symbols": [
        "self"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 44,
      "snippet": "    def self.pitch_shift(events, semitones:)"
    },
    {
      "file": "lib/opn/samples.rb",
      "pattern_type": "function_definition",
      "start_line": 37,
      "end_line": 37,
      "symbols": [
        "self"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 68,
      "snippet": "    def self.granular_stretch(events, factor: 4.0, grain_size: 0.05)"
    },
    {
      "file": "lib/opn/samples.rb",
      "pattern_type": "function_definition",
      "start_line": 57,
      "end_line": 57,
      "symbols": [
        "self"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 44,
      "snippet": "    def self.formant_shift(events, shift: 5)"
    },
    {
      "file": "lib/opn/samples.rb",
      "pattern_type": "function_definition",
      "start_line": 72,
      "end_line": 72,
      "symbols": [
        "self"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 59,
      "snippet": "    def self.paulstretch(events, stretch: 8.0, density: 20)"
    },
    {
      "file": "lib/opn/spatial.rb",
      "pattern_type": "function_definition",
      "start_line": 8,
      "end_line": 8,
      "symbols": [
        "self"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 74,
      "snippet": "    def self.delay_network(events, taps: 4, feedback: 0.6, max_delay: 2.0)"
    },
    {
      "file": "lib/opn/spatial.rb",
      "pattern_type": "function_definition",
      "start_line": 29,
      "end_line": 29,
      "symbols": [
        "self"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 61,
      "snippet": "    def self.ping_pong(events, delay_time: 0.375, repeats: 6)"
    },
    {
      "file": "lib/opn/spatial.rb",
      "pattern_type": "function_definition",
      "start_line": 50,
      "end_line": 50,
      "symbols": [
        "self"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 54,
      "snippet": "    def self.shimmer(events, density: 10, spread: 4.0)"
    },
    {
      "file": "lib/opn/spatial.rb",
      "pattern_type": "function_definition",
      "start_line": 71,
      "end_line": 71,
      "symbols": [
        "self"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 40,
      "snippet": "    def self.room(events, size: :medium)"
    },
    {
      "file": "lib/opn/spectral.rb",
      "pattern_type": "function_definition",
      "start_line": 8,
      "end_line": 8,
      "symbols": [
        "self"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 74,
      "snippet": "    def self.spectral_freeze(fundamental: 48, duration: 8.0, partials: 16)"
    },
    {
      "file": "lib/opn/spectral.rb",
      "pattern_type": "function_definition",
      "start_line": 30,
      "end_line": 30,
      "symbols": [
        "self"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 50,
      "snippet": "    def self.spectral_blur(events, blur_amount: 3)"
    },
    {
      "file": "lib/opn/spectral.rb",
      "pattern_type": "function_definition",
      "start_line": 45,
      "end_line": 45,
      "symbols": [
        "self"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 69,
      "snippet": "    def self.inharmonic(fundamental: 48, duration: 4.0, stretch: 1.1)"
    },
    {
      "file": "lib/opn/structure.rb",
      "pattern_type": "function_definition",
      "start_line": 9,
      "end_line": 9,
      "symbols": [
        "initialize"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 20,
      "snippet": "      def initialize"
    },
    {
      "file": "lib/opn/structure.rb",
      "pattern_type": "function_definition",
      "start_line": 13,
      "end_line": 13,
      "symbols": [
        "add_section"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 39,
      "snippet": "      def add_section(events, gap: 0.5)"
    },
    {
      "file": "lib/opn/structure.rb",
      "pattern_type": "function_definition",
      "start_line": 18,
      "end_line": 18,
      "symbols": [
        "generate"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 18,
      "snippet": "      def generate"
    },
    {
      "file": "lib/opn/structure.rb",
      "pattern_type": "function_definition",
      "start_line": 36,
      "end_line": 36,
      "symbols": [
        "self"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 76,
      "snippet": "    def self.through_composed(seed_events, developments: 4, morph_rate: 0.2)"
    },
    {
      "file": "lib/opn/structure.rb",
      "pattern_type": "function_definition",
      "start_line": 62,
      "end_line": 62,
      "symbols": [
        "self"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 59,
      "snippet": "    def self.arc_form(a_events:, b_events:, climax_events:)"
    },
    {
      "file": "lib/opn/structure.rb",
      "pattern_type": "class_definition",
      "start_line": 8,
      "end_line": 89,
      "symbols": [
        "Collage"
      ],
      "complexity": 9.5,
      "leitmotif_type": "synthesis",
      "snippet_length": 2317,
      "snippet": "    class Collage\n      def initialize\n        @sections = []\n      end\n      \n      def add_section(events, gap: 0.5)\n        @sections << { events: events, gap: gap }\n        self\n      end\n      \n      def generate\n        result = []\n        time = 0\n        \n        @sections.each do |section|\n"
    },
    {
      "file": "lib/opn/synth_textures.rb",
      "pattern_type": "function_definition",
      "start_line": 8,
      "end_line": 8,
      "symbols": [
        "self"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 45,
      "snippet": "    def self.pwm_pad(root: 48, duration: 8.0)"
    },
    {
      "file": "lib/opn/synth_textures.rb",
      "pattern_type": "function_definition",
      "start_line": 35,
      "end_line": 35,
      "symbols": [
        "self"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 42,
      "snippet": "    def self.fm_bell(pitch, duration: 2.0)"
    },
    {
      "file": "lib/opn/synth_textures.rb",
      "pattern_type": "function_definition",
      "start_line": 56,
      "end_line": 56,
      "symbols": [
        "self"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 45,
      "snippet": "    def self.supersaw(pitches, duration: 4.0)"
    },
    {
      "file": "lib/opn/synth_textures.rb",
      "pattern_type": "function_definition",
      "start_line": 75,
      "end_line": 75,
      "symbols": [
        "self"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 49,
      "snippet": "    def self.analog_drift(events, max_drift: 0.3)"
    },
    {
      "file": "lib/opn/synth_textures.rb",
      "pattern_type": "function_definition",
      "start_line": 86,
      "end_line": 86,
      "symbols": [
        "self"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 55,
      "snippet": "    def self.noise_sweep(direction: :up, duration: 4.0)"
    },
    {
      "file": "lib/opn/transcendental.rb",
      "pattern_type": "function_definition",
      "start_line": 18,
      "end_line": 18,
      "symbols": [
        "initialize"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 47,
      "snippet": "      def initialize(seed: 42, duration: 120.0)"
    },
    {
      "file": "lib/opn/transcendental.rb",
      "pattern_type": "function_definition",
      "start_line": 24,
      "end_line": 24,
      "symbols": [
        "generate"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 18,
      "snippet": "      def generate"
    },
    {
      "file": "lib/opn/transcendental.rb",
      "pattern_type": "function_definition",
      "start_line": 80,
      "end_line": 80,
      "symbols": [
        "to_pattern"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 20,
      "snippet": "      def to_pattern"
    },
    {
      "file": "lib/opn/transcendental.rb",
      "pattern_type": "function_definition",
      "start_line": 100,
      "end_line": 100,
      "symbols": [
        "self"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 45,
      "snippet": "    def self.garden_of_delete(duration: 90.0)"
    },
    {
      "file": "lib/opn/transcendental.rb",
      "pattern_type": "function_definition",
      "start_line": 117,
      "end_line": 117,
      "symbols": [
        "self"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 42,
      "snippet": "    def self.r_plus_seven(duration: 120.0)"
    },
    {
      "file": "lib/opn/transcendental.rb",
      "pattern_type": "function_definition",
      "start_line": 139,
      "end_line": 139,
      "symbols": [
        "self"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 35,
      "snippet": "    def self.age_of(duration: 60.0)"
    },
    {
      "file": "lib/opn/transcendental.rb",
      "pattern_type": "function_definition",
      "start_line": 166,
      "end_line": 166,
      "symbols": [
        "self"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 60,
      "snippet": "    def self.transcendental_piece(seed: 42, duration: 180.0)"
    },
    {
      "file": "lib/opn/transcendental.rb",
      "pattern_type": "class_definition",
      "start_line": 17,
      "end_line": 116,
      "symbols": [
        "TranscendentalGenerator"
      ],
      "complexity": 4.8,
      "leitmotif_type": "synthesis",
      "snippet_length": 3232,
      "snippet": "    class TranscendentalGenerator\n      def initialize(seed: 42, duration: 120.0)\n        @seed = seed\n        @duration = duration\n        srand(seed)\n      end\n      \n      def generate\n        events = []\n        \n        # Layer 1: Deep drone foundation\n        events += Drone.evolving_drone(roo"
    },
    {
      "file": "lib/opn/vocoder.rb",
      "pattern_type": "function_definition",
      "start_line": 17,
      "end_line": 17,
      "symbols": [
        "initialize"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 39,
      "snippet": "      def initialize(carrier_pitch: 48)"
    },
    {
      "file": "lib/opn/vocoder.rb",
      "pattern_type": "function_definition",
      "start_line": 21,
      "end_line": 21,
      "symbols": [
        "vowel"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 43,
      "snippet": "      def vowel(v, duration: 1.0, amp: 0.3)"
    },
    {
      "file": "lib/opn/vocoder.rb",
      "pattern_type": "function_definition",
      "start_line": 43,
      "end_line": 43,
      "symbols": [
        "speak"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 43,
      "snippet": "      def speak(vowels, duration_each: 0.5)"
    },
    {
      "file": "lib/opn/vocoder.rb",
      "pattern_type": "function_definition",
      "start_line": 59,
      "end_line": 59,
      "symbols": [
        "self"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 53,
      "snippet": "    def self.robot_voice(pitches, duration_each: 0.3)"
    },
    {
      "file": "lib/parametrised_optics.rb",
      "pattern_type": "function_definition",
      "start_line": 32,
      "end_line": 32,
      "symbols": [
        "initialize"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 45,
      "snippet": "    def initialize(name, forward:, backward:)"
    },
    {
      "file": "lib/parametrised_optics.rb",
      "pattern_type": "function_definition",
      "start_line": 39,
      "end_line": 39,
      "symbols": [
        "get"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 18,
      "snippet": "    def get(state)"
    },
    {
      "file": "lib/parametrised_optics.rb",
      "pattern_type": "function_definition",
      "start_line": 45,
      "end_line": 45,
      "symbols": [
        "put"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 32,
      "snippet": "    def put(residual, new_focus)"
    },
    {
      "file": "lib/parametrised_optics.rb",
      "pattern_type": "function_definition",
      "start_line": 50,
      "end_line": 50,
      "symbols": [
        "compose"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 22,
      "snippet": "    def compose(other)"
    },
    {
      "file": "lib/parametrised_optics.rb",
      "pattern_type": "function_definition",
      "start_line": 65,
      "end_line": 65,
      "symbols": [
        "to_s"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 12,
      "snippet": "    def to_s"
    },
    {
      "file": "lib/parametrised_optics.rb",
      "pattern_type": "function_definition",
      "start_line": 73,
      "end_line": 73,
      "symbols": [
        "self"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 37,
      "snippet": "    def self.create(name, get:, set:)"
    },
    {
      "file": "lib/parametrised_optics.rb",
      "pattern_type": "function_definition",
      "start_line": 85,
      "end_line": 85,
      "symbols": [
        "self"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 41,
      "snippet": "    def self.create(name, match:, build:)"
    },
    {
      "file": "lib/parametrised_optics.rb",
      "pattern_type": "function_definition",
      "start_line": 105,
      "end_line": 105,
      "symbols": [
        "initialize"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 49,
      "snippet": "    def initialize(name, param_space:, &morphism)"
    },
    {
      "file": "lib/parametrised_optics.rb",
      "pattern_type": "function_definition",
      "start_line": 112,
      "end_line": 112,
      "symbols": [
        "apply"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 27,
      "snippet": "    def apply(param, input)"
    },
    {
      "file": "lib/parametrised_optics.rb",
      "pattern_type": "function_definition",
      "start_line": 119,
      "end_line": 119,
      "symbols": [
        "para_compose"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 27,
      "snippet": "    def para_compose(other)"
    },
    {
      "file": "lib/parametrised_optics.rb",
      "pattern_type": "function_definition",
      "start_line": 131,
      "end_line": 131,
      "symbols": [
        "para_tensor"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 26,
      "snippet": "    def para_tensor(other)"
    },
    {
      "file": "lib/parametrised_optics.rb",
      "pattern_type": "function_definition",
      "start_line": 140,
      "end_line": 140,
      "symbols": [
        "to_s"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 12,
      "snippet": "    def to_s"
    },
    {
      "file": "lib/parametrised_optics.rb",
      "pattern_type": "function_definition",
      "start_line": 151,
      "end_line": 151,
      "symbols": [
        "initialize"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 53,
      "snippet": "    def initialize(initial_state, dynamics:, policy:)"
    },
    {
      "file": "lib/parametrised_optics.rb",
      "pattern_type": "function_definition",
      "start_line": 159,
      "end_line": 159,
      "symbols": [
        "step"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 23,
      "snippet": "    def step(parameter)"
    },
    {
      "file": "lib/parametrised_optics.rb",
      "pattern_type": "function_definition",
      "start_line": 167,
      "end_line": 167,
      "symbols": [
        "run"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 23,
      "snippet": "    def run(parameters)"
    },
    {
      "file": "lib/parametrised_optics.rb",
      "pattern_type": "function_definition",
      "start_line": 172,
      "end_line": 172,
      "symbols": [
        "feedback_loop"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 54,
      "snippet": "    def feedback_loop(observer, controller, steps: 10)"
    },
    {
      "file": "lib/parametrised_optics.rb",
      "pattern_type": "function_definition",
      "start_line": 302,
      "end_line": 302,
      "symbols": [
        "self"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 27,
      "snippet": "    def self.melodic_agency"
    },
    {
      "file": "lib/parametrised_optics.rb",
      "pattern_type": "function_definition",
      "start_line": 307,
      "end_line": 307,
      "symbols": [
        "self"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 30,
      "snippet": "    def self.expressive_agency"
    },
    {
      "file": "lib/parametrised_optics.rb",
      "pattern_type": "function_definition",
      "start_line": 316,
      "end_line": 316,
      "symbols": [
        "self"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 55,
      "snippet": "    def self.create_compositional_system(initial_state)"
    },
    {
      "file": "lib/parametrised_optics.rb",
      "pattern_type": "function_definition",
      "start_line": 368,
      "end_line": 368,
      "symbols": [
        "self"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 35,
      "snippet": "    def self.tensor(optic1, optic2)"
    },
    {
      "file": "lib/parametrised_optics.rb",
      "pattern_type": "function_definition",
      "start_line": 382,
      "end_line": 382,
      "symbols": [
        "self"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 43,
      "snippet": "    def self.par(optic1, optic2, choice_fn)"
    },
    {
      "file": "lib/parametrised_optics.rb",
      "pattern_type": "function_definition",
      "start_line": 403,
      "end_line": 403,
      "symbols": [
        "self"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 27,
      "snippet": "    def self.bang(optic, n)"
    },
    {
      "file": "lib/parametrised_optics.rb",
      "pattern_type": "function_definition",
      "start_line": 416,
      "end_line": 416,
      "symbols": [
        "self"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 25,
      "snippet": "    def self.quest(optic)"
    },
    {
      "file": "lib/parametrised_optics.rb",
      "pattern_type": "function_definition",
      "start_line": 433,
      "end_line": 433,
      "symbols": [
        "self"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 43,
      "snippet": "    def self.polarised_para(para, polarity)"
    },
    {
      "file": "lib/parametrised_optics.rb",
      "pattern_type": "class_definition",
      "start_line": 29,
      "end_line": 128,
      "symbols": [
        "Optic"
      ],
      "complexity": 4.5,
      "leitmotif_type": "synthesis",
      "snippet_length": 2608,
      "snippet": "  class Optic\n    attr_reader :forward, :backward, :name\n\n    def initialize(name, forward:, backward:)\n      @name = name\n      @forward = forward\n      @backward = backward\n    end\n\n    # Apply optic: extract focus from state\n    def get(state)\n      residual, focus = @forward.call(state)\n      { "
    },
    {
      "file": "lib/parametrised_optics.rb",
      "pattern_type": "class_definition",
      "start_line": 102,
      "end_line": 201,
      "symbols": [
        "Para"
      ],
      "complexity": 3.8,
      "leitmotif_type": "synthesis",
      "snippet_length": 2816,
      "snippet": "  class Para\n    attr_reader :name, :param_space, :morphism\n\n    def initialize(name, param_space:, &morphism)\n      @name = name\n      @param_space = param_space\n      @morphism = morphism\n    end\n\n    # Apply with specific parameter\n    def apply(param, input)\n      @morphism.call(param, input)\n  "
    },
    {
      "file": "lib/parametrised_optics.rb",
      "pattern_type": "class_definition",
      "start_line": 148,
      "end_line": 247,
      "symbols": [
        "CyberneticSystem"
      ],
      "complexity": 3.8,
      "leitmotif_type": "synthesis",
      "snippet_length": 3008,
      "snippet": "  class CyberneticSystem\n    attr_reader :state, :dynamics, :policy, :history\n\n    def initialize(initial_state, dynamics:, policy:)\n      @state = initial_state\n      @dynamics = dynamics  # (state, action) \u2192 state'\n      @policy = policy      # Para morphism: (param, state) \u2192 action\n      @history"
    },
    {
      "file": "lib/pitch_class.rb",
      "pattern_type": "function_definition",
      "start_line": 10,
      "end_line": 10,
      "symbols": [
        "self"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 31,
      "snippet": "  def self.from_midi(midi_note)"
    },
    {
      "file": "lib/pitch_class.rb",
      "pattern_type": "function_definition",
      "start_line": 14,
      "end_line": 14,
      "symbols": [
        "self"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 26,
      "snippet": "  def self.from_name(name)"
    },
    {
      "file": "lib/pitch_class.rb",
      "pattern_type": "function_definition",
      "start_line": 27,
      "end_line": 27,
      "symbols": [
        "self"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 21,
      "snippet": "  def self.note_names"
    },
    {
      "file": "lib/pitch_class.rb",
      "pattern_type": "function_definition",
      "start_line": 31,
      "end_line": 31,
      "symbols": [
        "initialize"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 23,
      "snippet": "  def initialize(value)"
    },
    {
      "file": "lib/pitch_class.rb",
      "pattern_type": "function_definition",
      "start_line": 35,
      "end_line": 35,
      "symbols": [
        "transpose"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 26,
      "snippet": "  def transpose(semitones)"
    },
    {
      "file": "lib/pitch_class.rb",
      "pattern_type": "function_definition",
      "start_line": 39,
      "end_line": 39,
      "symbols": [
        "distance"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 21,
      "snippet": "  def distance(other)"
    },
    {
      "file": "lib/pitch_class.rb",
      "pattern_type": "function_definition",
      "start_line": 44,
      "end_line": 44,
      "symbols": [
        "to_midi"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 25,
      "snippet": "  def to_midi(octave = 4)"
    },
    {
      "file": "lib/pitch_class.rb",
      "pattern_type": "function_definition",
      "start_line": 48,
      "end_line": 48,
      "symbols": [
        "to_frequency"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 30,
      "snippet": "  def to_frequency(octave = 4)"
    },
    {
      "file": "lib/pitch_class.rb",
      "pattern_type": "function_definition",
      "start_line": 52,
      "end_line": 52,
      "symbols": [
        "note_name"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 15,
      "snippet": "  def note_name"
    },
    {
      "file": "lib/pitch_class.rb",
      "pattern_type": "function_definition",
      "start_line": 56,
      "end_line": 56,
      "symbols": [
        "to_s"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 10,
      "snippet": "  def to_s"
    },
    {
      "file": "lib/pitch_class.rb",
      "pattern_type": "function_definition",
      "start_line": 60,
      "end_line": 60,
      "symbols": [
        "inspect"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 13,
      "snippet": "  def inspect"
    },
    {
      "file": "lib/pitch_class.rb",
      "pattern_type": "function_definition",
      "start_line": 68,
      "end_line": 68,
      "symbols": [
        "hash"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 10,
      "snippet": "  def hash"
    },
    {
      "file": "lib/plr_color_renderer.rb",
      "pattern_type": "function_definition",
      "start_line": 56,
      "end_line": 56,
      "symbols": [
        "color_to_midi_note"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 31,
      "snippet": "  def color_to_midi_note(color)"
    },
    {
      "file": "lib/plr_color_renderer.rb",
      "pattern_type": "function_definition",
      "start_line": 71,
      "end_line": 71,
      "symbols": [
        "color_to_amplitude"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 31,
      "snippet": "  def color_to_amplitude(color)"
    },
    {
      "file": "lib/plr_color_renderer.rb",
      "pattern_type": "function_definition",
      "start_line": 78,
      "end_line": 78,
      "symbols": [
        "color_to_duration"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 30,
      "snippet": "  def color_to_duration(color)"
    },
    {
      "file": "lib/plr_color_renderer.rb",
      "pattern_type": "function_definition",
      "start_line": 93,
      "end_line": 93,
      "symbols": [
        "color_to_function"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 30,
      "snippet": "  def color_to_function(color)"
    },
    {
      "file": "lib/plr_color_renderer.rb",
      "pattern_type": "function_definition",
      "start_line": 113,
      "end_line": 113,
      "symbols": [
        "color_to_chord"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 27,
      "snippet": "  def color_to_chord(color)"
    },
    {
      "file": "lib/plr_color_renderer.rb",
      "pattern_type": "function_definition",
      "start_line": 199,
      "end_line": 199,
      "symbols": [
        "render_color"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 49,
      "snippet": "  def render_color(color, duration_override: nil)"
    },
    {
      "file": "lib/plr_color_renderer.rb",
      "pattern_type": "function_definition",
      "start_line": 213,
      "end_line": 213,
      "symbols": [
        "render_color_sequence"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 50,
      "snippet": "  def render_color_sequence(colors, interval: 1.0)"
    },
    {
      "file": "lib/plr_color_renderer.rb",
      "pattern_type": "function_definition",
      "start_line": 221,
      "end_line": 221,
      "symbols": [
        "render_hexatonic_from_color"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 55,
      "snippet": "  def render_hexatonic_from_color(color, interval: 1.0)"
    },
    {
      "file": "lib/plr_color_renderer.rb",
      "pattern_type": "function_definition",
      "start_line": 280,
      "end_line": 280,
      "symbols": [
        "colors_to_chord_progression"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 41,
      "snippet": "  def colors_to_chord_progression(colors)"
    },
    {
      "file": "lib/plr_color_renderer.rb",
      "pattern_type": "function_definition",
      "start_line": 290,
      "end_line": 290,
      "symbols": [
        "extract_hue"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 24,
      "snippet": "  def extract_hue(color)"
    },
    {
      "file": "lib/plr_color_renderer.rb",
      "pattern_type": "function_definition",
      "start_line": 299,
      "end_line": 299,
      "symbols": [
        "extract_lightness"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 30,
      "snippet": "  def extract_lightness(color)"
    },
    {
      "file": "lib/plr_color_renderer.rb",
      "pattern_type": "function_definition",
      "start_line": 308,
      "end_line": 308,
      "symbols": [
        "extract_chroma"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 27,
      "snippet": "  def extract_chroma(color)"
    },
    {
      "file": "lib/plr_color_renderer.rb",
      "pattern_type": "function_definition",
      "start_line": 317,
      "end_line": 317,
      "symbols": [
        "set_hue"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 29,
      "snippet": "  def set_hue(color, new_hue)"
    },
    {
      "file": "lib/plr_color_renderer.rb",
      "pattern_type": "function_definition",
      "start_line": 333,
      "end_line": 333,
      "symbols": [
        "set_lightness"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 41,
      "snippet": "  def set_lightness(color, new_lightness)"
    },
    {
      "file": "lib/plr_color_renderer.rb",
      "pattern_type": "function_definition",
      "start_line": 348,
      "end_line": 348,
      "symbols": [
        "color_with_updates"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 54,
      "snippet": "  def color_with_updates(color, hue: nil, chroma: nil)"
    },
    {
      "file": "lib/plr_color_renderer.rb",
      "pattern_type": "function_definition",
      "start_line": 374,
      "end_line": 374,
      "symbols": [
        "key_to_semitone"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 30,
      "snippet": "  def key_to_semitone(key_str)"
    },
    {
      "file": "lib/prediction_market_proofs.rb",
      "pattern_type": "function_definition",
      "start_line": 27,
      "end_line": 27,
      "symbols": [
        "self"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 35,
      "snippet": "    def self.tropical_add_min(a, b)"
    },
    {
      "file": "lib/prediction_market_proofs.rb",
      "pattern_type": "function_definition",
      "start_line": 32,
      "end_line": 32,
      "symbols": [
        "self"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 35,
      "snippet": "    def self.tropical_add_max(a, b)"
    },
    {
      "file": "lib/prediction_market_proofs.rb",
      "pattern_type": "function_definition",
      "start_line": 37,
      "end_line": 37,
      "symbols": [
        "self"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 32,
      "snippet": "    def self.tropical_mult(a, b)"
    },
    {
      "file": "lib/prediction_market_proofs.rb",
      "pattern_type": "function_definition",
      "start_line": 42,
      "end_line": 42,
      "symbols": [
        "self"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 33,
      "snippet": "    def self.tropical_power(a, n)"
    },
    {
      "file": "lib/prediction_market_proofs.rb",
      "pattern_type": "function_definition",
      "start_line": 47,
      "end_line": 47,
      "symbols": [
        "self"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 38,
      "snippet": "    def self.tropical_matmul_min(a, b)"
    },
    {
      "file": "lib/prediction_market_proofs.rb",
      "pattern_type": "function_definition",
      "start_line": 69,
      "end_line": 69,
      "symbols": [
        "self"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 31,
      "snippet": "    def self.encode(trajectory)"
    },
    {
      "file": "lib/prediction_market_proofs.rb",
      "pattern_type": "function_definition",
      "start_line": 74,
      "end_line": 74,
      "symbols": [
        "self"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 28,
      "snippet": "    def self.square_free?(n)"
    },
    {
      "file": "lib/prediction_market_proofs.rb",
      "pattern_type": "function_definition",
      "start_line": 79,
      "end_line": 79,
      "symbols": [
        "self"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 22,
      "snippet": "    def self.decode(n)"
    },
    {
      "file": "lib/prediction_market_proofs.rb",
      "pattern_type": "function_definition",
      "start_line": 93,
      "end_line": 93,
      "symbols": [
        "self"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 40,
      "snippet": "    def self.hyperbolic_distance(z1, z2)"
    },
    {
      "file": "lib/prediction_market_proofs.rb",
      "pattern_type": "function_definition",
      "start_line": 104,
      "end_line": 104,
      "symbols": [
        "self"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 51,
      "snippet": "    def self.position_to_disk(position, scale: 0.1)"
    },
    {
      "file": "lib/prediction_market_proofs.rb",
      "pattern_type": "function_definition",
      "start_line": 112,
      "end_line": 112,
      "symbols": [
        "self"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 60,
      "snippet": "    def self.geodesic_avoids_composites?(start_pos, end_pos)"
    },
    {
      "file": "lib/prediction_market_proofs.rb",
      "pattern_type": "function_definition",
      "start_line": 123,
      "end_line": 123,
      "symbols": [
        "self"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 22,
      "snippet": "    def self.prime?(n)"
    },
    {
      "file": "lib/prediction_market_proofs.rb",
      "pattern_type": "function_definition",
      "start_line": 134,
      "end_line": 134,
      "symbols": [
        "initialize"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 44,
      "snippet": "    def initialize(prime_base, dimension: 2)"
    },
    {
      "file": "lib/prediction_market_proofs.rb",
      "pattern_type": "function_definition",
      "start_line": 143,
      "end_line": 143,
      "symbols": [
        "sonify_vertex"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 45,
      "snippet": "    def sonify_vertex(vertex, base_pitch: 60)"
    },
    {
      "file": "lib/prediction_market_proofs.rb",
      "pattern_type": "function_definition",
      "start_line": 172,
      "end_line": 172,
      "symbols": [
        "generate_vertices"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 25,
      "snippet": "    def generate_vertices"
    },
    {
      "file": "lib/prediction_market_proofs.rb",
      "pattern_type": "function_definition",
      "start_line": 184,
      "end_line": 184,
      "symbols": [
        "generate_edges"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 22,
      "snippet": "    def generate_edges"
    },
    {
      "file": "lib/prediction_market_proofs.rb",
      "pattern_type": "function_definition",
      "start_line": 199,
      "end_line": 199,
      "symbols": [
        "hamming_distance"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 30,
      "snippet": "    def hamming_distance(a, b)"
    },
    {
      "file": "lib/prediction_market_proofs.rb",
      "pattern_type": "function_definition",
      "start_line": 206,
      "end_line": 206,
      "symbols": [
        "compute_spectral_gap"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 28,
      "snippet": "    def compute_spectral_gap"
    },
    {
      "file": "lib/prediction_market_proofs.rb",
      "pattern_type": "function_definition",
      "start_line": 219,
      "end_line": 219,
      "symbols": [
        "initialize"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 45,
      "snippet": "    def initialize(seed: 1069, prime_base: 5)"
    },
    {
      "file": "lib/prediction_market_proofs.rb",
      "pattern_type": "function_definition",
      "start_line": 228,
      "end_line": 228,
      "symbols": [
        "predict!"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 45,
      "snippet": "    def predict!(trader_id, direction, stake)"
    },
    {
      "file": "lib/prediction_market_proofs.rb",
      "pattern_type": "function_definition",
      "start_line": 251,
      "end_line": 251,
      "symbols": [
        "resolve!"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 16,
      "snippet": "    def resolve!"
    },
    {
      "file": "lib/prediction_market_proofs.rb",
      "pattern_type": "function_definition",
      "start_line": 274,
      "end_line": 274,
      "symbols": [
        "generate_mixing_proof"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 53,
      "snippet": "    def generate_mixing_proof(trader_id, trit, stake)"
    },
    {
      "file": "lib/prediction_market_proofs.rb",
      "pattern_type": "function_definition",
      "start_line": 324,
      "end_line": 324,
      "symbols": [
        "compute_mixing_quality"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 42,
      "snippet": "    def compute_mixing_quality(trajectory)"
    },
    {
      "file": "lib/prediction_market_proofs.rb",
      "pattern_type": "function_definition",
      "start_line": 345,
      "end_line": 345,
      "symbols": [
        "sonify"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 30,
      "snippet": "    def sonify(base_pitch: 60)"
    },
    {
      "file": "lib/prediction_market_proofs.rb",
      "pattern_type": "function_definition",
      "start_line": 377,
      "end_line": 377,
      "symbols": [
        "hue_to_polarity"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 28,
      "snippet": "    def hue_to_polarity(hue)"
    },
    {
      "file": "lib/prediction_market_proofs.rb",
      "pattern_type": "function_definition",
      "start_line": 390,
      "end_line": 390,
      "symbols": [
        "self"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 34,
      "snippet": "  def self.demonstrate!(seed: nil)"
    },
    {
      "file": "lib/prediction_market_proofs.rb",
      "pattern_type": "class_definition",
      "start_line": 216,
      "end_line": 315,
      "symbols": [
        "MixingProofMarket"
      ],
      "complexity": 3.8,
      "leitmotif_type": "synthesis",
      "snippet_length": 3215,
      "snippet": "  class MixingProofMarket\n    attr_reader :seed, :expander, :positions, :proofs\n\n    def initialize(seed: 1069, prime_base: 5)\n      @seed = seed\n      @expander = RamanujanExpander.new(prime_base)\n      @positions = {}  # trader -> position\n      @proofs = []\n      @walk = BlumeCapelCoinflip::Ergod"
    },
    {
      "file": "lib/progressions.rb",
      "pattern_type": "function_definition",
      "start_line": 14,
      "end_line": 14,
      "symbols": [
        "self"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 31,
      "snippet": "  def self.analyze(chords, key)"
    },
    {
      "file": "lib/progressions.rb",
      "pattern_type": "function_definition",
      "start_line": 20,
      "end_line": 20,
      "symbols": [
        "self"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 36,
      "snippet": "  def self.roman_numeral(chord, key)"
    },
    {
      "file": "lib/progressions.rb",
      "pattern_type": "class_definition",
      "start_line": 5,
      "end_line": 38,
      "symbols": [
        "HarmonicProgression"
      ],
      "complexity": 1.9,
      "leitmotif_type": "synthesis",
      "snippet_length": 795,
      "snippet": "class HarmonicProgression\n  COMMON_PROGRESSIONS = {\n    tonic_prolongation: ['I', 'vi', 'IV', 'ii'],\n    authentic_cadence:  ['V', 'I'],\n    plagal_cadence:     ['IV', 'I'],\n    full_cycle:         ['I', 'IV', 'V', 'I'],\n    deceptive:          ['V', 'vi']\n  }\n\n  def self.analyze(chords, key)\n    ch"
    },
    {
      "file": "lib/quantum_aphex_autechre.rb",
      "pattern_type": "function_definition",
      "start_line": 62,
      "end_line": 62,
      "symbols": [
        "initialize"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 44,
      "snippet": "      def initialize(*periods, accents: nil)"
    },
    {
      "file": "lib/quantum_aphex_autechre.rb",
      "pattern_type": "function_definition",
      "start_line": 68,
      "end_line": 68,
      "symbols": [
        "phase_at"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 21,
      "snippet": "      def phase_at(t)"
    },
    {
      "file": "lib/quantum_aphex_autechre.rb",
      "pattern_type": "function_definition",
      "start_line": 73,
      "end_line": 73,
      "symbols": [
        "accent_at?"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 23,
      "snippet": "      def accent_at?(t)"
    },
    {
      "file": "lib/quantum_aphex_autechre.rb",
      "pattern_type": "function_definition",
      "start_line": 79,
      "end_line": 79,
      "symbols": [
        "alignment_at"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 25,
      "snippet": "      def alignment_at(t)"
    },
    {
      "file": "lib/quantum_aphex_autechre.rb",
      "pattern_type": "function_definition",
      "start_line": 85,
      "end_line": 85,
      "symbols": [
        "period"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 16,
      "snippet": "      def period"
    },
    {
      "file": "lib/quantum_aphex_autechre.rb",
      "pattern_type": "function_definition",
      "start_line": 90,
      "end_line": 90,
      "symbols": [
        "to_pattern"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 20,
      "snippet": "      def to_pattern"
    },
    {
      "file": "lib/quantum_aphex_autechre.rb",
      "pattern_type": "function_definition",
      "start_line": 101,
      "end_line": 101,
      "symbols": [
        "self"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 41,
      "snippet": "    def self.euclidean(k, n, rotation: 0)"
    },
    {
      "file": "lib/quantum_aphex_autechre.rb",
      "pattern_type": "function_definition",
      "start_line": 115,
      "end_line": 115,
      "symbols": [
        "self"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 65,
      "snippet": "    def self.metric_modulation(old_tempo, old_subdiv, new_subdiv)"
    },
    {
      "file": "lib/quantum_aphex_autechre.rb",
      "pattern_type": "function_definition",
      "start_line": 130,
      "end_line": 130,
      "symbols": [
        "self"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 59,
      "snippet": "    def self.irrational_duration(base_duration, ratio_name)"
    },
    {
      "file": "lib/quantum_aphex_autechre.rb",
      "pattern_type": "function_definition",
      "start_line": 147,
      "end_line": 147,
      "symbols": [
        "initialize"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 63,
      "snippet": "      def initialize(fn, sample_rate: 16, quantize: :chromatic)"
    },
    {
      "file": "lib/quantum_aphex_autechre.rb",
      "pattern_type": "function_definition",
      "start_line": 153,
      "end_line": 153,
      "symbols": [
        "generate"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 28,
      "snippet": "      def generate(duration)"
    },
    {
      "file": "lib/quantum_aphex_autechre.rb",
      "pattern_type": "function_definition",
      "start_line": 164,
      "end_line": 164,
      "symbols": [
        "quantize_pitch"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 27,
      "snippet": "      def quantize_pitch(p)"
    },
    {
      "file": "lib/quantum_aphex_autechre.rb",
      "pattern_type": "function_definition",
      "start_line": 200,
      "end_line": 200,
      "symbols": [
        "self"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 69,
      "snippet": "    def self.spectral_interpolation(freq1, freq2, blend, partials: 8)"
    },
    {
      "file": "lib/quantum_aphex_autechre.rb",
      "pattern_type": "function_definition",
      "start_line": 212,
      "end_line": 212,
      "symbols": [
        "initialize"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 65,
      "snippet": "      def initialize(center, max_deviation: 0.5, step_size: 0.05)"
    },
    {
      "file": "lib/quantum_aphex_autechre.rb",
      "pattern_type": "function_definition",
      "start_line": 219,
      "end_line": 219,
      "symbols": [
        "next_pitch"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 20,
      "snippet": "      def next_pitch"
    },
    {
      "file": "lib/quantum_aphex_autechre.rb",
      "pattern_type": "function_definition",
      "start_line": 225,
      "end_line": 225,
      "symbols": [
        "reset"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 15,
      "snippet": "      def reset"
    },
    {
      "file": "lib/quantum_aphex_autechre.rb",
      "pattern_type": "function_definition",
      "start_line": 243,
      "end_line": 243,
      "symbols": [
        "initialize"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 41,
      "snippet": "      def initialize(states, transitions)"
    },
    {
      "file": "lib/quantum_aphex_autechre.rb",
      "pattern_type": "function_definition",
      "start_line": 249,
      "end_line": 249,
      "symbols": [
        "step"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 14,
      "snippet": "      def step"
    },
    {
      "file": "lib/quantum_aphex_autechre.rb",
      "pattern_type": "function_definition",
      "start_line": 265,
      "end_line": 265,
      "symbols": [
        "generate"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 21,
      "snippet": "      def generate(n)"
    },
    {
      "file": "lib/quantum_aphex_autechre.rb",
      "pattern_type": "function_definition",
      "start_line": 273,
      "end_line": 273,
      "symbols": [
        "self"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 57,
      "snippet": "    def self.build_rhythmic_chain(cells, smoothness: 0.7)"
    },
    {
      "file": "lib/quantum_aphex_autechre.rb",
      "pattern_type": "function_definition",
      "start_line": 293,
      "end_line": 293,
      "symbols": [
        "self"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 34,
      "snippet": "    def self.cell_similarity(a, b)"
    },
    {
      "file": "lib/quantum_aphex_autechre.rb",
      "pattern_type": "function_definition",
      "start_line": 305,
      "end_line": 305,
      "symbols": [
        "initialize"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 35,
      "snippet": "      def initialize(order, states)"
    },
    {
      "file": "lib/quantum_aphex_autechre.rb",
      "pattern_type": "function_definition",
      "start_line": 312,
      "end_line": 312,
      "symbols": [
        "train"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 25,
      "snippet": "      def train(sequence)"
    },
    {
      "file": "lib/quantum_aphex_autechre.rb",
      "pattern_type": "function_definition",
      "start_line": 320,
      "end_line": 320,
      "symbols": [
        "step"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 14,
      "snippet": "      def step"
    },
    {
      "file": "lib/quantum_aphex_autechre.rb",
      "pattern_type": "function_definition",
      "start_line": 348,
      "end_line": 348,
      "symbols": [
        "initialize"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 47,
      "snippet": "      def initialize(size, rule: 30, seed: nil)"
    },
    {
      "file": "lib/quantum_aphex_autechre.rb",
      "pattern_type": "function_definition",
      "start_line": 355,
      "end_line": 355,
      "symbols": [
        "step"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 14,
      "snippet": "      def step"
    },
    {
      "file": "lib/quantum_aphex_autechre.rb",
      "pattern_type": "function_definition",
      "start_line": 367,
      "end_line": 367,
      "symbols": [
        "to_rhythm"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 50,
      "snippet": "      def to_rhythm(true_value: 1, false_value: 0)"
    },
    {
      "file": "lib/quantum_aphex_autechre.rb",
      "pattern_type": "function_definition",
      "start_line": 371,
      "end_line": 371,
      "symbols": [
        "to_pitches"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 39,
      "snippet": "      def to_pitches(base: 60, step: 1)"
    },
    {
      "file": "lib/quantum_aphex_autechre.rb",
      "pattern_type": "function_definition",
      "start_line": 379,
      "end_line": 379,
      "symbols": [
        "initialize"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 49,
      "snippet": "      def initialize(width, height, density: 0.3)"
    },
    {
      "file": "lib/quantum_aphex_autechre.rb",
      "pattern_type": "function_definition",
      "start_line": 385,
      "end_line": 385,
      "symbols": [
        "step"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 14,
      "snippet": "      def step"
    },
    {
      "file": "lib/quantum_aphex_autechre.rb",
      "pattern_type": "function_definition",
      "start_line": 404,
      "end_line": 404,
      "symbols": [
        "count_neighbors"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 31,
      "snippet": "      def count_neighbors(x, y)"
    },
    {
      "file": "lib/quantum_aphex_autechre.rb",
      "pattern_type": "function_definition",
      "start_line": 417,
      "end_line": 417,
      "symbols": [
        "to_pitches"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 53,
      "snippet": "      def to_pitches(base: 36, x_step: 1, y_step: 12)"
    },
    {
      "file": "lib/quantum_aphex_autechre.rb",
      "pattern_type": "function_definition",
      "start_line": 427,
      "end_line": 427,
      "symbols": [
        "population"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 20,
      "snippet": "      def population"
    },
    {
      "file": "lib/quantum_aphex_autechre.rb",
      "pattern_type": "function_definition",
      "start_line": 445,
      "end_line": 445,
      "symbols": [
        "initialize"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 41,
      "snippet": "      def initialize(states_with_weights)"
    },
    {
      "file": "lib/quantum_aphex_autechre.rb",
      "pattern_type": "function_definition",
      "start_line": 452,
      "end_line": 452,
      "symbols": [
        "measure"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 17,
      "snippet": "      def measure"
    },
    {
      "file": "lib/quantum_aphex_autechre.rb",
      "pattern_type": "function_definition",
      "start_line": 462,
      "end_line": 462,
      "symbols": [
        "expected_value"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 24,
      "snippet": "      def expected_value"
    },
    {
      "file": "lib/quantum_aphex_autechre.rb",
      "pattern_type": "function_definition",
      "start_line": 467,
      "end_line": 467,
      "symbols": [
        "interfere"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 41,
      "snippet": "      def interfere(other, coupling: 0.5)"
    },
    {
      "file": "lib/quantum_aphex_autechre.rb",
      "pattern_type": "function_definition",
      "start_line": 484,
      "end_line": 484,
      "symbols": [
        "initialize"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 72,
      "snippet": "      def initialize(param_a_states, param_b_states, correlation_matrix)"
    },
    {
      "file": "lib/quantum_aphex_autechre.rb",
      "pattern_type": "function_definition",
      "start_line": 491,
      "end_line": 491,
      "symbols": [
        "measure_a"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 19,
      "snippet": "      def measure_a"
    },
    {
      "file": "lib/quantum_aphex_autechre.rb",
      "pattern_type": "function_definition",
      "start_line": 495,
      "end_line": 495,
      "symbols": [
        "measure_b"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 19,
      "snippet": "      def measure_b"
    },
    {
      "file": "lib/quantum_aphex_autechre.rb",
      "pattern_type": "function_definition",
      "start_line": 510,
      "end_line": 510,
      "symbols": [
        "reset"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 15,
      "snippet": "      def reset"
    },
    {
      "file": "lib/quantum_aphex_autechre.rb",
      "pattern_type": "function_definition",
      "start_line": 526,
      "end_line": 526,
      "symbols": [
        "self"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 56,
      "snippet": "    def self.drill_n_bass(duration: 4.0, intensity: 0.8)"
    },
    {
      "file": "lib/quantum_aphex_autechre.rb",
      "pattern_type": "function_definition",
      "start_line": 578,
      "end_line": 578,
      "symbols": [
        "self"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 52,
      "snippet": "    def self.ambient_drift(base: 48, duration: 16.0)"
    },
    {
      "file": "lib/quantum_aphex_autechre.rb",
      "pattern_type": "function_definition",
      "start_line": 617,
      "end_line": 617,
      "symbols": [
        "self"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 42,
      "snippet": "    def self.prepared_piano(duration: 8.0)"
    },
    {
      "file": "lib/quantum_aphex_autechre.rb",
      "pattern_type": "function_definition",
      "start_line": 665,
      "end_line": 665,
      "symbols": [
        "self"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 53,
      "snippet": "    def self.equation_melody(base: 48, duration: 8.0)"
    },
    {
      "file": "lib/quantum_aphex_autechre.rb",
      "pattern_type": "function_definition",
      "start_line": 693,
      "end_line": 693,
      "symbols": [
        "self"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 44,
      "snippet": "    def self.polymetric_chaos(duration: 8.0)"
    },
    {
      "file": "lib/quantum_aphex_autechre.rb",
      "pattern_type": "function_definition",
      "start_line": 728,
      "end_line": 728,
      "symbols": [
        "self"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 55,
      "snippet": "    def self.generative_rhythm(duration: 8.0, order: 2)"
    },
    {
      "file": "lib/quantum_aphex_autechre.rb",
      "pattern_type": "function_definition",
      "start_line": 781,
      "end_line": 781,
      "symbols": [
        "self"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 50,
      "snippet": "    def self.cellular_rhythm(rule: 110, steps: 32)"
    },
    {
      "file": "lib/quantum_aphex_autechre.rb",
      "pattern_type": "function_definition",
      "start_line": 811,
      "end_line": 811,
      "symbols": [
        "self"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 82,
      "snippet": "    def self.spectral_morph(freq1: 100, freq2: 150, duration: 8.0, resolution: 32)"
    },
    {
      "file": "lib/quantum_aphex_autechre.rb",
      "pattern_type": "function_definition",
      "start_line": 837,
      "end_line": 837,
      "symbols": [
        "self"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 39,
      "snippet": "    def self.anti_groove(duration: 8.0)"
    },
    {
      "file": "lib/quantum_aphex_autechre.rb",
      "pattern_type": "function_definition",
      "start_line": 873,
      "end_line": 873,
      "symbols": [
        "self"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 50,
      "snippet": "    def self.game_of_life_texture(generations: 16)"
    },
    {
      "file": "lib/quantum_aphex_autechre.rb",
      "pattern_type": "function_definition",
      "start_line": 903,
      "end_line": 903,
      "symbols": [
        "self"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 42,
      "snippet": "    def self.quantum_rhythm(duration: 4.0)"
    },
    {
      "file": "lib/quantum_aphex_autechre.rb",
      "pattern_type": "function_definition",
      "start_line": 948,
      "end_line": 948,
      "symbols": [
        "self"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 27,
      "snippet": "    def self.aphex_showcase"
    },
    {
      "file": "lib/quantum_aphex_autechre.rb",
      "pattern_type": "function_definition",
      "start_line": 971,
      "end_line": 971,
      "symbols": [
        "self"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 30,
      "snippet": "    def self.autechre_showcase"
    },
    {
      "file": "lib/quantum_aphex_autechre.rb",
      "pattern_type": "function_definition",
      "start_line": 998,
      "end_line": 998,
      "symbols": [
        "self"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 40,
      "snippet": "    def self.quantum_electronic_showcase"
    },
    {
      "file": "lib/quantum_aphex_autechre.rb",
      "pattern_type": "function_definition",
      "start_line": 1023,
      "end_line": 1023,
      "symbols": [
        "self"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 33,
      "snippet": "    def self.section_marker(name)"
    },
    {
      "file": "lib/quantum_aphex_autechre.rb",
      "pattern_type": "class_definition",
      "start_line": 146,
      "end_line": 245,
      "symbols": [
        "EquationMelody"
      ],
      "complexity": 4.1,
      "leitmotif_type": "synthesis",
      "snippet_length": 3101,
      "snippet": "    class EquationMelody\n      def initialize(fn, sample_rate: 16, quantize: :chromatic)\n        @fn = fn\n        @sample_rate = sample_rate\n        @quantize = quantize\n      end\n      \n      def generate(duration)\n        samples = (duration * @sample_rate).to_i\n        (0...samples).map do |i|\n  "
    },
    {
      "file": "lib/quantum_aphex_autechre.rb",
      "pattern_type": "class_definition",
      "start_line": 211,
      "end_line": 310,
      "symbols": [
        "PitchDrift"
      ],
      "complexity": 6.8,
      "leitmotif_type": "synthesis",
      "snippet_length": 2988,
      "snippet": "    class PitchDrift\n      def initialize(center, max_deviation: 0.5, step_size: 0.05)\n        @center = center\n        @max_deviation = max_deviation\n        @step_size = step_size\n        @current_offset = 0\n      end\n      \n      def next_pitch\n        @current_offset += (rand - 0.5) * @step_size"
    },
    {
      "file": "lib/quantum_aphex_autechre.rb",
      "pattern_type": "class_definition",
      "start_line": 240,
      "end_line": 339,
      "symbols": [
        "MarkovChain"
      ],
      "complexity": 7.6,
      "leitmotif_type": "synthesis",
      "snippet_length": 2970,
      "snippet": "    class MarkovChain\n      attr_reader :states, :transitions, :current_state\n      \n      def initialize(states, transitions)\n        @states = states\n        @transitions = transitions  # Hash: state => [[next_state, probability], ...]\n        @current_state = states.sample\n      end\n      \n      "
    },
    {
      "file": "lib/quantum_aphex_autechre.rb",
      "pattern_type": "class_definition",
      "start_line": 304,
      "end_line": 403,
      "symbols": [
        "HigherOrderMarkov"
      ],
      "complexity": 6.3,
      "leitmotif_type": "synthesis",
      "snippet_length": 2855,
      "snippet": "    class HigherOrderMarkov\n      def initialize(order, states)\n        @order = order\n        @states = states\n        @transitions = Hash.new { |h, k| h[k] = [] }\n        @history = []\n      end\n      \n      def train(sequence)\n        sequence.each_cons(@order + 1) do |window|\n          context ="
    },
    {
      "file": "lib/quantum_aphex_autechre.rb",
      "pattern_type": "class_definition",
      "start_line": 378,
      "end_line": 477,
      "symbols": [
        "GameOfLife"
      ],
      "complexity": 7.3,
      "leitmotif_type": "synthesis",
      "snippet_length": 2964,
      "snippet": "    class GameOfLife\n      def initialize(width, height, density: 0.3)\n        @width = width\n        @height = height\n        @grid = Array.new(height) { Array.new(width) { rand < density } }\n      end\n      \n      def step\n        new_grid = Array.new(@height) { Array.new(@width) }\n        \n      "
    },
    {
      "file": "lib/quantum_aphex_autechre.rb",
      "pattern_type": "class_definition",
      "start_line": 442,
      "end_line": 541,
      "symbols": [
        "Superposition"
      ],
      "complexity": 5.8,
      "leitmotif_type": "synthesis",
      "snippet_length": 3154,
      "snippet": "    class Superposition\n      attr_reader :states, :weights\n      \n      def initialize(states_with_weights)\n        @states = states_with_weights.map(&:first)\n        weights = states_with_weights.map(&:last)\n        total = weights.sum\n        @weights = weights.map { |w| w.to_f / total }\n      en"
    },
    {
      "file": "lib/quantum_aphex_autechre.rb",
      "pattern_type": "class_definition",
      "start_line": 722,
      "end_line": 821,
      "symbols": [
        "AutechrePatterns"
      ],
      "complexity": 2.6,
      "leitmotif_type": "synthesis",
      "snippet_length": 2940,
      "snippet": "  class AutechrePatterns\n    extend FreeMonad::DSL\n    \n    # GENERATIVE RHYTHM: Markov chain over rhythmic cells\n    # Key: Never quite repeating, but coherent\n    \n    def self.generative_rhythm(duration: 8.0, order: 2)\n      # Define rhythmic cells (durations in 16th notes)\n      cells = [\n      "
    },
    {
      "file": "lib/quantum_aphex_autechre.rb",
      "pattern_type": "class_definition",
      "start_line": 945,
      "end_line": 1028,
      "symbols": [
        "Showcase"
      ],
      "complexity": 0.8,
      "leitmotif_type": "synthesis",
      "snippet_length": 2659,
      "snippet": "  class Showcase\n    extend FreeMonad::DSL\n    \n    def self.aphex_showcase\n      sequence!(\n        section_marker(\"=== APHEX TWIN: DRILL 'N' BASS ===\"),\n        AphexTwinPatterns.drill_n_bass(duration: 4.0, intensity: 0.7),\n        rest!(0.5),\n        \n        section_marker(\"=== APHEX TWIN: AMBIE"
    },
    {
      "file": "lib/quantum_industrial_patterns.rb",
      "pattern_type": "function_definition",
      "start_line": 38,
      "end_line": 38,
      "symbols": [
        "self"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 60,
      "snippet": "    def self.xenakis_sieve(modulus, residues, range: 36..96)"
    },
    {
      "file": "lib/quantum_industrial_patterns.rb",
      "pattern_type": "function_definition",
      "start_line": 43,
      "end_line": 43,
      "symbols": [
        "self"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 48,
      "snippet": "    def self.quantum_scale(scales, weights: nil)"
    },
    {
      "file": "lib/quantum_industrial_patterns.rb",
      "pattern_type": "function_definition",
      "start_line": 54,
      "end_line": 54,
      "symbols": [
        "self"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 47,
      "snippet": "    def self.glitch_pitch(base, intensity: 0.5)"
    },
    {
      "file": "lib/quantum_industrial_patterns.rb",
      "pattern_type": "function_definition",
      "start_line": 60,
      "end_line": 60,
      "symbols": [
        "self"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 45,
      "snippet": "    def self.humanize_pitch(pitch, cents: 10)"
    },
    {
      "file": "lib/quantum_industrial_patterns.rb",
      "pattern_type": "function_definition",
      "start_line": 65,
      "end_line": 65,
      "symbols": [
        "self"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 47,
      "snippet": "    def self.beating_pair(base, beat_freq: 1.5)"
    },
    {
      "file": "lib/quantum_industrial_patterns.rb",
      "pattern_type": "function_definition",
      "start_line": 78,
      "end_line": 78,
      "symbols": [
        "self"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 35,
      "snippet": "    def self.measure(superposition)"
    },
    {
      "file": "lib/quantum_industrial_patterns.rb",
      "pattern_type": "function_definition",
      "start_line": 83,
      "end_line": 83,
      "symbols": [
        "self"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 41,
      "snippet": "    def self.rotate(value, angle, range:)"
    },
    {
      "file": "lib/quantum_industrial_patterns.rb",
      "pattern_type": "function_definition",
      "start_line": 91,
      "end_line": 91,
      "symbols": [
        "self"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 41,
      "snippet": "    def self.probe(pattern, epsilon: 0.1)"
    },
    {
      "file": "lib/quantum_industrial_patterns.rb",
      "pattern_type": "function_definition",
      "start_line": 103,
      "end_line": 103,
      "symbols": [
        "self"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 69,
      "snippet": "    def self.feedback_evolve(history, decay: 0.8, mutation_rate: 0.1)"
    },
    {
      "file": "lib/quantum_industrial_patterns.rb",
      "pattern_type": "function_definition",
      "start_line": 120,
      "end_line": 120,
      "symbols": [
        "self"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 58,
      "snippet": "    def self.entangle(pattern_a, pattern_b, coupling: 0.5)"
    },
    {
      "file": "lib/quantum_industrial_patterns.rb",
      "pattern_type": "function_definition",
      "start_line": 137,
      "end_line": 137,
      "symbols": [
        "self"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 65,
      "snippet": "    def self.daniel_avery_texture(base_pitch: 36, duration: 16.0)"
    },
    {
      "file": "lib/quantum_industrial_patterns.rb",
      "pattern_type": "function_definition",
      "start_line": 164,
      "end_line": 164,
      "symbols": [
        "self"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 45,
      "snippet": "    def self.loraine_james_fragment(root: 48)"
    },
    {
      "file": "lib/quantum_industrial_patterns.rb",
      "pattern_type": "function_definition",
      "start_line": 196,
      "end_line": 196,
      "symbols": [
        "self"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 49,
      "snippet": "    def self.machine_girl_assault(base_pitch: 36)"
    },
    {
      "file": "lib/quantum_industrial_patterns.rb",
      "pattern_type": "function_definition",
      "start_line": 224,
      "end_line": 224,
      "symbols": [
        "self"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 38,
      "snippet": "    def self.mica_levi_dread(base: 30)"
    },
    {
      "file": "lib/quantum_industrial_patterns.rb",
      "pattern_type": "function_definition",
      "start_line": 249,
      "end_line": 249,
      "symbols": [
        "self"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 51,
      "snippet": "    def self.quantum_guitar_superposition(base: 48)"
    },
    {
      "file": "lib/quantum_industrial_patterns.rb",
      "pattern_type": "function_definition",
      "start_line": 286,
      "end_line": 286,
      "symbols": [
        "self"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 51,
      "snippet": "    def self.neural_artifact_texture(duration: 8.0)"
    },
    {
      "file": "lib/quantum_industrial_patterns.rb",
      "pattern_type": "function_definition",
      "start_line": 328,
      "end_line": 328,
      "symbols": [
        "self"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 50,
      "snippet": "    def self.morph(pattern_a, pattern_b, steps: 8)"
    },
    {
      "file": "lib/quantum_industrial_patterns.rb",
      "pattern_type": "function_definition",
      "start_line": 342,
      "end_line": 342,
      "symbols": [
        "self"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 34,
      "snippet": "    def self.interleave(*patterns)"
    },
    {
      "file": "lib/quantum_industrial_patterns.rb",
      "pattern_type": "function_definition",
      "start_line": 347,
      "end_line": 347,
      "symbols": [
        "self"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 42,
      "snippet": "    def self.collide(pattern_a, pattern_b)"
    },
    {
      "file": "lib/quantum_industrial_patterns.rb",
      "pattern_type": "function_definition",
      "start_line": 352,
      "end_line": 352,
      "symbols": [
        "self"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 30,
      "snippet": "    def self.virtuoso_showcase"
    },
    {
      "file": "lib/quantum_industrial_patterns.rb",
      "pattern_type": "function_definition",
      "start_line": 388,
      "end_line": 388,
      "symbols": [
        "self"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 33,
      "snippet": "    def self.section_marker(name)"
    },
    {
      "file": "lib/quantum_industrial_patterns.rb",
      "pattern_type": "class_definition",
      "start_line": 132,
      "end_line": 231,
      "symbols": [
        "VirtuosoPatternBuilder"
      ],
      "complexity": 2.8,
      "leitmotif_type": "synthesis",
      "snippet_length": 3335,
      "snippet": "  class VirtuosoPatternBuilder\n    extend FreeMonad::DSL\n    \n    # Daniel Avery style: hypnotic, textured techno\n    # Key elements: drone, subtle modulation, psychedelic synth washes\n    def self.daniel_avery_texture(base_pitch: 36, duration: 16.0)\n      # Low drone with beating frequencies\n      "
    },
    {
      "file": "lib/quantum_industrial_patterns.rb",
      "pattern_type": "class_definition",
      "start_line": 324,
      "end_line": 393,
      "symbols": [
        "Intermixer"
      ],
      "complexity": 2.0,
      "leitmotif_type": "synthesis",
      "snippet_length": 2047,
      "snippet": "  class Intermixer\n    extend FreeMonad::DSL\n    \n    # Crossfade between two pattern styles\n    def self.morph(pattern_a, pattern_b, steps: 8)\n      sequence!(\n        *steps.times.map do |i|\n          blend = i.to_f / (steps - 1)\n          if blend < 0.5\n            pattern_a\n          else\n      "
    },
    {
      "file": "lib/ramanujan_complex.rb",
      "pattern_type": "function_definition",
      "start_line": 31,
      "end_line": 31,
      "symbols": [
        "initialize"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 18,
      "snippet": "    def initialize"
    },
    {
      "file": "lib/ramanujan_complex.rb",
      "pattern_type": "function_definition",
      "start_line": 37,
      "end_line": 37,
      "symbols": [
        "add_vertex"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 21,
      "snippet": "    def add_vertex(v)"
    },
    {
      "file": "lib/ramanujan_complex.rb",
      "pattern_type": "function_definition",
      "start_line": 43,
      "end_line": 43,
      "symbols": [
        "add_simplex"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 29,
      "snippet": "    def add_simplex(vertices)"
    },
    {
      "file": "lib/ramanujan_complex.rb",
      "pattern_type": "function_definition",
      "start_line": 60,
      "end_line": 60,
      "symbols": [
        "skeleton"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 19,
      "snippet": "    def skeleton(k)"
    },
    {
      "file": "lib/ramanujan_complex.rb",
      "pattern_type": "function_definition",
      "start_line": 65,
      "end_line": 65,
      "symbols": [
        "boundary"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 25,
      "snippet": "    def boundary(simplex)"
    },
    {
      "file": "lib/ramanujan_complex.rb",
      "pattern_type": "function_definition",
      "start_line": 71,
      "end_line": 71,
      "symbols": [
        "coboundary"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 27,
      "snippet": "    def coboundary(simplex)"
    },
    {
      "file": "lib/ramanujan_complex.rb",
      "pattern_type": "function_definition",
      "start_line": 77,
      "end_line": 77,
      "symbols": [
        "f_vector"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 16,
      "snippet": "    def f_vector"
    },
    {
      "file": "lib/ramanujan_complex.rb",
      "pattern_type": "function_definition",
      "start_line": 81,
      "end_line": 81,
      "symbols": [
        "to_s"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 12,
      "snippet": "    def to_s"
    },
    {
      "file": "lib/ramanujan_complex.rb",
      "pattern_type": "function_definition",
      "start_line": 94,
      "end_line": 94,
      "symbols": [
        "initialize"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 32,
      "snippet": "    def initialize(complex, dim)"
    },
    {
      "file": "lib/ramanujan_complex.rb",
      "pattern_type": "function_definition",
      "start_line": 102,
      "end_line": 102,
      "symbols": [
        "upper_laplacian_matrix"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 30,
      "snippet": "    def upper_laplacian_matrix"
    },
    {
      "file": "lib/ramanujan_complex.rb",
      "pattern_type": "function_definition",
      "start_line": 128,
      "end_line": 128,
      "symbols": [
        "spectral_gap"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 37,
      "snippet": "    def spectral_gap(iterations: 100)"
    },
    {
      "file": "lib/ramanujan_complex.rb",
      "pattern_type": "function_definition",
      "start_line": 155,
      "end_line": 155,
      "symbols": [
        "normalize"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 20,
      "snippet": "    def normalize(v)"
    },
    {
      "file": "lib/ramanujan_complex.rb",
      "pattern_type": "function_definition",
      "start_line": 160,
      "end_line": 160,
      "symbols": [
        "dot"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 17,
      "snippet": "    def dot(u, v)"
    },
    {
      "file": "lib/ramanujan_complex.rb",
      "pattern_type": "function_definition",
      "start_line": 164,
      "end_line": 164,
      "symbols": [
        "mat_vec"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 21,
      "snippet": "    def mat_vec(m, v)"
    },
    {
      "file": "lib/ramanujan_complex.rb",
      "pattern_type": "function_definition",
      "start_line": 203,
      "end_line": 203,
      "symbols": [
        "self"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 25,
      "snippet": "    def self.all_concepts"
    },
    {
      "file": "lib/ramanujan_complex.rb",
      "pattern_type": "function_definition",
      "start_line": 226,
      "end_line": 226,
      "symbols": [
        "self"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 26,
      "snippet": "    def self.relationships"
    },
    {
      "file": "lib/ramanujan_complex.rb",
      "pattern_type": "function_definition",
      "start_line": 253,
      "end_line": 253,
      "symbols": [
        "self"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 23,
      "snippet": "    def self.coherences"
    },
    {
      "file": "lib/ramanujan_complex.rb",
      "pattern_type": "function_definition",
      "start_line": 268,
      "end_line": 268,
      "symbols": [
        "self"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 26,
      "snippet": "    def self.build_complex"
    },
    {
      "file": "lib/ramanujan_complex.rb",
      "pattern_type": "function_definition",
      "start_line": 291,
      "end_line": 291,
      "symbols": [
        "initialize"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 40,
      "snippet": "    def initialize(complex, seed: 0x42D)"
    },
    {
      "file": "lib/ramanujan_complex.rb",
      "pattern_type": "function_definition",
      "start_line": 300,
      "end_line": 300,
      "symbols": [
        "step"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 12,
      "snippet": "    def step"
    },
    {
      "file": "lib/ramanujan_complex.rb",
      "pattern_type": "function_definition",
      "start_line": 312,
      "end_line": 312,
      "symbols": [
        "walk"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 15,
      "snippet": "    def walk(n)"
    },
    {
      "file": "lib/ramanujan_complex.rb",
      "pattern_type": "function_definition",
      "start_line": 318,
      "end_line": 318,
      "symbols": [
        "lazy_walk"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 34,
      "snippet": "    def lazy_walk(n, holding: 0.5)"
    },
    {
      "file": "lib/ramanujan_complex.rb",
      "pattern_type": "function_definition",
      "start_line": 330,
      "end_line": 330,
      "symbols": [
        "stationary_distribution"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 31,
      "snippet": "    def stationary_distribution"
    },
    {
      "file": "lib/ramanujan_complex.rb",
      "pattern_type": "function_definition",
      "start_line": 340,
      "end_line": 340,
      "symbols": [
        "mixing_time_estimate"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 28,
      "snippet": "    def mixing_time_estimate"
    },
    {
      "file": "lib/ramanujan_complex.rb",
      "pattern_type": "function_definition",
      "start_line": 357,
      "end_line": 357,
      "symbols": [
        "initialize"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 52,
      "snippet": "    def initialize(lattice, start_left, start_right)"
    },
    {
      "file": "lib/ramanujan_complex.rb",
      "pattern_type": "function_definition",
      "start_line": 367,
      "end_line": 367,
      "symbols": [
        "spoiler_move"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 37,
      "snippet": "    def spoiler_move(side, direction)"
    },
    {
      "file": "lib/ramanujan_complex.rb",
      "pattern_type": "function_definition",
      "start_line": 390,
      "end_line": 390,
      "symbols": [
        "duplicator_respond"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 41,
      "snippet": "    def duplicator_respond(side, new_pos)"
    },
    {
      "file": "lib/ramanujan_complex.rb",
      "pattern_type": "function_definition",
      "start_line": 402,
      "end_line": 402,
      "symbols": [
        "bisimilar?"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 18,
      "snippet": "    def bisimilar?"
    },
    {
      "file": "lib/ramanujan_complex.rb",
      "pattern_type": "function_definition",
      "start_line": 407,
      "end_line": 407,
      "symbols": [
        "duplicator_wins?"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 27,
      "snippet": "    def duplicator_wins?(k)"
    },
    {
      "file": "lib/ramanujan_complex.rb",
      "pattern_type": "function_definition",
      "start_line": 416,
      "end_line": 416,
      "symbols": [
        "initialize"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 18,
      "snippet": "    def initialize"
    },
    {
      "file": "lib/ramanujan_complex.rb",
      "pattern_type": "function_definition",
      "start_line": 423,
      "end_line": 423,
      "symbols": [
        "level"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 20,
      "snippet": "    def level(pitch)"
    },
    {
      "file": "lib/ramanujan_complex.rb",
      "pattern_type": "function_definition",
      "start_line": 427,
      "end_line": 427,
      "symbols": [
        "up"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 17,
      "snippet": "    def up(pitch)"
    },
    {
      "file": "lib/ramanujan_complex.rb",
      "pattern_type": "function_definition",
      "start_line": 431,
      "end_line": 431,
      "symbols": [
        "down"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 19,
      "snippet": "    def down(pitch)"
    },
    {
      "file": "lib/ramanujan_complex.rb",
      "pattern_type": "function_definition",
      "start_line": 435,
      "end_line": 435,
      "symbols": [
        "left_neighbor"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 28,
      "snippet": "    def left_neighbor(pitch)"
    },
    {
      "file": "lib/ramanujan_complex.rb",
      "pattern_type": "function_definition",
      "start_line": 439,
      "end_line": 439,
      "symbols": [
        "right_neighbor"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 29,
      "snippet": "    def right_neighbor(pitch)"
    },
    {
      "file": "lib/ramanujan_complex.rb",
      "pattern_type": "function_definition",
      "start_line": 444,
      "end_line": 444,
      "symbols": [
        "meet"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 18,
      "snippet": "    def meet(a, b)"
    },
    {
      "file": "lib/ramanujan_complex.rb",
      "pattern_type": "function_definition",
      "start_line": 449,
      "end_line": 449,
      "symbols": [
        "join"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 18,
      "snippet": "    def join(a, b)"
    },
    {
      "file": "lib/ramanujan_complex.rb",
      "pattern_type": "function_definition",
      "start_line": 460,
      "end_line": 460,
      "symbols": [
        "initialize"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 31,
      "snippet": "    def initialize(seed: 0x42D)"
    },
    {
      "file": "lib/ramanujan_complex.rb",
      "pattern_type": "function_definition",
      "start_line": 469,
      "end_line": 469,
      "symbols": [
        "moebius_to_interval"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 30,
      "snippet": "    def moebius_to_interval(n)"
    },
    {
      "file": "lib/ramanujan_complex.rb",
      "pattern_type": "function_definition",
      "start_line": 479,
      "end_line": 479,
      "symbols": [
        "progression_from_sequence"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 59,
      "snippet": "    def progression_from_sequence(numbers, start_pitch: 60)"
    },
    {
      "file": "lib/ramanujan_complex.rb",
      "pattern_type": "function_definition",
      "start_line": 491,
      "end_line": 491,
      "symbols": [
        "harmonic_color"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 25,
      "snippet": "    def harmonic_color(n)"
    },
    {
      "file": "lib/ramanujan_complex.rb",
      "pattern_type": "function_definition",
      "start_line": 502,
      "end_line": 502,
      "symbols": [
        "moebius_counterpoint"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 49,
      "snippet": "    def moebius_counterpoint(melody, interval: 7)"
    },
    {
      "file": "lib/ramanujan_complex.rb",
      "pattern_type": "function_definition",
      "start_line": 512,
      "end_line": 512,
      "symbols": [
        "two_dimensional_inversion"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 49,
      "snippet": "    def two_dimensional_inversion(f_values, m, n)"
    },
    {
      "file": "lib/ramanujan_complex.rb",
      "pattern_type": "function_definition",
      "start_line": 531,
      "end_line": 531,
      "symbols": [
        "initialize"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 31,
      "snippet": "    def initialize(seed: 0x42D)"
    },
    {
      "file": "lib/ramanujan_complex.rb",
      "pattern_type": "function_definition",
      "start_line": 540,
      "end_line": 540,
      "symbols": [
        "conceptual_walk"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 34,
      "snippet": "    def conceptual_walk(steps: 12)"
    },
    {
      "file": "lib/ramanujan_complex.rb",
      "pattern_type": "function_definition",
      "start_line": 557,
      "end_line": 557,
      "symbols": [
        "play_bisimulation_game"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 66,
      "snippet": "    def play_bisimulation_game(start_left, start_right, rounds: 5)"
    },
    {
      "file": "lib/ramanujan_complex.rb",
      "pattern_type": "function_definition",
      "start_line": 595,
      "end_line": 595,
      "symbols": [
        "moebius_progression"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 49,
      "snippet": "    def moebius_progression(length: 8, start: 60)"
    },
    {
      "file": "lib/ramanujan_complex.rb",
      "pattern_type": "function_definition",
      "start_line": 601,
      "end_line": 601,
      "symbols": [
        "two_dimensional_exploration"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 55,
      "snippet": "    def two_dimensional_exploration(m_max: 4, n_max: 4)"
    },
    {
      "file": "lib/ramanujan_complex.rb",
      "pattern_type": "function_definition",
      "start_line": 631,
      "end_line": 631,
      "symbols": [
        "spectral_gap"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 20,
      "snippet": "    def spectral_gap"
    },
    {
      "file": "lib/ramanujan_complex.rb",
      "pattern_type": "class_definition",
      "start_line": 458,
      "end_line": 557,
      "symbols": [
        "MoebiusHarmonies"
      ],
      "complexity": 7.3,
      "leitmotif_type": "synthesis",
      "snippet_length": 3190,
      "snippet": "  class MoebiusHarmonies\n    # Generate harmonic progressions based on \u03bc(n) values\n    def initialize(seed: 0x42D)\n      @seed = seed\n      @rng = Random.new(seed)\n    end\n    \n    # Map M\u00f6bius values to musical intervals\n    # \u03bc = -1 \u2192 descending motion (minor feel)\n    # \u03bc = 0  \u2192 sustained/pedal ("
    },
    {
      "file": "lib/ramanujan_nats_coordinator.rb",
      "pattern_type": "function_definition",
      "start_line": 424,
      "end_line": 434,
      "symbols": [
        "self"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 291,
      "snippet": "    def self.is_expander?\n      props = properties\n      props[:spectral_gap] >= 2.0\n    end\n  end\nend\n\n# ===========================================================================\n# Standalone Testing Functions\n# ===========================================================================\n"
    },
    {
      "file": "lib/ramanujan_nats_coordinator.rb",
      "pattern_type": "function_definition",
      "start_line": 521,
      "end_line": 521,
      "symbols": [
        "test_ramanujan_properties"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 29,
      "snippet": "def test_ramanujan_properties"
    },
    {
      "file": "lib/rubato_bridge.rb",
      "pattern_type": "function_definition",
      "start_line": 30,
      "end_line": 30,
      "symbols": [
        "self"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 75,
      "snippet": "    def self.rubato(onset, tempo_curve, rubato_amplitude: 0.1, period: 2.0)"
    },
    {
      "file": "lib/rubato_bridge.rb",
      "pattern_type": "function_definition",
      "start_line": 49,
      "end_line": 49,
      "symbols": [
        "self"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 60,
      "snippet": "    def self.articulation(duration, articulation_ratio: 0.9)"
    },
    {
      "file": "lib/rubato_bridge.rb",
      "pattern_type": "function_definition",
      "start_line": 69,
      "end_line": 69,
      "symbols": [
        "form_count"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 18,
      "snippet": "    def form_count"
    },
    {
      "file": "lib/rubato_bridge.rb",
      "pattern_type": "function_definition",
      "start_line": 74,
      "end_line": 74,
      "symbols": [
        "to_acset_schema"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 23,
      "snippet": "    def to_acset_schema"
    },
    {
      "file": "lib/rubato_bridge.rb",
      "pattern_type": "function_definition",
      "start_line": 83,
      "end_line": 83,
      "symbols": [
        "to_s"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 12,
      "snippet": "    def to_s"
    },
    {
      "file": "lib/rubato_bridge.rb",
      "pattern_type": "function_definition",
      "start_line": 100,
      "end_line": 100,
      "symbols": [
        "to_acset_instance"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 25,
      "snippet": "    def to_acset_instance"
    },
    {
      "file": "lib/rubato_bridge.rb",
      "pattern_type": "function_definition",
      "start_line": 108,
      "end_line": 108,
      "symbols": [
        "to_s"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 12,
      "snippet": "    def to_s"
    },
    {
      "file": "lib/rubato_bridge.rb",
      "pattern_type": "function_definition",
      "start_line": 117,
      "end_line": 117,
      "symbols": [
        "initialize"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 40,
      "snippet": "    def initialize(name:, form:, value:)"
    },
    {
      "file": "lib/rubato_bridge.rb",
      "pattern_type": "function_definition",
      "start_line": 122,
      "end_line": 122,
      "symbols": [
        "to_sonic_pi"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 19,
      "snippet": "    def to_sonic_pi"
    },
    {
      "file": "lib/rubato_bridge.rb",
      "pattern_type": "function_definition",
      "start_line": 132,
      "end_line": 132,
      "symbols": [
        "to_s"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 12,
      "snippet": "    def to_s"
    },
    {
      "file": "lib/rubato_bridge.rb",
      "pattern_type": "function_definition",
      "start_line": 141,
      "end_line": 141,
      "symbols": [
        "initialize"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 42,
      "snippet": "    def initialize(name:, form:, factors:)"
    },
    {
      "file": "lib/rubato_bridge.rb",
      "pattern_type": "function_definition",
      "start_line": 146,
      "end_line": 146,
      "symbols": [
        "factor_count"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 20,
      "snippet": "    def factor_count"
    },
    {
      "file": "lib/rubato_bridge.rb",
      "pattern_type": "function_definition",
      "start_line": 154,
      "end_line": 154,
      "symbols": [
        "to_sonic_pi"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 19,
      "snippet": "    def to_sonic_pi"
    },
    {
      "file": "lib/rubato_bridge.rb",
      "pattern_type": "function_definition",
      "start_line": 160,
      "end_line": 160,
      "symbols": [
        "to_s"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 12,
      "snippet": "    def to_s"
    },
    {
      "file": "lib/rubato_bridge.rb",
      "pattern_type": "function_definition",
      "start_line": 169,
      "end_line": 169,
      "symbols": [
        "initialize"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 43,
      "snippet": "    def initialize(name:, form:, elements:)"
    },
    {
      "file": "lib/rubato_bridge.rb",
      "pattern_type": "function_definition",
      "start_line": 174,
      "end_line": 174,
      "symbols": [
        "size"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 12,
      "snippet": "    def size"
    },
    {
      "file": "lib/rubato_bridge.rb",
      "pattern_type": "function_definition",
      "start_line": 178,
      "end_line": 178,
      "symbols": [
        "each"
      ],
      "complexity": 0.7,
      "leitmotif_type": "synthesis",
      "snippet_length": 20,
      "snippet": "    def each(&block)"
    },
    {
      "file": "lib/rubato_bridge.rb",
      "pattern_type": "function_definition",
      "start_line": 182,
      "end_line": 182,
      "symbols": [
        "to_sonic_pi"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 19,
      "snippet": "    def to_sonic_pi"
    },
    {
      "file": "lib/rubato_bridge.rb",
      "pattern_type": "function_definition",
      "start_line": 186,
      "end_line": 186,
      "symbols": [
        "to_s"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 12,
      "snippet": "    def to_s"
    },
    {
      "file": "lib/rubato_bridge.rb",
      "pattern_type": "function_definition",
      "start_line": 193,
      "end_line": 193,
      "symbols": [
        "initialize"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 18,
      "snippet": "    def initialize"
    },
    {
      "file": "lib/rubato_bridge.rb",
      "pattern_type": "function_definition",
      "start_line": 199,
      "end_line": 199,
      "symbols": [
        "register_form"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 27,
      "snippet": "    def register_form(form)"
    },
    {
      "file": "lib/rubato_bridge.rb",
      "pattern_type": "function_definition",
      "start_line": 203,
      "end_line": 203,
      "symbols": [
        "register_denotator"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 37,
      "snippet": "    def register_denotator(denotator)"
    },
    {
      "file": "lib/rubato_bridge.rb",
      "pattern_type": "function_definition",
      "start_line": 207,
      "end_line": 207,
      "symbols": [
        "get_form"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 22,
      "snippet": "    def get_form(name)"
    },
    {
      "file": "lib/rubato_bridge.rb",
      "pattern_type": "function_definition",
      "start_line": 211,
      "end_line": 211,
      "symbols": [
        "get_denotator"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 27,
      "snippet": "    def get_denotator(name)"
    },
    {
      "file": "lib/rubato_bridge.rb",
      "pattern_type": "function_definition",
      "start_line": 215,
      "end_line": 215,
      "symbols": [
        "all_forms"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 17,
      "snippet": "    def all_forms"
    },
    {
      "file": "lib/rubato_bridge.rb",
      "pattern_type": "function_definition",
      "start_line": 219,
      "end_line": 219,
      "symbols": [
        "all_denotators"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 22,
      "snippet": "    def all_denotators"
    },
    {
      "file": "lib/rubato_bridge.rb",
      "pattern_type": "function_definition",
      "start_line": 225,
      "end_line": 225,
      "symbols": [
        "register_builtin_forms!"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 31,
      "snippet": "    def register_builtin_forms!"
    },
    {
      "file": "lib/rubato_bridge.rb",
      "pattern_type": "function_definition",
      "start_line": 251,
      "end_line": 251,
      "symbols": [
        "initialize"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 47,
      "snippet": "    def initialize(repository = Repository.new)"
    },
    {
      "file": "lib/rubato_bridge.rb",
      "pattern_type": "function_definition",
      "start_line": 256,
      "end_line": 256,
      "symbols": [
        "eval"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 18,
      "snippet": "    def eval(expr)"
    },
    {
      "file": "lib/rubato_bridge.rb",
      "pattern_type": "function_definition",
      "start_line": 269,
      "end_line": 269,
      "symbols": [
        "eval_list"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 23,
      "snippet": "    def eval_list(list)"
    },
    {
      "file": "lib/rubato_bridge.rb",
      "pattern_type": "function_definition",
      "start_line": 300,
      "end_line": 300,
      "symbols": [
        "make_denotator"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 28,
      "snippet": "    def make_denotator(args)"
    },
    {
      "file": "lib/rubato_bridge.rb",
      "pattern_type": "function_definition",
      "start_line": 322,
      "end_line": 322,
      "symbols": [
        "initialize"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 53,
      "snippet": "    def initialize(host: 'localhost', port: OSC_PORT)"
    },
    {
      "file": "lib/rubato_bridge.rb",
      "pattern_type": "function_definition",
      "start_line": 327,
      "end_line": 327,
      "symbols": [
        "play_denotator"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 33,
      "snippet": "    def play_denotator(denotator)"
    },
    {
      "file": "lib/rubato_bridge.rb",
      "pattern_type": "function_definition",
      "start_line": 338,
      "end_line": 338,
      "symbols": [
        "play_score"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 25,
      "snippet": "    def play_score(score)"
    },
    {
      "file": "lib/rubato_bridge.rb",
      "pattern_type": "function_definition",
      "start_line": 344,
      "end_line": 344,
      "symbols": [
        "play_note"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 23,
      "snippet": "    def play_note(note)"
    },
    {
      "file": "lib/rubato_bridge.rb",
      "pattern_type": "function_definition",
      "start_line": 349,
      "end_line": 349,
      "symbols": [
        "play_simple"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 27,
      "snippet": "    def play_simple(simple)"
    },
    {
      "file": "lib/rubato_bridge.rb",
      "pattern_type": "function_definition",
      "start_line": 355,
      "end_line": 355,
      "symbols": [
        "send_osc"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 29,
      "snippet": "    def send_osc(path, *args)"
    },
    {
      "file": "lib/rubato_bridge.rb",
      "pattern_type": "function_definition",
      "start_line": 380,
      "end_line": 380,
      "symbols": [
        "self"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 36,
      "snippet": "    def self.pitch_from_color(color)"
    },
    {
      "file": "lib/rubato_bridge.rb",
      "pattern_type": "function_definition",
      "start_line": 385,
      "end_line": 385,
      "symbols": [
        "self"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 39,
      "snippet": "    def self.duration_from_color(color)"
    },
    {
      "file": "lib/rubato_bridge.rb",
      "pattern_type": "function_definition",
      "start_line": 392,
      "end_line": 392,
      "symbols": [
        "self"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 35,
      "snippet": "    def self.splitmix64_next(state)"
    },
    {
      "file": "lib/rubato_bridge.rb",
      "pattern_type": "function_definition",
      "start_line": 399,
      "end_line": 399,
      "symbols": [
        "self"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 32,
      "snippet": "    def self.hsl_to_hex(h, s, l)"
    },
    {
      "file": "lib/rubato_bridge.rb",
      "pattern_type": "function_definition",
      "start_line": 418,
      "end_line": 418,
      "symbols": [
        "self"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 39,
      "snippet": "  def self.demo(seed: 1069, n_notes: 8)"
    },
    {
      "file": "lib/runs_on.rb",
      "pattern_type": "function_definition",
      "start_line": 29,
      "end_line": 29,
      "symbols": [
        "runs_on"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 30,
      "snippet": "  def runs_on(pattern, matter)"
    },
    {
      "file": "lib/runs_on.rb",
      "pattern_type": "function_definition",
      "start_line": 44,
      "end_line": 44,
      "symbols": [
        "pair_instruction"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 57,
      "snippet": "  def pair_instruction(instruction, matter, current_beat)"
    },
    {
      "file": "lib/runs_on.rb",
      "pattern_type": "function_definition",
      "start_line": 131,
      "end_line": 131,
      "symbols": [
        "interpret"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 54,
      "snippet": "  def interpret(pattern, matter, current_beat, events)"
    },
    {
      "file": "lib/runs_on.rb",
      "pattern_type": "function_definition",
      "start_line": 182,
      "end_line": 182,
      "symbols": [
        "create_note_event"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 59,
      "snippet": "  def create_note_event(pitches, duration, amplitude, beat)"
    },
    {
      "file": "lib/runs_on.rb",
      "pattern_type": "function_definition",
      "start_line": 197,
      "end_line": 197,
      "symbols": [
        "midi_to_hz"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 22,
      "snippet": "  def midi_to_hz(midi)"
    },
    {
      "file": "lib/runs_on.rb",
      "pattern_type": "function_definition",
      "start_line": 206,
      "end_line": 206,
      "symbols": [
        "run_realtime"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 55,
      "snippet": "  def run_realtime(pattern, matter, backend: :sonic_pi)"
    },
    {
      "file": "lib/runs_on.rb",
      "pattern_type": "function_definition",
      "start_line": 260,
      "end_line": 260,
      "symbols": [
        "print_sonic_pi_setup"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 26,
      "snippet": "  def print_sonic_pi_setup"
    },
    {
      "file": "lib/runs_on.rb",
      "pattern_type": "function_definition",
      "start_line": 275,
      "end_line": 275,
      "symbols": [
        "to_score_events"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 38,
      "snippet": "  def to_score_events(pattern, matter)"
    },
    {
      "file": "lib/score_event.rb",
      "pattern_type": "function_definition",
      "start_line": 24,
      "end_line": 24,
      "symbols": [
        "self"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 34,
      "snippet": "    def self.midi_to_hz(midi_note)"
    },
    {
      "file": "lib/score_event.rb",
      "pattern_type": "function_definition",
      "start_line": 28,
      "end_line": 28,
      "symbols": [
        "self"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 43,
      "snippet": "    def self.beats_to_seconds(tempo, beats)"
    },
    {
      "file": "lib/score_event.rb",
      "pattern_type": "function_definition",
      "start_line": 32,
      "end_line": 32,
      "symbols": [
        "at_seconds"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 25,
      "snippet": "    def at_seconds(tempo)"
    },
    {
      "file": "lib/score_event.rb",
      "pattern_type": "function_definition",
      "start_line": 36,
      "end_line": 36,
      "symbols": [
        "dur_seconds"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 26,
      "snippet": "    def dur_seconds(tempo)"
    },
    {
      "file": "lib/score_event.rb",
      "pattern_type": "function_definition",
      "start_line": 40,
      "end_line": 40,
      "symbols": [
        "to_osc_bundle"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 28,
      "snippet": "    def to_osc_bundle(tempo)"
    },
    {
      "file": "lib/score_event.rb",
      "pattern_type": "function_definition",
      "start_line": 50,
      "end_line": 50,
      "symbols": [
        "to_h"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 12,
      "snippet": "    def to_h"
    },
    {
      "file": "lib/seed_miner_42d.rb",
      "pattern_type": "function_definition",
      "start_line": 39,
      "end_line": 39,
      "symbols": [
        "self"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 49,
      "snippet": "  def self.premine(radius: 500, chain_length: 12)"
    },
    {
      "file": "lib/seed_miner_42d.rb",
      "pattern_type": "function_definition",
      "start_line": 59,
      "end_line": 59,
      "symbols": [
        "self"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 56,
      "snippet": "  def self.premine_girard(radius: 500, chain_length: 12)"
    },
    {
      "file": "lib/seed_miner_42d.rb",
      "pattern_type": "function_definition",
      "start_line": 81,
      "end_line": 81,
      "symbols": [
        "self"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 47,
      "snippet": "  def self.leitmotif(length: 8, base_pitch: 60)"
    },
    {
      "file": "lib/seed_miner_42d.rb",
      "pattern_type": "function_definition",
      "start_line": 90,
      "end_line": 90,
      "symbols": [
        "self"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 68,
      "snippet": "  def self.leitmotif_from_intervals(name, intervals, base_pitch: 60)"
    },
    {
      "file": "lib/seed_miner_42d.rb",
      "pattern_type": "function_definition",
      "start_line": 117,
      "end_line": 117,
      "symbols": [
        "self"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 39,
      "snippet": "  def self.all_patterns(base_pitch: 60)"
    },
    {
      "file": "lib/seed_miner_42d.rb",
      "pattern_type": "function_definition",
      "start_line": 124,
      "end_line": 124,
      "symbols": [
        "self"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 70,
      "snippet": "  def self.find_seeds_for_pattern(pattern, radius: 1000, tolerance: 1)"
    },
    {
      "file": "lib/seed_miner_42d.rb",
      "pattern_type": "function_definition",
      "start_line": 144,
      "end_line": 144,
      "symbols": [
        "self"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 43,
      "snippet": "  def self.harmonize_with_girard(leitmotif)"
    },
    {
      "file": "lib/seed_miner_42d.rb",
      "pattern_type": "function_definition",
      "start_line": 220,
      "end_line": 220,
      "symbols": [
        "self"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 57,
      "snippet": "  def self.intervals_match?(actual, target, tolerance: 0)"
    },
    {
      "file": "lib/seed_miner_42d.rb",
      "pattern_type": "function_definition",
      "start_line": 226,
      "end_line": 226,
      "symbols": [
        "self"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 49,
      "snippet": "  def self.interval_match_quality(actual, target)"
    },
    {
      "file": "lib/seed_miner_42d.rb",
      "pattern_type": "function_definition",
      "start_line": 233,
      "end_line": 233,
      "symbols": [
        "self"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 38,
      "snippet": "  def self.polarity_to_color(polarity)"
    },
    {
      "file": "lib/seed_miner_42d.rb",
      "pattern_type": "function_definition",
      "start_line": 243,
      "end_line": 243,
      "symbols": [
        "self"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 29,
      "snippet": "  def self.midi_to_freq(midi)"
    },
    {
      "file": "lib/semantic_closure_validator.rb",
      "pattern_type": "function_definition",
      "start_line": 6,
      "end_line": 6,
      "symbols": [
        "self"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 32,
      "snippet": "  def self.validate(composition)"
    },
    {
      "file": "lib/semantic_closure_validator.rb",
      "pattern_type": "class_definition",
      "start_line": 5,
      "end_line": 10,
      "symbols": [
        "SemanticClosureValidator"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 129,
      "snippet": "class SemanticClosureValidator\n  def self.validate(composition)\n    OntologicalValidator.semantic_closure(composition)\n  end\nend\n"
    },
    {
      "file": "lib/skill_1069_generator.rb",
      "pattern_type": "function_definition",
      "start_line": 44,
      "end_line": 44,
      "symbols": [
        "to_yaml"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 15,
      "snippet": "    def to_yaml"
    },
    {
      "file": "lib/skill_1069_generator.rb",
      "pattern_type": "function_definition",
      "start_line": 58,
      "end_line": 58,
      "symbols": [
        "to_markdown"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 19,
      "snippet": "    def to_markdown"
    },
    {
      "file": "lib/skill_1069_generator.rb",
      "pattern_type": "function_definition",
      "start_line": 87,
      "end_line": 87,
      "symbols": [
        "initialize"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 24,
      "snippet": "    def initialize(seed)"
    },
    {
      "file": "lib/skill_1069_generator.rb",
      "pattern_type": "function_definition",
      "start_line": 92,
      "end_line": 92,
      "symbols": [
        "generate"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 23,
      "snippet": "    def generate(items)"
    },
    {
      "file": "lib/skill_1069_generator.rb",
      "pattern_type": "function_definition",
      "start_line": 103,
      "end_line": 103,
      "symbols": [
        "pair_deranged"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 28,
      "snippet": "    def pair_deranged(items)"
    },
    {
      "file": "lib/skill_1069_generator.rb",
      "pattern_type": "function_definition",
      "start_line": 116,
      "end_line": 116,
      "symbols": [
        "initialize"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 36,
      "snippet": "    def initialize(n_vertices, seed)"
    },
    {
      "file": "lib/skill_1069_generator.rb",
      "pattern_type": "function_definition",
      "start_line": 128,
      "end_line": 128,
      "symbols": [
        "build_expander!"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 23,
      "snippet": "    def build_expander!"
    },
    {
      "file": "lib/skill_1069_generator.rb",
      "pattern_type": "function_definition",
      "start_line": 150,
      "end_line": 150,
      "symbols": [
        "reachable?"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 43,
      "snippet": "    def reachable?(from, to, max_steps = 4)"
    },
    {
      "file": "lib/skill_1069_generator.rb",
      "pattern_type": "function_definition",
      "start_line": 175,
      "end_line": 175,
      "symbols": [
        "mixing_time"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 19,
      "snippet": "    def mixing_time"
    },
    {
      "file": "lib/skill_1069_generator.rb",
      "pattern_type": "function_definition",
      "start_line": 188,
      "end_line": 188,
      "symbols": [
        "initialize"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 56,
      "snippet": "    def initialize(seed = SplitMixTernary::DEFAULT_SEED)"
    },
    {
      "file": "lib/skill_1069_generator.rb",
      "pattern_type": "function_definition",
      "start_line": 197,
      "end_line": 197,
      "symbols": [
        "generate!"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 17,
      "snippet": "    def generate!"
    },
    {
      "file": "lib/skill_1069_generator.rb",
      "pattern_type": "function_definition",
      "start_line": 255,
      "end_line": 255,
      "symbols": [
        "skills_by_trit"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 22,
      "snippet": "    def skills_by_trit"
    },
    {
      "file": "lib/skill_1069_generator.rb",
      "pattern_type": "function_definition",
      "start_line": 260,
      "end_line": 260,
      "symbols": [
        "skills_by_category"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 26,
      "snippet": "    def skills_by_category"
    },
    {
      "file": "lib/skill_1069_generator.rb",
      "pattern_type": "function_definition",
      "start_line": 265,
      "end_line": 265,
      "symbols": [
        "verify_gf3"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 18,
      "snippet": "    def verify_gf3"
    },
    {
      "file": "lib/skill_1069_generator.rb",
      "pattern_type": "function_definition",
      "start_line": 277,
      "end_line": 277,
      "symbols": [
        "reachability_graph"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 26,
      "snippet": "    def reachability_graph"
    },
    {
      "file": "lib/skill_1069_generator.rb",
      "pattern_type": "function_definition",
      "start_line": 283,
      "end_line": 283,
      "symbols": [
        "generate_description"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 56,
      "snippet": "    def generate_description(src1, src2, topic1, topic2)"
    },
    {
      "file": "lib/skill_1069_generator.rb",
      "pattern_type": "function_definition",
      "start_line": 293,
      "end_line": 293,
      "symbols": [
        "determine_category"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 38,
      "snippet": "    def determine_category(src1, src2)"
    },
    {
      "file": "lib/skill_1069_generator.rb",
      "pattern_type": "function_definition",
      "start_line": 306,
      "end_line": 306,
      "symbols": [
        "lch_to_hex"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 27,
      "snippet": "    def lch_to_hex(l, c, h)"
    },
    {
      "file": "lib/skill_1069_generator.rb",
      "pattern_type": "function_definition",
      "start_line": 325,
      "end_line": 325,
      "symbols": [
        "initialize"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 32,
      "snippet": "    def initialize(skills, seed)"
    },
    {
      "file": "lib/skill_1069_generator.rb",
      "pattern_type": "function_definition",
      "start_line": 332,
      "end_line": 332,
      "symbols": [
        "select"
      ],
      "complexity": 0.7,
      "leitmotif_type": "synthesis",
      "snippet_length": 17,
      "snippet": "    def select(n)"
    },
    {
      "file": "lib/skill_1069_generator.rb",
      "pattern_type": "function_definition",
      "start_line": 342,
      "end_line": 342,
      "symbols": [
        "select_balanced"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 35,
      "snippet": "    def select_balanced(n_per_trit)"
    },
    {
      "file": "lib/skill_1069_generator.rb",
      "pattern_type": "function_definition",
      "start_line": 367,
      "end_line": 367,
      "symbols": [
        "self"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 73,
      "snippet": "  def self.demo(seed: SplitMixTernary::DEFAULT_SEED, generate_count: 100)"
    },
    {
      "file": "lib/skill_1069_generator.rb",
      "pattern_type": "function_definition",
      "start_line": 440,
      "end_line": 440,
      "symbols": [
        "self"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 78,
      "snippet": "  def self.generate_full(seed: SplitMixTernary::DEFAULT_SEED, output_dir: nil)"
    },
    {
      "file": "lib/skill_sonification.rb",
      "pattern_type": "function_definition",
      "start_line": 47,
      "end_line": 47,
      "symbols": [
        "initialize"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 24,
      "snippet": "    def initialize(seed)"
    },
    {
      "file": "lib/skill_sonification.rb",
      "pattern_type": "function_definition",
      "start_line": 51,
      "end_line": 51,
      "symbols": [
        "next_u64"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 16,
      "snippet": "    def next_u64"
    },
    {
      "file": "lib/skill_sonification.rb",
      "pattern_type": "function_definition",
      "start_line": 59,
      "end_line": 59,
      "symbols": [
        "next_float"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 18,
      "snippet": "    def next_float"
    },
    {
      "file": "lib/skill_sonification.rb",
      "pattern_type": "function_definition",
      "start_line": 71,
      "end_line": 71,
      "symbols": [
        "initialize"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 54,
      "snippet": "    def initialize(name:, seed: nil, tap_state: :live)"
    },
    {
      "file": "lib/skill_sonification.rb",
      "pattern_type": "function_definition",
      "start_line": 98,
      "end_line": 98,
      "symbols": [
        "set_availability"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 45,
      "snippet": "    def set_availability(availability_0_to_1)"
    },
    {
      "file": "lib/skill_sonification.rb",
      "pattern_type": "function_definition",
      "start_line": 108,
      "end_line": 108,
      "symbols": [
        "to_osc_params"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 21,
      "snippet": "    def to_osc_params"
    },
    {
      "file": "lib/skill_sonification.rb",
      "pattern_type": "function_definition",
      "start_line": 119,
      "end_line": 119,
      "symbols": [
        "to_sc_args"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 18,
      "snippet": "    def to_sc_args"
    },
    {
      "file": "lib/skill_sonification.rb",
      "pattern_type": "function_definition",
      "start_line": 125,
      "end_line": 125,
      "symbols": [
        "to_sonic_pi"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 19,
      "snippet": "    def to_sonic_pi"
    },
    {
      "file": "lib/skill_sonification.rb",
      "pattern_type": "function_definition",
      "start_line": 136,
      "end_line": 136,
      "symbols": [
        "midi_note"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 17,
      "snippet": "    def midi_note"
    },
    {
      "file": "lib/skill_sonification.rb",
      "pattern_type": "function_definition",
      "start_line": 163,
      "end_line": 163,
      "symbols": [
        "initialize"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 36,
      "snippet": "    def initialize(name:, seed: nil)"
    },
    {
      "file": "lib/skill_sonification.rb",
      "pattern_type": "function_definition",
      "start_line": 181,
      "end_line": 181,
      "symbols": [
        "chord_intervals"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 23,
      "snippet": "    def chord_intervals"
    },
    {
      "file": "lib/skill_sonification.rb",
      "pattern_type": "function_definition",
      "start_line": 198,
      "end_line": 198,
      "symbols": [
        "chord_frequencies"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 25,
      "snippet": "    def chord_frequencies"
    },
    {
      "file": "lib/skill_sonification.rb",
      "pattern_type": "function_definition",
      "start_line": 205,
      "end_line": 205,
      "symbols": [
        "to_sonic_pi"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 19,
      "snippet": "    def to_sonic_pi"
    },
    {
      "file": "lib/skill_sonification.rb",
      "pattern_type": "function_definition",
      "start_line": 210,
      "end_line": 210,
      "symbols": [
        "midi_root"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 17,
      "snippet": "    def midi_root"
    },
    {
      "file": "lib/skill_sonification.rb",
      "pattern_type": "function_definition",
      "start_line": 222,
      "end_line": 222,
      "symbols": [
        "initialize"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 18,
      "snippet": "    def initialize"
    },
    {
      "file": "lib/skill_sonification.rb",
      "pattern_type": "function_definition",
      "start_line": 228,
      "end_line": 228,
      "symbols": [
        "add_skill"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 52,
      "snippet": "    def add_skill(name, seed: nil, tap_state: :live)"
    },
    {
      "file": "lib/skill_sonification.rb",
      "pattern_type": "function_definition",
      "start_line": 232,
      "end_line": 232,
      "symbols": [
        "add_world"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 34,
      "snippet": "    def add_world(name, seed: nil)"
    },
    {
      "file": "lib/skill_sonification.rb",
      "pattern_type": "function_definition",
      "start_line": 236,
      "end_line": 236,
      "symbols": [
        "set_availability"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 62,
      "snippet": "    def set_availability(skill_name, world_name, availability)"
    },
    {
      "file": "lib/skill_sonification.rb",
      "pattern_type": "function_definition",
      "start_line": 245,
      "end_line": 245,
      "symbols": [
        "availability"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 44,
      "snippet": "    def availability(skill_name, world_name)"
    },
    {
      "file": "lib/skill_sonification.rb",
      "pattern_type": "function_definition",
      "start_line": 250,
      "end_line": 250,
      "symbols": [
        "skill_presence"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 34,
      "snippet": "    def skill_presence(skill_name)"
    },
    {
      "file": "lib/skill_sonification.rb",
      "pattern_type": "function_definition",
      "start_line": 255,
      "end_line": 255,
      "symbols": [
        "world_coverage"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 34,
      "snippet": "    def world_coverage(world_name)"
    },
    {
      "file": "lib/skill_sonification.rb",
      "pattern_type": "function_definition",
      "start_line": 260,
      "end_line": 260,
      "symbols": [
        "summary"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 15,
      "snippet": "    def summary"
    },
    {
      "file": "lib/skill_sonification.rb",
      "pattern_type": "function_definition",
      "start_line": 277,
      "end_line": 277,
      "symbols": [
        "initialize"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 26,
      "snippet": "    def initialize(matrix)"
    },
    {
      "file": "lib/skill_sonification.rb",
      "pattern_type": "function_definition",
      "start_line": 282,
      "end_line": 282,
      "symbols": [
        "to_sonic_pi"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 19,
      "snippet": "    def to_sonic_pi"
    },
    {
      "file": "lib/skill_sonification.rb",
      "pattern_type": "function_definition",
      "start_line": 348,
      "end_line": 348,
      "symbols": [
        "to_json"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 15,
      "snippet": "    def to_json"
    },
    {
      "file": "lib/skill_sonification.rb",
      "pattern_type": "function_definition",
      "start_line": 388,
      "end_line": 388,
      "symbols": [
        "self"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 54,
      "snippet": "    def self.from_filesystem(skills_dir:, worlds_dir:)"
    },
    {
      "file": "lib/skill_sonification.rb",
      "pattern_type": "function_definition",
      "start_line": 432,
      "end_line": 432,
      "symbols": [
        "self"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 17,
      "snippet": "    def self.demo"
    },
    {
      "file": "lib/sonic_pi_renderer.rb",
      "pattern_type": "function_definition",
      "start_line": 29,
      "end_line": 29,
      "symbols": [
        "play_pitch_class"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 53,
      "snippet": "  def play_pitch_class(pitch_class, octave, duration)"
    },
    {
      "file": "lib/sonic_pi_renderer.rb",
      "pattern_type": "function_definition",
      "start_line": 34,
      "end_line": 34,
      "symbols": [
        "play_chord"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 42,
      "snippet": "  def play_chord(chord, octaves, duration)"
    },
    {
      "file": "lib/sonic_pi_renderer.rb",
      "pattern_type": "function_definition",
      "start_line": 42,
      "end_line": 42,
      "symbols": [
        "play_composition"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 39,
      "snippet": "  def play_composition(chords, octaves)"
    },
    {
      "file": "lib/sonic_pi_renderer.rb",
      "pattern_type": "function_definition",
      "start_line": 58,
      "end_line": 58,
      "symbols": [
        "play_color"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 47,
      "snippet": "  def play_color(color, duration_override: nil)"
    },
    {
      "file": "lib/sonic_pi_renderer.rb",
      "pattern_type": "function_definition",
      "start_line": 77,
      "end_line": 77,
      "symbols": [
        "play_color_sequence"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 48,
      "snippet": "  def play_color_sequence(colors, interval: 1.0)"
    },
    {
      "file": "lib/sonic_pi_renderer.rb",
      "pattern_type": "function_definition",
      "start_line": 85,
      "end_line": 85,
      "symbols": [
        "play_color_cadence"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 55,
      "snippet": "  def play_color_cadence(cadence_colors, interval: 1.0)"
    },
    {
      "file": "lib/sonic_pi_renderer.rb",
      "pattern_type": "function_definition",
      "start_line": 131,
      "end_line": 131,
      "symbols": [
        "osc_pad_string"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 25,
      "snippet": "  def osc_pad_string(str)"
    },
    {
      "file": "lib/sonic_pi_renderer.rb",
      "pattern_type": "function_definition",
      "start_line": 144,
      "end_line": 144,
      "symbols": [
        "extract_color_value"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 37,
      "snippet": "  def extract_color_value(color, key)"
    },
    {
      "file": "lib/sonic_pi_renderer.rb",
      "pattern_type": "function_definition",
      "start_line": 155,
      "end_line": 155,
      "symbols": [
        "hue_to_midi_note"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 27,
      "snippet": "  def hue_to_midi_note(hue)"
    },
    {
      "file": "lib/sonic_pi_renderer.rb",
      "pattern_type": "function_definition",
      "start_line": 163,
      "end_line": 163,
      "symbols": [
        "lightness_to_amplitude"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 39,
      "snippet": "  def lightness_to_amplitude(lightness)"
    },
    {
      "file": "lib/sonic_pi_renderer.rb",
      "pattern_type": "function_definition",
      "start_line": 169,
      "end_line": 169,
      "symbols": [
        "chroma_to_duration"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 32,
      "snippet": "  def chroma_to_duration(chroma)"
    },
    {
      "file": "lib/spectral.rb",
      "pattern_type": "function_definition",
      "start_line": 5,
      "end_line": 5,
      "symbols": [
        "initialize"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 47,
      "snippet": "  def initialize(fundamental, num_partials = 8)"
    },
    {
      "file": "lib/spectral.rb",
      "pattern_type": "function_definition",
      "start_line": 10,
      "end_line": 10,
      "symbols": [
        "in_hz"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 11,
      "snippet": "  def in_hz"
    },
    {
      "file": "lib/spectral.rb",
      "pattern_type": "function_definition",
      "start_line": 14,
      "end_line": 14,
      "symbols": [
        "in_midi"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 13,
      "snippet": "  def in_midi"
    },
    {
      "file": "lib/spectral.rb",
      "pattern_type": "class_definition",
      "start_line": 2,
      "end_line": 18,
      "symbols": [
        "Spectrum"
      ],
      "complexity": 1.6,
      "leitmotif_type": "synthesis",
      "snippet_length": 318,
      "snippet": "class Spectrum\n  attr_reader :fundamental, :partials\n\n  def initialize(fundamental, num_partials = 8)\n    @fundamental = fundamental\n    @partials = (1..num_partials).map { |n| fundamental * n }\n  end\n\n  def in_hz\n    @partials\n  end\n\n  def in_midi\n    @partials.map { |hz| 12 * Math.log2(hz / 440.0)"
    },
    {
      "file": "lib/spi_parallel.rb",
      "pattern_type": "function_definition",
      "start_line": 40,
      "end_line": 40,
      "symbols": [
        "initialize"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 56,
      "snippet": "    def initialize(seed = SplitMixTernary::DEFAULT_SEED)"
    },
    {
      "file": "lib/spi_parallel.rb",
      "pattern_type": "function_definition",
      "start_line": 46,
      "end_line": 46,
      "symbols": [
        "verify!"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 124,
      "snippet": "    def verify!(indices: (1..100).to_a, strategies: [:sequential, :reversed, :shuffled, :parallel_threads, :parallel_split])"
    },
    {
      "file": "lib/spi_parallel.rb",
      "pattern_type": "function_definition",
      "start_line": 70,
      "end_line": 70,
      "symbols": [
        "execute_strategy"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 43,
      "snippet": "    def execute_strategy(strategy, indices)"
    },
    {
      "file": "lib/spi_parallel.rb",
      "pattern_type": "function_definition",
      "start_line": 87,
      "end_line": 87,
      "symbols": [
        "sequential_execution"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 37,
      "snippet": "    def sequential_execution(indices)"
    },
    {
      "file": "lib/spi_parallel.rb",
      "pattern_type": "function_definition",
      "start_line": 92,
      "end_line": 92,
      "symbols": [
        "reversed_execution"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 35,
      "snippet": "    def reversed_execution(indices)"
    },
    {
      "file": "lib/spi_parallel.rb",
      "pattern_type": "function_definition",
      "start_line": 97,
      "end_line": 97,
      "symbols": [
        "shuffled_execution"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 35,
      "snippet": "    def shuffled_execution(indices)"
    },
    {
      "file": "lib/spi_parallel.rb",
      "pattern_type": "function_definition",
      "start_line": 105,
      "end_line": 105,
      "symbols": [
        "parallel_thread_execution"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 42,
      "snippet": "    def parallel_thread_execution(indices)"
    },
    {
      "file": "lib/spi_parallel.rb",
      "pattern_type": "function_definition",
      "start_line": 119,
      "end_line": 119,
      "symbols": [
        "parallel_split_execution"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 41,
      "snippet": "    def parallel_split_execution(indices)"
    },
    {
      "file": "lib/spi_parallel.rb",
      "pattern_type": "function_definition",
      "start_line": 126,
      "end_line": 126,
      "symbols": [
        "colors_match?"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 39,
      "snippet": "    def colors_match?(colors1, colors2)"
    },
    {
      "file": "lib/spi_parallel.rb",
      "pattern_type": "function_definition",
      "start_line": 141,
      "end_line": 141,
      "symbols": [
        "initialize"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 52,
      "snippet": "    def initialize(seed, n_workers: Etc.nprocessors)"
    },
    {
      "file": "lib/spi_parallel.rb",
      "pattern_type": "function_definition",
      "start_line": 147,
      "end_line": 147,
      "symbols": [
        "parallel_colors"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 32,
      "snippet": "    def parallel_colors(indices)"
    },
    {
      "file": "lib/spi_parallel.rb",
      "pattern_type": "function_definition",
      "start_line": 174,
      "end_line": 174,
      "symbols": [
        "partition_indices"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 37,
      "snippet": "    def partition_indices(indices, n)"
    },
    {
      "file": "lib/spi_parallel.rb",
      "pattern_type": "function_definition",
      "start_line": 178,
      "end_line": 178,
      "symbols": [
        "create_color_ractor"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 51,
      "snippet": "    def create_color_ractor(seed, worker_id, chunk)"
    },
    {
      "file": "lib/spi_parallel.rb",
      "pattern_type": "function_definition",
      "start_line": 222,
      "end_line": 222,
      "symbols": [
        "thread_fallback"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 32,
      "snippet": "    def thread_fallback(indices)"
    },
    {
      "file": "lib/spi_parallel.rb",
      "pattern_type": "function_definition",
      "start_line": 232,
      "end_line": 232,
      "symbols": [
        "initialize"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 52,
      "snippet": "    def initialize(seed, n_workers: Etc.nprocessors)"
    },
    {
      "file": "lib/spi_parallel.rb",
      "pattern_type": "function_definition",
      "start_line": 238,
      "end_line": 238,
      "symbols": [
        "parallel_colors"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 50,
      "snippet": "    def parallel_colors(indices, output_file: nil)"
    },
    {
      "file": "lib/spi_parallel.rb",
      "pattern_type": "function_definition",
      "start_line": 287,
      "end_line": 287,
      "symbols": [
        "partition_indices"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 37,
      "snippet": "    def partition_indices(indices, n)"
    },
    {
      "file": "lib/spi_parallel.rb",
      "pattern_type": "function_definition",
      "start_line": 297,
      "end_line": 297,
      "symbols": [
        "initialize"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 56,
      "snippet": "    def initialize(seed = SplitMixTernary::DEFAULT_SEED)"
    },
    {
      "file": "lib/spi_parallel.rb",
      "pattern_type": "function_definition",
      "start_line": 301,
      "end_line": 301,
      "symbols": [
        "run"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 29,
      "snippet": "    def run(n_colors: 10_000)"
    },
    {
      "file": "lib/spi_parallel.rb",
      "pattern_type": "function_definition",
      "start_line": 350,
      "end_line": 350,
      "symbols": [
        "time_execution"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 28,
      "snippet": "    def time_execution(name)"
    },
    {
      "file": "lib/spi_parallel.rb",
      "pattern_type": "function_definition",
      "start_line": 357,
      "end_line": 357,
      "symbols": [
        "calculate_speedups"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 35,
      "snippet": "    def calculate_speedups(results)"
    },
    {
      "file": "lib/spi_parallel.rb",
      "pattern_type": "function_definition",
      "start_line": 368,
      "end_line": 368,
      "symbols": [
        "initialize"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 56,
      "snippet": "    def initialize(seed = SplitMixTernary::DEFAULT_SEED)"
    },
    {
      "file": "lib/spi_parallel.rb",
      "pattern_type": "function_definition",
      "start_line": 373,
      "end_line": 373,
      "symbols": [
        "verify!"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 33,
      "snippet": "    def verify!(n_triplets: 1000)"
    },
    {
      "file": "lib/spi_parallel.rb",
      "pattern_type": "function_definition",
      "start_line": 417,
      "end_line": 417,
      "symbols": [
        "self"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 67,
      "snippet": "  def self.verify_spi(seed = SplitMixTernary::DEFAULT_SEED, **opts)"
    },
    {
      "file": "lib/spi_parallel.rb",
      "pattern_type": "function_definition",
      "start_line": 421,
      "end_line": 421,
      "symbols": [
        "self"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 66,
      "snippet": "  def self.benchmark(seed = SplitMixTernary::DEFAULT_SEED, **opts)"
    },
    {
      "file": "lib/spi_parallel.rb",
      "pattern_type": "function_definition",
      "start_line": 425,
      "end_line": 425,
      "symbols": [
        "self"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 58,
      "snippet": "  def self.parallel_colors(seed, indices, strategy: :auto)"
    },
    {
      "file": "lib/spi_parallel.rb",
      "pattern_type": "function_definition",
      "start_line": 447,
      "end_line": 447,
      "symbols": [
        "self"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 76,
      "snippet": "  def self.verify_gf3_parallel(seed = SplitMixTernary::DEFAULT_SEED, **opts)"
    },
    {
      "file": "lib/spi_parallel.rb",
      "pattern_type": "function_definition",
      "start_line": 455,
      "end_line": 455,
      "symbols": [
        "self"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 52,
      "snippet": "  def self.demo(seed: SplitMixTernary::DEFAULT_SEED)"
    },
    {
      "file": "lib/spi_parallel.rb",
      "pattern_type": "class_definition",
      "start_line": 296,
      "end_line": 395,
      "symbols": [
        "Benchmark"
      ],
      "complexity": 4.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 3079,
      "snippet": "  class Benchmark\n    def initialize(seed = SplitMixTernary::DEFAULT_SEED)\n      @seed = seed\n    end\n    \n    def run(n_colors: 10_000)\n      indices = (1..n_colors).to_a\n      results = {}\n      \n      # Sequential baseline\n      results[:sequential] = time_execution(\"Sequential\") do\n        gen ="
    },
    {
      "file": "lib/spi_parallel.rb",
      "pattern_type": "class_definition",
      "start_line": 367,
      "end_line": 466,
      "symbols": [
        "GF3ParallelVerifier"
      ],
      "complexity": 4.4,
      "leitmotif_type": "synthesis",
      "snippet_length": 3337,
      "snippet": "  class GF3ParallelVerifier\n    def initialize(seed = SplitMixTernary::DEFAULT_SEED)\n      @seed = seed\n    end\n    \n    # Verify GF(3) conservation holds under parallel execution\n    def verify!(n_triplets: 1000)\n      streams = SplitMixTernary::TripartiteStreams.new(@seed)\n      \n      # Generate "
    },
    {
      "file": "lib/splitmix_ternary.rb",
      "pattern_type": "function_definition",
      "start_line": 48,
      "end_line": 48,
      "symbols": [
        "initialize"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 39,
      "snippet": "    def initialize(seed = DEFAULT_SEED)"
    },
    {
      "file": "lib/splitmix_ternary.rb",
      "pattern_type": "function_definition",
      "start_line": 55,
      "end_line": 55,
      "symbols": [
        "next_u64"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 16,
      "snippet": "    def next_u64"
    },
    {
      "file": "lib/splitmix_ternary.rb",
      "pattern_type": "function_definition",
      "start_line": 65,
      "end_line": 65,
      "symbols": [
        "next_trit"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 17,
      "snippet": "    def next_trit"
    },
    {
      "file": "lib/splitmix_ternary.rb",
      "pattern_type": "function_definition",
      "start_line": 70,
      "end_line": 70,
      "symbols": [
        "next_float"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 18,
      "snippet": "    def next_float"
    },
    {
      "file": "lib/splitmix_ternary.rb",
      "pattern_type": "function_definition",
      "start_line": 86,
      "end_line": 86,
      "symbols": [
        "fork"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 15,
      "snippet": "    def fork(n)"
    },
    {
      "file": "lib/splitmix_ternary.rb",
      "pattern_type": "function_definition",
      "start_line": 94,
      "end_line": 94,
      "symbols": [
        "next_color"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 18,
      "snippet": "    def next_color"
    },
    {
      "file": "lib/splitmix_ternary.rb",
      "pattern_type": "function_definition",
      "start_line": 102,
      "end_line": 102,
      "symbols": [
        "color_at"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 21,
      "snippet": "    def color_at(idx)"
    },
    {
      "file": "lib/splitmix_ternary.rb",
      "pattern_type": "function_definition",
      "start_line": 111,
      "end_line": 111,
      "symbols": [
        "hue_to_trit"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 22,
      "snippet": "    def hue_to_trit(h)"
    },
    {
      "file": "lib/splitmix_ternary.rb",
      "pattern_type": "function_definition",
      "start_line": 127,
      "end_line": 127,
      "symbols": [
        "initialize"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 39,
      "snippet": "    def initialize(seed = DEFAULT_SEED)"
    },
    {
      "file": "lib/splitmix_ternary.rb",
      "pattern_type": "function_definition",
      "start_line": 138,
      "end_line": 138,
      "symbols": [
        "next_triplet"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 20,
      "snippet": "    def next_triplet"
    },
    {
      "file": "lib/splitmix_ternary.rb",
      "pattern_type": "function_definition",
      "start_line": 173,
      "end_line": 173,
      "symbols": [
        "generate"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 19,
      "snippet": "    def generate(n)"
    },
    {
      "file": "lib/splitmix_ternary.rb",
      "pattern_type": "function_definition",
      "start_line": 183,
      "end_line": 183,
      "symbols": [
        "initialize"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 39,
      "snippet": "    def initialize(seed = DEFAULT_SEED)"
    },
    {
      "file": "lib/splitmix_ternary.rb",
      "pattern_type": "function_definition",
      "start_line": 188,
      "end_line": 188,
      "symbols": [
        "compute_ordered"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 32,
      "snippet": "    def compute_ordered(indices)"
    },
    {
      "file": "lib/splitmix_ternary.rb",
      "pattern_type": "function_definition",
      "start_line": 194,
      "end_line": 194,
      "symbols": [
        "compute_reversed"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 33,
      "snippet": "    def compute_reversed(indices)"
    },
    {
      "file": "lib/splitmix_ternary.rb",
      "pattern_type": "function_definition",
      "start_line": 200,
      "end_line": 200,
      "symbols": [
        "compute_shuffled"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 33,
      "snippet": "    def compute_shuffled(indices)"
    },
    {
      "file": "lib/splitmix_ternary.rb",
      "pattern_type": "function_definition",
      "start_line": 209,
      "end_line": 209,
      "symbols": [
        "compute_parallel"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 33,
      "snippet": "    def compute_parallel(indices)"
    },
    {
      "file": "lib/splitmix_ternary.rb",
      "pattern_type": "function_definition",
      "start_line": 218,
      "end_line": 218,
      "symbols": [
        "prove!"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 44,
      "snippet": "    def prove!(indices = [1, 5, 10, 20, 50])"
    },
    {
      "file": "lib/splitmix_ternary.rb",
      "pattern_type": "function_definition",
      "start_line": 244,
      "end_line": 244,
      "symbols": [
        "self"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 35,
      "snippet": "  def self.new(seed = DEFAULT_SEED)"
    },
    {
      "file": "lib/splitmix_ternary.rb",
      "pattern_type": "function_definition",
      "start_line": 258,
      "end_line": 258,
      "symbols": [
        "self"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 42,
      "snippet": "  def self.tripartite(seed = DEFAULT_SEED)"
    },
    {
      "file": "lib/splitmix_ternary.rb",
      "pattern_type": "function_definition",
      "start_line": 262,
      "end_line": 262,
      "symbols": [
        "self"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 50,
      "snippet": "  def self.prove_out_of_order(seed = DEFAULT_SEED)"
    },
    {
      "file": "lib/splitmix_ternary.rb",
      "pattern_type": "function_definition",
      "start_line": 270,
      "end_line": 270,
      "symbols": [
        "self"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 35,
      "snippet": "  def self.demo(seed: DEFAULT_SEED)"
    },
    {
      "file": "lib/structure.rb",
      "pattern_type": "function_definition",
      "start_line": 7,
      "end_line": 24,
      "symbols": [
        "self"
      ],
      "complexity": 3.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 445,
      "snippet": "  def self.detect(chords, key)\n    return :none if chords.size < 2\n    last = HarmonicProgression.roman_numeral(chords[-1], key)\n    prev = HarmonicProgression.roman_numeral(chords[-2], key)\n    \n    if last == 'I'\n      return :authentic if prev == 'V' || prev == 'vii\u00b0'\n      return :plagal if prev"
    },
    {
      "file": "lib/structure.rb",
      "pattern_type": "function_definition",
      "start_line": 28,
      "end_line": 28,
      "symbols": [
        "initialize"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 29,
      "snippet": "  def initialize(chords, key)"
    },
    {
      "file": "lib/structure.rb",
      "pattern_type": "function_definition",
      "start_line": 33,
      "end_line": 33,
      "symbols": [
        "antecedent?"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 17,
      "snippet": "  def antecedent?"
    },
    {
      "file": "lib/structure.rb",
      "pattern_type": "function_definition",
      "start_line": 37,
      "end_line": 37,
      "symbols": [
        "consequent?"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 17,
      "snippet": "  def consequent?"
    },
    {
      "file": "lib/structure.rb",
      "pattern_type": "class_definition",
      "start_line": 25,
      "end_line": 41,
      "symbols": [
        "Phrase"
      ],
      "complexity": 0.6,
      "leitmotif_type": "synthesis",
      "snippet_length": 272,
      "snippet": "class Phrase\n  attr_reader :chords, :cadence\n\n  def initialize(chords, key)\n    @chords = chords\n    @cadence = Cadence.detect(chords, key)\n  end\n\n  def antecedent?\n    @cadence == :half\n  end\n\n  def consequent?\n    @cadence == :authentic || @cadence == :plagal\n  end\nend\n"
    },
    {
      "file": "lib/synadia_broadcast.rb",
      "pattern_type": "function_definition",
      "start_line": 79,
      "end_line": 79,
      "symbols": [
        "self"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 84,
      "snippet": "    def self.build(mathematician:, operation:, address:, polarity:, epoch:, **extra)"
    },
    {
      "file": "lib/synadia_broadcast.rb",
      "pattern_type": "function_definition",
      "start_line": 93,
      "end_line": 93,
      "symbols": [
        "self"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 27,
      "snippet": "    def self.parse(headers)"
    },
    {
      "file": "lib/synadia_broadcast.rb",
      "pattern_type": "function_definition",
      "start_line": 106,
      "end_line": 106,
      "symbols": [
        "initialize"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 60,
      "snippet": "    def initialize(subject:, data:, headers: {}, reply: nil)"
    },
    {
      "file": "lib/synadia_broadcast.rb",
      "pattern_type": "function_definition",
      "start_line": 113,
      "end_line": 113,
      "symbols": [
        "to_nats_msg"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 19,
      "snippet": "    def to_nats_msg"
    },
    {
      "file": "lib/synadia_broadcast.rb",
      "pattern_type": "function_definition",
      "start_line": 122,
      "end_line": 122,
      "symbols": [
        "self"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 31,
      "snippet": "    def self.from_nats_msg(msg)"
    },
    {
      "file": "lib/synadia_broadcast.rb",
      "pattern_type": "function_definition",
      "start_line": 132,
      "end_line": 132,
      "symbols": [
        "to_sexp"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 15,
      "snippet": "    def to_sexp"
    },
    {
      "file": "lib/synadia_broadcast.rb",
      "pattern_type": "function_definition",
      "start_line": 149,
      "end_line": 149,
      "symbols": [
        "initialize"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 72,
      "snippet": "    def initialize(mathematician_key, nats_url: \"nats://127.0.0.1:4222\")"
    },
    {
      "file": "lib/synadia_broadcast.rb",
      "pattern_type": "function_definition",
      "start_line": 176,
      "end_line": 176,
      "symbols": [
        "ensure_stream!"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 22,
      "snippet": "    def ensure_stream!"
    },
    {
      "file": "lib/synadia_broadcast.rb",
      "pattern_type": "function_definition",
      "start_line": 244,
      "end_line": 244,
      "symbols": [
        "publish"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 44,
      "snippet": "    def publish(subject, data, headers = {})"
    },
    {
      "file": "lib/synadia_broadcast.rb",
      "pattern_type": "function_definition",
      "start_line": 258,
      "end_line": 258,
      "symbols": [
        "subscribe_backward!"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 97,
      "snippet": "    def subscribe_backward!(pattern = \"#{SUBJECT_PREFIX}.backward.#{@mathematician_key}\", &block)"
    },
    {
      "file": "lib/synadia_broadcast.rb",
      "pattern_type": "function_definition",
      "start_line": 284,
      "end_line": 284,
      "symbols": [
        "subscribe_superposition!"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 40,
      "snippet": "    def subscribe_superposition!(&block)"
    },
    {
      "file": "lib/synadia_broadcast.rb",
      "pattern_type": "function_definition",
      "start_line": 302,
      "end_line": 302,
      "symbols": [
        "initialize"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 111,
      "snippet": "    def initialize(mathematician_keys = [:ramanujan, :grothendieck, :euler], nats_url: \"nats://127.0.0.1:4222\")"
    },
    {
      "file": "lib/synadia_broadcast.rb",
      "pattern_type": "function_definition",
      "start_line": 327,
      "end_line": 327,
      "symbols": [
        "step!"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 13,
      "snippet": "    def step!"
    },
    {
      "file": "lib/synadia_broadcast.rb",
      "pattern_type": "function_definition",
      "start_line": 341,
      "end_line": 341,
      "symbols": [
        "compute_superposition"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 38,
      "snippet": "    def compute_superposition(results)"
    },
    {
      "file": "lib/synadia_broadcast.rb",
      "pattern_type": "function_definition",
      "start_line": 363,
      "end_line": 363,
      "symbols": [
        "polarity_weight"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 33,
      "snippet": "    def polarity_weight(polarity)"
    },
    {
      "file": "lib/synadia_broadcast.rb",
      "pattern_type": "function_definition",
      "start_line": 372,
      "end_line": 372,
      "symbols": [
        "publish_superposition!"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 45,
      "snippet": "    def publish_superposition!(superposition)"
    },
    {
      "file": "lib/synadia_broadcast.rb",
      "pattern_type": "function_definition",
      "start_line": 389,
      "end_line": 389,
      "symbols": [
        "run!"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 24,
      "snippet": "    def run!(steps = 12)"
    },
    {
      "file": "lib/synadia_broadcast.rb",
      "pattern_type": "function_definition",
      "start_line": 403,
      "end_line": 403,
      "symbols": [
        "self"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 42,
      "snippet": "    def self.generate_panel(result, epoch)"
    },
    {
      "file": "lib/synadia_broadcast.rb",
      "pattern_type": "function_definition",
      "start_line": 428,
      "end_line": 428,
      "symbols": [
        "self"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 79,
      "snippet": "    def self.generate_tabloid(system_results, title: \"Category Theory Tabloid\")"
    },
    {
      "file": "lib/synadia_broadcast.rb",
      "pattern_type": "function_definition",
      "start_line": 522,
      "end_line": 522,
      "symbols": [
        "self"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 86,
      "snippet": "  def self.demo(mathematicians: [:depaiva, :hedges, :girard], steps: 6, verbose: true)"
    },
    {
      "file": "lib/synergistic_triads.rb",
      "pattern_type": "function_definition",
      "start_line": 62,
      "end_line": 62,
      "symbols": [
        "initialize"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 42,
      "snippet": "    def initialize(skill1, skill2, skill3)"
    },
    {
      "file": "lib/synergistic_triads.rb",
      "pattern_type": "function_definition",
      "start_line": 69,
      "end_line": 69,
      "symbols": [
        "gf3_conserved?"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 22,
      "snippet": "    def gf3_conserved?"
    },
    {
      "file": "lib/synergistic_triads.rb",
      "pattern_type": "function_definition",
      "start_line": 84,
      "end_line": 84,
      "symbols": [
        "to_s"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 12,
      "snippet": "    def to_s"
    },
    {
      "file": "lib/synergistic_triads.rb",
      "pattern_type": "function_definition",
      "start_line": 89,
      "end_line": 89,
      "symbols": [
        "to_h"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 12,
      "snippet": "    def to_h"
    },
    {
      "file": "lib/synergistic_triads.rb",
      "pattern_type": "function_definition",
      "start_line": 149,
      "end_line": 149,
      "symbols": [
        "self"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 32,
      "snippet": "  def self.find_all_valid_triads"
    },
    {
      "file": "lib/synergistic_triads.rb",
      "pattern_type": "function_definition",
      "start_line": 162,
      "end_line": 162,
      "symbols": [
        "self"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 39,
      "snippet": "  def self.triads_for_skill(skill_name)"
    },
    {
      "file": "lib/synergistic_triads.rb",
      "pattern_type": "function_definition",
      "start_line": 167,
      "end_line": 167,
      "symbols": [
        "self"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 54,
      "snippet": "  def self.replacement_triads(skill_name, target_trit)"
    },
    {
      "file": "lib/synergistic_triads.rb",
      "pattern_type": "function_definition",
      "start_line": 184,
      "end_line": 184,
      "symbols": [
        "initialize"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 31,
      "snippet": "    def initialize(seed: 0x42D)"
    },
    {
      "file": "lib/synergistic_triads.rb",
      "pattern_type": "function_definition",
      "start_line": 190,
      "end_line": 190,
      "symbols": [
        "determine_triad"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 36,
      "snippet": "    def determine_triad(task_domain)"
    },
    {
      "file": "lib/synergistic_triads.rb",
      "pattern_type": "function_definition",
      "start_line": 216,
      "end_line": 216,
      "symbols": [
        "execute_with_triad"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 39,
      "snippet": "    def execute_with_triad(task_domain)"
    },
    {
      "file": "lib/synergistic_triads.rb",
      "pattern_type": "function_definition",
      "start_line": 233,
      "end_line": 233,
      "symbols": [
        "self"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 15,
      "snippet": "  def self.demo"
    },
    {
      "file": "lib/synergistic_triads.rb",
      "pattern_type": "function_definition",
      "start_line": 284,
      "end_line": 284,
      "symbols": [
        "self"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 45,
      "snippet": "  def self.colored_triad(skills, seed: 0x42D)"
    },
    {
      "file": "lib/synergistic_triads.rb",
      "pattern_type": "function_definition",
      "start_line": 308,
      "end_line": 308,
      "symbols": [
        "self"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 39,
      "snippet": "  def self.replacements_for(skill_name)"
    },
    {
      "file": "lib/synergistic_triads.rb",
      "pattern_type": "function_definition",
      "start_line": 317,
      "end_line": 317,
      "symbols": [
        "self"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 56,
      "snippet": "  def self.load_triad_for_task(task_domain, seed: 0x42D)"
    },
    {
      "file": "lib/tailscale_file_transfer_skill.rb",
      "pattern_type": "function_definition",
      "start_line": 87,
      "end_line": 136,
      "symbols": [
        "create_file_transfer_lens"
      ],
      "complexity": 0.7,
      "leitmotif_type": "synthesis",
      "snippet_length": 1621,
      "snippet": "  def create_file_transfer_lens\n    Lens.new(\n      name: \"file_transfer\",\n\n      # Forward pass (play): Sender sends file through Tailscale\n      forward: ->(context) {\n        file_path = context[:file_path]\n        recipient = context[:recipient]\n\n        # Resolve recipient to Tailscale IP\n     "
    },
    {
      "file": "lib/tailscale_file_transfer_skill.rb",
      "pattern_type": "function_definition",
      "start_line": 155,
      "end_line": 204,
      "symbols": [
        "create_receiver_coplay_lens"
      ],
      "complexity": 2.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 1570,
      "snippet": "  def create_receiver_coplay_lens\n    Lens.new(\n      name: \"file_receiver\",\n\n      # Forward pass (play): Receiver prepares to accept file\n      forward: ->(context) {\n        transfer_id = context[:transfer_id]\n        sender_ip = context[:sender_ip]\n        expected_hash = context[:file_hash]\n   "
    },
    {
      "file": "lib/tailscale_file_transfer_skill.rb",
      "pattern_type": "function_definition",
      "start_line": 219,
      "end_line": 268,
      "symbols": [
        "play"
      ],
      "complexity": 1.4,
      "leitmotif_type": "synthesis",
      "snippet_length": 1583,
      "snippet": "  def play(file_path:, recipient:, strategy: :sequential)\n    unless File.exist?(file_path)\n      raise \"File not found: #{file_path}\"\n    end\n\n    # Create context for lens\n    context = {\n      file_path: file_path,\n      recipient: recipient,\n      strategy: strategy\n    }\n\n    # Forward pass: pr"
    },
    {
      "file": "lib/tailscale_file_transfer_skill.rb",
      "pattern_type": "function_definition",
      "start_line": 346,
      "end_line": 395,
      "symbols": [
        "coplay"
      ],
      "complexity": 1.9,
      "leitmotif_type": "synthesis",
      "snippet_length": 1852,
      "snippet": "  def coplay(transfer_id:, delivered:, bytes_received: nil, transfer_time: nil)\n    puts \"\\n[COPLAY] Acknowledgment Received\"\n    puts \"  Transfer ID: #{transfer_id}\"\n    puts \"  Delivered: #{delivered}\"\n\n    transfer_log_entry = @transfer_log.find { |t| t[:transfer_id] == transfer_id }\n    return {"
    },
    {
      "file": "lib/tailscale_file_transfer_skill.rb",
      "pattern_type": "function_definition",
      "start_line": 423,
      "end_line": 471,
      "symbols": [
        "generate_transfer_id"
      ],
      "complexity": 2.5,
      "leitmotif_type": "synthesis",
      "snippet_length": 1409,
      "snippet": "  def generate_transfer_id\n    \"transfer_#{Time.now.to_i}_#{SecureRandom.hex(4)}\"\n  end\n\n  def get_local_tailscale_ip\n    # Would query `tailscale ip -4` in production\n    \"100.64.0.1\"\n  end\n\n  def format_bytes(bytes)\n    case bytes\n    when 0...1024\n      \"#{bytes}B\"\n    when 1024...1024**2\n      \""
    },
    {
      "file": "lib/tailscale_file_transfer_skill.rb",
      "pattern_type": "function_definition",
      "start_line": 427,
      "end_line": 471,
      "symbols": [
        "get_local_tailscale_ip"
      ],
      "complexity": 2.3,
      "leitmotif_type": "synthesis",
      "snippet_length": 1320,
      "snippet": "  def get_local_tailscale_ip\n    # Would query `tailscale ip -4` in production\n    \"100.64.0.1\"\n  end\n\n  def format_bytes(bytes)\n    case bytes\n    when 0...1024\n      \"#{bytes}B\"\n    when 1024...1024**2\n      \"#{(bytes / 1024.0).round(1)}KB\"\n    when 1024**2...1024**3\n      \"#{(bytes / (1024**2).to"
    },
    {
      "file": "lib/tailscale_file_transfer_skill.rb",
      "pattern_type": "function_definition",
      "start_line": 432,
      "end_line": 471,
      "symbols": [
        "format_bytes"
      ],
      "complexity": 2.1,
      "leitmotif_type": "synthesis",
      "snippet_length": 1217,
      "snippet": "  def format_bytes(bytes)\n    case bytes\n    when 0...1024\n      \"#{bytes}B\"\n    when 1024...1024**2\n      \"#{(bytes / 1024.0).round(1)}KB\"\n    when 1024**2...1024**3\n      \"#{(bytes / (1024**2).to_f).round(1)}MB\"\n    else\n      \"#{(bytes / (1024**3).to_f).round(1)}GB\"\n    end\n  end\n\n  def transfer_"
    },
    {
      "file": "lib/tailscale_file_transfer_skill.rb",
      "pattern_type": "function_definition",
      "start_line": 445,
      "end_line": 471,
      "symbols": [
        "transfer_history"
      ],
      "complexity": 0.9,
      "leitmotif_type": "synthesis",
      "snippet_length": 932,
      "snippet": "  def transfer_history\n    @transfer_log\n  end\n\n  def transfer_stats\n    return {} if @transfer_log.empty?\n\n    total_bytes = @transfer_log.sum { |t| t[:bytes] || 0 }\n    total_time = @transfer_log.sum { |t| t[:time_seconds] || 0 }\n    successful = @transfer_log.count { |t| t[:success] }\n\n    {\n    "
    },
    {
      "file": "lib/tailscale_file_transfer_skill.rb",
      "pattern_type": "function_definition",
      "start_line": 449,
      "end_line": 471,
      "symbols": [
        "transfer_stats"
      ],
      "complexity": 0.7,
      "leitmotif_type": "synthesis",
      "snippet_length": 884,
      "snippet": "  def transfer_stats\n    return {} if @transfer_log.empty?\n\n    total_bytes = @transfer_log.sum { |t| t[:bytes] || 0 }\n    total_time = @transfer_log.sum { |t| t[:time_seconds] || 0 }\n    successful = @transfer_log.count { |t| t[:success] }\n\n    {\n      total_transfers: @transfer_log.size,\n      suc"
    },
    {
      "file": "lib/tailscale_file_transfer_skill.rb",
      "pattern_type": "function_definition",
      "start_line": 475,
      "end_line": 475,
      "symbols": [
        "initialize"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 54,
      "snippet": "  def initialize(seed = SplitMixTernary::DEFAULT_SEED)"
    },
    {
      "file": "lib/tailscale_file_transfer_skill.rb",
      "pattern_type": "function_definition",
      "start_line": 481,
      "end_line": 481,
      "symbols": [
        "initialize_mock_network"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 29,
      "snippet": "  def initialize_mock_network"
    },
    {
      "file": "lib/tailscale_file_transfer_skill.rb",
      "pattern_type": "function_definition",
      "start_line": 492,
      "end_line": 492,
      "symbols": [
        "discover_peers"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 20,
      "snippet": "  def discover_peers"
    },
    {
      "file": "lib/tailscale_file_transfer_skill.rb",
      "pattern_type": "function_definition",
      "start_line": 496,
      "end_line": 496,
      "symbols": [
        "peer_latency"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 27,
      "snippet": "  def peer_latency(peer_ip)"
    },
    {
      "file": "lib/tailscale_file_transfer_skill.rb",
      "pattern_type": "function_definition",
      "start_line": 507,
      "end_line": 507,
      "symbols": [
        "peer_bandwidth"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 29,
      "snippet": "  def peer_bandwidth(peer_ip)"
    },
    {
      "file": "lib/tdx_color_logic.rb",
      "pattern_type": "function_definition",
      "start_line": 32,
      "end_line": 32,
      "symbols": [
        "self"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 20,
      "snippet": "    def self.name(s)"
    },
    {
      "file": "lib/tdx_color_logic.rb",
      "pattern_type": "function_definition",
      "start_line": 36,
      "end_line": 36,
      "symbols": [
        "self"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 22,
      "snippet": "    def self.symbol(s)"
    },
    {
      "file": "lib/tdx_color_logic.rb",
      "pattern_type": "function_definition",
      "start_line": 41,
      "end_line": 41,
      "symbols": [
        "self"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 22,
      "snippet": "    def self.add(a, b)"
    },
    {
      "file": "lib/tdx_color_logic.rb",
      "pattern_type": "function_definition",
      "start_line": 45,
      "end_line": 45,
      "symbols": [
        "self"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 22,
      "snippet": "    def self.negate(s)"
    },
    {
      "file": "lib/tdx_color_logic.rb",
      "pattern_type": "function_definition",
      "start_line": 49,
      "end_line": 49,
      "symbols": [
        "self"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 27,
      "snippet": "    def self.multiply(a, b)"
    },
    {
      "file": "lib/tdx_color_logic.rb",
      "pattern_type": "function_definition",
      "start_line": 73,
      "end_line": 73,
      "symbols": [
        "contravariant?"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 22,
      "snippet": "    def contravariant?"
    },
    {
      "file": "lib/tdx_color_logic.rb",
      "pattern_type": "function_definition",
      "start_line": 78,
      "end_line": 78,
      "symbols": [
        "covariant?"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 18,
      "snippet": "    def covariant?"
    },
    {
      "file": "lib/tdx_color_logic.rb",
      "pattern_type": "function_definition",
      "start_line": 83,
      "end_line": 83,
      "symbols": [
        "ergodic?"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 16,
      "snippet": "    def ergodic?"
    },
    {
      "file": "lib/tdx_color_logic.rb",
      "pattern_type": "function_definition",
      "start_line": 87,
      "end_line": 87,
      "symbols": [
        "to_s"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 12,
      "snippet": "    def to_s"
    },
    {
      "file": "lib/tdx_color_logic.rb",
      "pattern_type": "function_definition",
      "start_line": 91,
      "end_line": 91,
      "symbols": [
        "inspect"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 15,
      "snippet": "    def inspect"
    },
    {
      "file": "lib/tdx_color_logic.rb",
      "pattern_type": "function_definition",
      "start_line": 115,
      "end_line": 115,
      "symbols": [
        "compose"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 22,
      "snippet": "    def compose(other)"
    },
    {
      "file": "lib/tdx_color_logic.rb",
      "pattern_type": "function_definition",
      "start_line": 121,
      "end_line": 121,
      "symbols": [
        "to_s"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 12,
      "snippet": "    def to_s"
    },
    {
      "file": "lib/tdx_color_logic.rb",
      "pattern_type": "function_definition",
      "start_line": 125,
      "end_line": 125,
      "symbols": [
        "inspect"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 15,
      "snippet": "    def inspect"
    },
    {
      "file": "lib/tdx_color_logic.rb",
      "pattern_type": "function_definition",
      "start_line": 132,
      "end_line": 132,
      "symbols": [
        "initialize"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 24,
      "snippet": "    def initialize(f, g)"
    },
    {
      "file": "lib/tdx_color_logic.rb",
      "pattern_type": "function_definition",
      "start_line": 165,
      "end_line": 165,
      "symbols": [
        "vertical_compose"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 31,
      "snippet": "    def vertical_compose(other)"
    },
    {
      "file": "lib/tdx_color_logic.rb",
      "pattern_type": "function_definition",
      "start_line": 172,
      "end_line": 172,
      "symbols": [
        "horizontal_compose"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 33,
      "snippet": "    def horizontal_compose(other)"
    },
    {
      "file": "lib/tdx_color_logic.rb",
      "pattern_type": "function_definition",
      "start_line": 177,
      "end_line": 177,
      "symbols": [
        "to_s"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 12,
      "snippet": "    def to_s"
    },
    {
      "file": "lib/tdx_color_logic.rb",
      "pattern_type": "function_definition",
      "start_line": 181,
      "end_line": 181,
      "symbols": [
        "inspect"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 15,
      "snippet": "    def inspect"
    },
    {
      "file": "lib/tdx_color_logic.rb",
      "pattern_type": "function_definition",
      "start_line": 187,
      "end_line": 187,
      "symbols": [
        "initialize"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 37,
      "snippet": "    def initialize(alpha, beta, mode)"
    },
    {
      "file": "lib/tdx_color_logic.rb",
      "pattern_type": "function_definition",
      "start_line": 208,
      "end_line": 208,
      "symbols": [
        "self"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 61,
      "snippet": "    def self.check_abstraction(domain, codomain, body_shadow)"
    },
    {
      "file": "lib/tdx_color_logic.rb",
      "pattern_type": "function_definition",
      "start_line": 225,
      "end_line": 225,
      "symbols": [
        "self"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 41,
      "snippet": "    def self.check_application(func, arg)"
    },
    {
      "file": "lib/tdx_color_logic.rb",
      "pattern_type": "function_definition",
      "start_line": 258,
      "end_line": 258,
      "symbols": [
        "self"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 36,
      "snippet": "    def self.check_composition(f, g)"
    },
    {
      "file": "lib/tdx_color_logic.rb",
      "pattern_type": "function_definition",
      "start_line": 281,
      "end_line": 281,
      "symbols": [
        "initialize"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 37,
      "snippet": "    def initialize(expression, cells)"
    },
    {
      "file": "lib/tdx_color_logic.rb",
      "pattern_type": "function_definition",
      "start_line": 289,
      "end_line": 289,
      "symbols": [
        "compute_balance"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 23,
      "snippet": "    def compute_balance"
    },
    {
      "file": "lib/tdx_color_logic.rb",
      "pattern_type": "function_definition",
      "start_line": 299,
      "end_line": 299,
      "symbols": [
        "to_s"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 12,
      "snippet": "    def to_s"
    },
    {
      "file": "lib/tdx_color_logic.rb",
      "pattern_type": "function_definition",
      "start_line": 315,
      "end_line": 315,
      "symbols": [
        "initialize"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 31,
      "snippet": "    def initialize(seed: 0x42D)"
    },
    {
      "file": "lib/tdx_color_logic.rb",
      "pattern_type": "function_definition",
      "start_line": 325,
      "end_line": 325,
      "symbols": [
        "verify"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 33,
      "snippet": "    def verify(expression, cells)"
    },
    {
      "file": "lib/tdx_color_logic.rb",
      "pattern_type": "function_definition",
      "start_line": 330,
      "end_line": 330,
      "symbols": [
        "verify_derivation"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 44,
      "snippet": "    def verify_derivation(root_expr, &block)"
    },
    {
      "file": "lib/tdx_color_logic.rb",
      "pattern_type": "function_definition",
      "start_line": 344,
      "end_line": 344,
      "symbols": [
        "self"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 40,
      "snippet": "    def self.shadow_conservation_theorem"
    },
    {
      "file": "lib/tdx_color_logic.rb",
      "pattern_type": "function_definition",
      "start_line": 364,
      "end_line": 364,
      "symbols": [
        "self"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 32,
      "snippet": "    def self.gf3_balance_theorem"
    },
    {
      "file": "lib/tdx_color_logic.rb",
      "pattern_type": "function_definition",
      "start_line": 393,
      "end_line": 393,
      "symbols": [
        "self"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 39,
      "snippet": "    def self.two_cell_coherence_theorem"
    },
    {
      "file": "lib/tdx_color_logic.rb",
      "pattern_type": "function_definition",
      "start_line": 415,
      "end_line": 415,
      "symbols": [
        "self"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 29,
      "snippet": "    def self.print_metatheory"
    },
    {
      "file": "lib/tdx_color_logic.rb",
      "pattern_type": "function_definition",
      "start_line": 438,
      "end_line": 438,
      "symbols": [
        "initialize"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 31,
      "snippet": "    def initialize(seed: 0x42D)"
    },
    {
      "file": "lib/tdx_color_logic.rb",
      "pattern_type": "function_definition",
      "start_line": 445,
      "end_line": 445,
      "symbols": [
        "wire"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 43,
      "snippet": "    def wire(name, shadow: Shadow::ERGODIC)"
    },
    {
      "file": "lib/tdx_color_logic.rb",
      "pattern_type": "function_definition",
      "start_line": 452,
      "end_line": 452,
      "symbols": [
        "box"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 37,
      "snippet": "    def box(name, domain:, codomain:)"
    },
    {
      "file": "lib/tdx_color_logic.rb",
      "pattern_type": "function_definition",
      "start_line": 459,
      "end_line": 459,
      "symbols": [
        "to_discopy"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 18,
      "snippet": "    def to_discopy"
    },
    {
      "file": "lib/tdx_color_logic.rb",
      "pattern_type": "function_definition",
      "start_line": 467,
      "end_line": 467,
      "symbols": [
        "verify!"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 15,
      "snippet": "    def verify!"
    },
    {
      "file": "lib/tdx_color_logic.rb",
      "pattern_type": "function_definition",
      "start_line": 477,
      "end_line": 477,
      "symbols": [
        "self"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 15,
      "snippet": "  def self.demo"
    },
    {
      "file": "lib/tdx_color_logic.rb",
      "pattern_type": "class_definition",
      "start_line": 98,
      "end_line": 197,
      "symbols": [
        "Cell1"
      ],
      "complexity": 4.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 3209,
      "snippet": "  class Cell1\n    attr_reader :name, :domain, :codomain, :shadow, :color\n    \n    def initialize(name, domain:, codomain:, seed: 0x42D, index: 0)\n      @name = name\n      @domain = domain\n      @codomain = codomain\n      \n      # Shadow is computed: codomain - domain (variance composition)\n      @sh"
    },
    {
      "file": "lib/tdx_color_logic.rb",
      "pattern_type": "class_definition",
      "start_line": 131,
      "end_line": 230,
      "symbols": [
        "ComposedCell1"
      ],
      "complexity": 3.3,
      "leitmotif_type": "synthesis",
      "snippet_length": 3534,
      "snippet": "  class ComposedCell1 < Cell1\n    def initialize(f, g)\n      @f = f\n      @g = g\n      @name = \"(#{g.name} \u2218 #{f.name})\"\n      @domain = f.domain\n      @codomain = g.codomain\n      @shadow = Shadow.add(f.shadow, g.shadow)\n      @color = SeedMiner.color_at(0x42D, f.color[:index].to_i + g.color[:index"
    },
    {
      "file": "lib/tdx_color_logic.rb",
      "pattern_type": "class_definition",
      "start_line": 145,
      "end_line": 244,
      "symbols": [
        "Cell2"
      ],
      "complexity": 3.1,
      "leitmotif_type": "synthesis",
      "snippet_length": 3465,
      "snippet": "  class Cell2\n    attr_reader :name, :source, :target, :shadow, :color\n    \n    def initialize(name, source:, target:, seed: 0x42D, index: 0)\n      @name = name\n      @source = source\n      @target = target\n      \n      raise TypeError, \"2-cell source/target must have same domain\" unless source.doma"
    },
    {
      "file": "lib/tdx_color_logic.rb",
      "pattern_type": "class_definition",
      "start_line": 186,
      "end_line": 285,
      "symbols": [
        "ComposedCell2"
      ],
      "complexity": 1.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 3293,
      "snippet": "  class ComposedCell2 < Cell2\n    def initialize(alpha, beta, mode)\n      @alpha = alpha\n      @beta = beta\n      @mode = mode\n      @name = mode == :vertical ? \"(#{beta.name} \u2299 #{alpha.name})\" : \"(#{beta.name} * #{alpha.name})\"\n      @source = mode == :vertical ? alpha.source : alpha.source.compose"
    },
    {
      "file": "lib/ternary_computer.rb",
      "pattern_type": "function_definition",
      "start_line": 15,
      "end_line": 15,
      "symbols": [
        "initialize"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 21,
      "snippet": "    def initialize(v)"
    },
    {
      "file": "lib/ternary_computer.rb",
      "pattern_type": "function_definition",
      "start_line": 23,
      "end_line": 23,
      "symbols": [
        "to_s"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 34,
      "snippet": "    def to_s; SYMBOLS[@value]; end"
    },
    {
      "file": "lib/ternary_computer.rb",
      "pattern_type": "function_definition",
      "start_line": 34,
      "end_line": 34,
      "symbols": [
        "initialize"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 36,
      "snippet": "    def initialize(value, width: 12)"
    },
    {
      "file": "lib/ternary_computer.rb",
      "pattern_type": "function_definition",
      "start_line": 45,
      "end_line": 45,
      "symbols": [
        "to_i"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 12,
      "snippet": "    def to_i"
    },
    {
      "file": "lib/ternary_computer.rb",
      "pattern_type": "function_definition",
      "start_line": 49,
      "end_line": 49,
      "symbols": [
        "to_s"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 12,
      "snippet": "    def to_s"
    },
    {
      "file": "lib/ternary_computer.rb",
      "pattern_type": "function_definition",
      "start_line": 91,
      "end_line": 91,
      "symbols": [
        "compare"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 22,
      "snippet": "    def compare(other)"
    },
    {
      "file": "lib/ternary_computer.rb",
      "pattern_type": "function_definition",
      "start_line": 99,
      "end_line": 99,
      "symbols": [
        "int_to_trits"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 30,
      "snippet": "    def int_to_trits(n, width)"
    },
    {
      "file": "lib/ternary_computer.rb",
      "pattern_type": "function_definition",
      "start_line": 124,
      "end_line": 124,
      "symbols": [
        "initialize"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 18,
      "snippet": "    def initialize"
    },
    {
      "file": "lib/ternary_computer.rb",
      "pattern_type": "function_definition",
      "start_line": 147,
      "end_line": 147,
      "symbols": [
        "load_program"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 29,
      "snippet": "    def load_program(program)"
    },
    {
      "file": "lib/ternary_computer.rb",
      "pattern_type": "function_definition",
      "start_line": 151,
      "end_line": 151,
      "symbols": [
        "step"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 12,
      "snippet": "    def step"
    },
    {
      "file": "lib/ternary_computer.rb",
      "pattern_type": "function_definition",
      "start_line": 166,
      "end_line": 166,
      "symbols": [
        "run"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 29,
      "snippet": "    def run(max_cycles: 1000)"
    },
    {
      "file": "lib/ternary_computer.rb",
      "pattern_type": "function_definition",
      "start_line": 173,
      "end_line": 173,
      "symbols": [
        "trit3_to_idx"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 27,
      "snippet": "    def trit3_to_idx(trits)"
    },
    {
      "file": "lib/ternary_computer.rb",
      "pattern_type": "function_definition",
      "start_line": 177,
      "end_line": 177,
      "symbols": [
        "execute"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 36,
      "snippet": "    def execute(op, dst, src1, src2)"
    },
    {
      "file": "lib/three_match_geodesic_gadget.rb",
      "pattern_type": "function_definition",
      "start_line": 29,
      "end_line": 29,
      "symbols": [
        "initialize"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 41,
      "snippet": "    def initialize(seed: 0x42D, depth: 1)"
    },
    {
      "file": "lib/three_match_geodesic_gadget.rb",
      "pattern_type": "function_definition",
      "start_line": 38,
      "end_line": 38,
      "symbols": [
        "generate_triplet"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 24,
      "snippet": "    def generate_triplet"
    },
    {
      "file": "lib/three_match_geodesic_gadget.rb",
      "pattern_type": "function_definition",
      "start_line": 49,
      "end_line": 49,
      "symbols": [
        "trit_to_hex"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 33,
      "snippet": "    def trit_to_hex(trit, offset)"
    },
    {
      "file": "lib/three_match_geodesic_gadget.rb",
      "pattern_type": "function_definition",
      "start_line": 65,
      "end_line": 65,
      "symbols": [
        "hsl_to_rgb"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 27,
      "snippet": "    def hsl_to_rgb(h, s, l)"
    },
    {
      "file": "lib/three_match_geodesic_gadget.rb",
      "pattern_type": "function_definition",
      "start_line": 83,
      "end_line": 83,
      "symbols": [
        "matches_at_depth?"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 37,
      "snippet": "    def matches_at_depth?(d = @depth)"
    },
    {
      "file": "lib/three_match_geodesic_gadget.rb",
      "pattern_type": "function_definition",
      "start_line": 96,
      "end_line": 96,
      "symbols": [
        "valuation_3"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 22,
      "snippet": "    def valuation_3(n)"
    },
    {
      "file": "lib/three_match_geodesic_gadget.rb",
      "pattern_type": "function_definition",
      "start_line": 107,
      "end_line": 107,
      "symbols": [
        "gf3_conserved?"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 22,
      "snippet": "    def gf3_conserved?"
    },
    {
      "file": "lib/three_match_geodesic_gadget.rb",
      "pattern_type": "function_definition",
      "start_line": 112,
      "end_line": 112,
      "symbols": [
        "to_s"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 12,
      "snippet": "    def to_s"
    },
    {
      "file": "lib/three_match_geodesic_gadget.rb",
      "pattern_type": "function_definition",
      "start_line": 124,
      "end_line": 124,
      "symbols": [
        "trit_to_hex"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 33,
      "snippet": "    def trit_to_hex(trit, offset)"
    },
    {
      "file": "lib/three_match_geodesic_gadget.rb",
      "pattern_type": "function_definition",
      "start_line": 147,
      "end_line": 147,
      "symbols": [
        "initialize"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 43,
      "snippet": "    def initialize(seed: 0x42D, length: 12)"
    },
    {
      "file": "lib/three_match_geodesic_gadget.rb",
      "pattern_type": "function_definition",
      "start_line": 157,
      "end_line": 157,
      "symbols": [
        "generate!"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 17,
      "snippet": "    def generate!"
    },
    {
      "file": "lib/three_match_geodesic_gadget.rb",
      "pattern_type": "function_definition",
      "start_line": 189,
      "end_line": 189,
      "symbols": [
        "prime?"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 14,
      "snippet": "    def prime?"
    },
    {
      "file": "lib/three_match_geodesic_gadget.rb",
      "pattern_type": "function_definition",
      "start_line": 194,
      "end_line": 194,
      "symbols": [
        "moebius_product"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 23,
      "snippet": "    def moebius_product"
    },
    {
      "file": "lib/three_match_geodesic_gadget.rb",
      "pattern_type": "function_definition",
      "start_line": 211,
      "end_line": 211,
      "symbols": [
        "to_s"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 12,
      "snippet": "    def to_s"
    },
    {
      "file": "lib/three_match_geodesic_gadget.rb",
      "pattern_type": "function_definition",
      "start_line": 233,
      "end_line": 233,
      "symbols": [
        "initialize"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 31,
      "snippet": "    def initialize(seed: 0x42D)"
    },
    {
      "file": "lib/three_match_geodesic_gadget.rb",
      "pattern_type": "function_definition",
      "start_line": 246,
      "end_line": 246,
      "symbols": [
        "build_gadgets!"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 22,
      "snippet": "    def build_gadgets!"
    },
    {
      "file": "lib/three_match_geodesic_gadget.rb",
      "pattern_type": "function_definition",
      "start_line": 273,
      "end_line": 273,
      "symbols": [
        "satisfies?"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 30,
      "snippet": "    def satisfies?(assignment)"
    },
    {
      "file": "lib/three_match_geodesic_gadget.rb",
      "pattern_type": "function_definition",
      "start_line": 285,
      "end_line": 285,
      "symbols": [
        "isomorphism_check"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 25,
      "snippet": "    def isomorphism_check"
    },
    {
      "file": "lib/three_match_geodesic_gadget.rb",
      "pattern_type": "function_definition",
      "start_line": 310,
      "end_line": 310,
      "symbols": [
        "correct_by_construction?"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 32,
      "snippet": "    def correct_by_construction?"
    },
    {
      "file": "lib/three_match_geodesic_gadget.rb",
      "pattern_type": "function_definition",
      "start_line": 331,
      "end_line": 331,
      "symbols": [
        "initialize"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 31,
      "snippet": "    def initialize(seed: 0x42D)"
    },
    {
      "file": "lib/three_match_geodesic_gadget.rb",
      "pattern_type": "function_definition",
      "start_line": 338,
      "end_line": 338,
      "symbols": [
        "forward"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 25,
      "snippet": "    def forward(sequence)"
    },
    {
      "file": "lib/three_match_geodesic_gadget.rb",
      "pattern_type": "function_definition",
      "start_line": 384,
      "end_line": 384,
      "symbols": [
        "full_cycle"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 28,
      "snippet": "    def full_cycle(sequence)"
    },
    {
      "file": "lib/three_match_geodesic_gadget.rb",
      "pattern_type": "function_definition",
      "start_line": 402,
      "end_line": 402,
      "symbols": [
        "self"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 15,
      "snippet": "  def self.demo"
    },
    {
      "file": "lib/tritwise_letter_spirit.rb",
      "pattern_type": "function_definition",
      "start_line": 31,
      "end_line": 31,
      "symbols": [
        "self"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 36,
      "snippet": "  def self.padic_valuation(n, p = P)"
    },
    {
      "file": "lib/tritwise_letter_spirit.rb",
      "pattern_type": "function_definition",
      "start_line": 43,
      "end_line": 43,
      "symbols": [
        "self"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 31,
      "snippet": "  def self.padic_norm(n, p = P)"
    },
    {
      "file": "lib/tritwise_letter_spirit.rb",
      "pattern_type": "function_definition",
      "start_line": 50,
      "end_line": 50,
      "symbols": [
        "self"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 48,
      "snippet": "  def self.colors_match_at_depth?(c1, c2, depth)"
    },
    {
      "file": "lib/tritwise_letter_spirit.rb",
      "pattern_type": "function_definition",
      "start_line": 62,
      "end_line": 62,
      "symbols": [
        "initialize"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 24,
      "snippet": "    def initialize(seed)"
    },
    {
      "file": "lib/tritwise_letter_spirit.rb",
      "pattern_type": "function_definition",
      "start_line": 70,
      "end_line": 70,
      "symbols": [
        "advance!"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 16,
      "snippet": "    def advance!"
    },
    {
      "file": "lib/tritwise_letter_spirit.rb",
      "pattern_type": "function_definition",
      "start_line": 77,
      "end_line": 77,
      "symbols": [
        "to_h"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 12,
      "snippet": "    def to_h"
    },
    {
      "file": "lib/tritwise_letter_spirit.rb",
      "pattern_type": "function_definition",
      "start_line": 89,
      "end_line": 89,
      "symbols": [
        "initialize"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 25,
      "snippet": "    def initialize(seeds)"
    },
    {
      "file": "lib/tritwise_letter_spirit.rb",
      "pattern_type": "function_definition",
      "start_line": 98,
      "end_line": 98,
      "symbols": [
        "perceptions"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 19,
      "snippet": "    def perceptions"
    },
    {
      "file": "lib/tritwise_letter_spirit.rb",
      "pattern_type": "function_definition",
      "start_line": 103,
      "end_line": 103,
      "symbols": [
        "pairwise_diffs"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 22,
      "snippet": "    def pairwise_diffs"
    },
    {
      "file": "lib/tritwise_letter_spirit.rb",
      "pattern_type": "function_definition",
      "start_line": 109,
      "end_line": 109,
      "symbols": [
        "three_match?"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 20,
      "snippet": "    def three_match?"
    },
    {
      "file": "lib/tritwise_letter_spirit.rb",
      "pattern_type": "function_definition",
      "start_line": 116,
      "end_line": 116,
      "symbols": [
        "interaction_color"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 25,
      "snippet": "    def interaction_color"
    },
    {
      "file": "lib/tritwise_letter_spirit.rb",
      "pattern_type": "function_definition",
      "start_line": 126,
      "end_line": 126,
      "symbols": [
        "process_entropy!"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 52,
      "snippet": "    def process_entropy!(source: \"local\", bits: nil)"
    },
    {
      "file": "lib/tritwise_letter_spirit.rb",
      "pattern_type": "function_definition",
      "start_line": 165,
      "end_line": 165,
      "symbols": [
        "run_until_mixed!"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 24,
      "snippet": "    def run_until_mixed!"
    },
    {
      "file": "lib/tritwise_letter_spirit.rb",
      "pattern_type": "function_definition",
      "start_line": 171,
      "end_line": 171,
      "symbols": [
        "strange_loop!"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 38,
      "snippet": "    def strange_loop!(iterations = 12)"
    },
    {
      "file": "lib/tritwise_letter_spirit.rb",
      "pattern_type": "function_definition",
      "start_line": 188,
      "end_line": 188,
      "symbols": [
        "split!"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 14,
      "snippet": "    def split!"
    },
    {
      "file": "lib/tritwise_letter_spirit.rb",
      "pattern_type": "function_definition",
      "start_line": 206,
      "end_line": 206,
      "symbols": [
        "to_osc_events"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 21,
      "snippet": "    def to_osc_events"
    },
    {
      "file": "lib/tritwise_letter_spirit.rb",
      "pattern_type": "function_definition",
      "start_line": 229,
      "end_line": 229,
      "symbols": [
        "to_s"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 12,
      "snippet": "    def to_s"
    },
    {
      "file": "lib/tritwise_letter_spirit.rb",
      "pattern_type": "function_definition",
      "start_line": 238,
      "end_line": 238,
      "symbols": [
        "self"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 45,
      "snippet": "  def self.demo(seeds = [0x42D, 0x69, 0x137])"
    },
    {
      "file": "lib/unworld.rb",
      "pattern_type": "function_definition",
      "start_line": 29,
      "end_line": 29,
      "symbols": [
        "self"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 39,
      "snippet": "  def self.chain_seed(seed, color_trit)"
    },
    {
      "file": "lib/unworld.rb",
      "pattern_type": "function_definition",
      "start_line": 49,
      "end_line": 49,
      "symbols": [
        "self"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 34,
      "snippet": "  def self.trit_to_hex(trit, seed)"
    },
    {
      "file": "lib/unworld.rb",
      "pattern_type": "function_definition",
      "start_line": 62,
      "end_line": 62,
      "symbols": [
        "self"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 30,
      "snippet": "  def self.hsl_to_hex(h, s, l)"
    },
    {
      "file": "lib/unworld.rb",
      "pattern_type": "function_definition",
      "start_line": 85,
      "end_line": 85,
      "symbols": [
        "initialize"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 51,
      "snippet": "    def initialize(genesis_seed: 0x42D, length: 12)"
    },
    {
      "file": "lib/unworld.rb",
      "pattern_type": "function_definition",
      "start_line": 93,
      "end_line": 93,
      "symbols": [
        "derive_chain!"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 21,
      "snippet": "    def derive_chain!"
    },
    {
      "file": "lib/unworld.rb",
      "pattern_type": "function_definition",
      "start_line": 114,
      "end_line": 114,
      "symbols": [
        "verify_chain"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 20,
      "snippet": "    def verify_chain"
    },
    {
      "file": "lib/unworld.rb",
      "pattern_type": "function_definition",
      "start_line": 122,
      "end_line": 122,
      "symbols": [
        "gf3_sum"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 15,
      "snippet": "    def gf3_sum"
    },
    {
      "file": "lib/unworld.rb",
      "pattern_type": "function_definition",
      "start_line": 127,
      "end_line": 127,
      "symbols": [
        "gf3_balanced?"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 21,
      "snippet": "    def gf3_balanced?"
    },
    {
      "file": "lib/unworld.rb",
      "pattern_type": "function_definition",
      "start_line": 132,
      "end_line": 132,
      "symbols": [
        "unworld"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 15,
      "snippet": "    def unworld"
    },
    {
      "file": "lib/unworld.rb",
      "pattern_type": "function_definition",
      "start_line": 151,
      "end_line": 151,
      "symbols": [
        "initialize"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 51,
      "snippet": "    def initialize(genesis_seed: 0x42D, length: 12)"
    },
    {
      "file": "lib/unworld.rb",
      "pattern_type": "function_definition",
      "start_line": 162,
      "end_line": 162,
      "symbols": [
        "derive_triadic!"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 23,
      "snippet": "    def derive_triadic!"
    },
    {
      "file": "lib/unworld.rb",
      "pattern_type": "function_definition",
      "start_line": 190,
      "end_line": 190,
      "symbols": [
        "gf3_at_position"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 28,
      "snippet": "    def gf3_at_position(pos)"
    },
    {
      "file": "lib/unworld.rb",
      "pattern_type": "function_definition",
      "start_line": 196,
      "end_line": 196,
      "symbols": [
        "gf3_all_conserved?"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 26,
      "snippet": "    def gf3_all_conserved?"
    },
    {
      "file": "lib/unworld.rb",
      "pattern_type": "function_definition",
      "start_line": 201,
      "end_line": 201,
      "symbols": [
        "unworld"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 15,
      "snippet": "    def unworld"
    },
    {
      "file": "lib/unworld.rb",
      "pattern_type": "function_definition",
      "start_line": 222,
      "end_line": 222,
      "symbols": [
        "initialize"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 50,
      "snippet": "    def initialize(genesis_seed: 0x42D, length: 4)"
    },
    {
      "file": "lib/unworld.rb",
      "pattern_type": "function_definition",
      "start_line": 229,
      "end_line": 229,
      "symbols": [
        "derive_matches!"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 23,
      "snippet": "    def derive_matches!"
    },
    {
      "file": "lib/unworld.rb",
      "pattern_type": "function_definition",
      "start_line": 254,
      "end_line": 254,
      "symbols": [
        "unworld"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 15,
      "snippet": "    def unworld"
    },
    {
      "file": "lib/unworld.rb",
      "pattern_type": "function_definition",
      "start_line": 276,
      "end_line": 276,
      "symbols": [
        "initialize"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 50,
      "snippet": "    def initialize(genesis_seed: 0x42D, length: 6)"
    },
    {
      "file": "lib/unworld.rb",
      "pattern_type": "function_definition",
      "start_line": 284,
      "end_line": 284,
      "symbols": [
        "derive_involution!"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 26,
      "snippet": "    def derive_involution!"
    },
    {
      "file": "lib/unworld.rb",
      "pattern_type": "function_definition",
      "start_line": 315,
      "end_line": 315,
      "symbols": [
        "involution_verified?"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 28,
      "snippet": "    def involution_verified?"
    },
    {
      "file": "lib/unworld.rb",
      "pattern_type": "function_definition",
      "start_line": 325,
      "end_line": 325,
      "symbols": [
        "unworld"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 15,
      "snippet": "    def unworld"
    },
    {
      "file": "lib/unworld.rb",
      "pattern_type": "function_definition",
      "start_line": 343,
      "end_line": 343,
      "symbols": [
        "initialize"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 55,
      "snippet": "    def initialize(genesis_seed: 0x42D, max_rounds: 10)"
    },
    {
      "file": "lib/unworld.rb",
      "pattern_type": "function_definition",
      "start_line": 350,
      "end_line": 350,
      "symbols": [
        "derive_equilibrium!"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 27,
      "snippet": "    def derive_equilibrium!"
    },
    {
      "file": "lib/unworld.rb",
      "pattern_type": "function_definition",
      "start_line": 397,
      "end_line": 397,
      "symbols": [
        "equilibrium_reached?"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 28,
      "snippet": "    def equilibrium_reached?"
    },
    {
      "file": "lib/unworld.rb",
      "pattern_type": "function_definition",
      "start_line": 401,
      "end_line": 401,
      "symbols": [
        "unworld"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 15,
      "snippet": "    def unworld"
    },
    {
      "file": "lib/unworld.rb",
      "pattern_type": "function_definition",
      "start_line": 416,
      "end_line": 416,
      "symbols": [
        "self"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 36,
      "snippet": "  def self.full_unworld(seed: 0x42D)"
    },
    {
      "file": "lib/unworld.rb",
      "pattern_type": "class_definition",
      "start_line": 82,
      "end_line": 181,
      "symbols": [
        "ColorChain"
      ],
      "complexity": 4.1,
      "leitmotif_type": "synthesis",
      "snippet_length": 2769,
      "snippet": "  class ColorChain\n    attr_reader :genesis_seed, :chain, :length\n    \n    def initialize(genesis_seed: 0x42D, length: 12)\n      @genesis_seed = genesis_seed\n      @length = length\n      @chain = []\n      derive_chain!\n    end\n    \n    # Build the derivation chain (no time, only derivation)\n    def "
    },
    {
      "file": "lib/unworld.rb",
      "pattern_type": "class_definition",
      "start_line": 148,
      "end_line": 247,
      "symbols": [
        "TriadicChain"
      ],
      "complexity": 4.9,
      "leitmotif_type": "synthesis",
      "snippet_length": 3081,
      "snippet": "  class TriadicChain\n    attr_reader :genesis_seed, :chains, :length\n    \n    def initialize(genesis_seed: 0x42D, length: 12)\n      @genesis_seed = genesis_seed\n      @length = length\n      @chains = {\n        minus: [],\n        ergodic: [],\n        plus: []\n      }\n      derive_triadic!\n    end\n   "
    },
    {
      "file": "lib/unworld.rb",
      "pattern_type": "class_definition",
      "start_line": 219,
      "end_line": 318,
      "symbols": [
        "ThreeMatchChain"
      ],
      "complexity": 3.7,
      "leitmotif_type": "synthesis",
      "snippet_length": 3239,
      "snippet": "  class ThreeMatchChain\n    attr_reader :genesis_seed, :matches, :length\n    \n    def initialize(genesis_seed: 0x42D, length: 4)\n      @genesis_seed = genesis_seed\n      @length = length\n      @matches = []\n      derive_matches!\n    end\n    \n    def derive_matches!\n      current_seed = @genesis_seed"
    },
    {
      "file": "lib/unworld.rb",
      "pattern_type": "class_definition",
      "start_line": 273,
      "end_line": 372,
      "symbols": [
        "InvolutionChain"
      ],
      "complexity": 4.7,
      "leitmotif_type": "synthesis",
      "snippet_length": 3156,
      "snippet": "  class InvolutionChain\n    attr_reader :genesis_seed, :forward_chain, :backward_chain\n    \n    def initialize(genesis_seed: 0x42D, length: 6)\n      @genesis_seed = genesis_seed\n      @length = length\n      @forward_chain = []\n      @backward_chain = []\n      derive_involution!\n    end\n    \n    def "
    },
    {
      "file": "lib/unworlding_involution.rb",
      "pattern_type": "function_definition",
      "start_line": 25,
      "end_line": 25,
      "symbols": [
        "initialize"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 31,
      "snippet": "    def initialize(seed: 0x42D)"
    },
    {
      "file": "lib/unworlding_involution.rb",
      "pattern_type": "function_definition",
      "start_line": 33,
      "end_line": 33,
      "symbols": [
        "apply!"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 14,
      "snippet": "    def apply!"
    },
    {
      "file": "lib/unworlding_involution.rb",
      "pattern_type": "function_definition",
      "start_line": 46,
      "end_line": 46,
      "symbols": [
        "self_inverse?"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 21,
      "snippet": "    def self_inverse?"
    },
    {
      "file": "lib/unworlding_involution.rb",
      "pattern_type": "function_definition",
      "start_line": 63,
      "end_line": 63,
      "symbols": [
        "fixed_point"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 19,
      "snippet": "    def fixed_point"
    },
    {
      "file": "lib/unworlding_involution.rb",
      "pattern_type": "function_definition",
      "start_line": 77,
      "end_line": 77,
      "symbols": [
        "trit_to_hex"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 25,
      "snippet": "    def trit_to_hex(trit)"
    },
    {
      "file": "lib/unworlding_involution.rb",
      "pattern_type": "function_definition",
      "start_line": 86,
      "end_line": 86,
      "symbols": [
        "invert_hex"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 23,
      "snippet": "    def invert_hex(hex)"
    },
    {
      "file": "lib/unworlding_involution.rb",
      "pattern_type": "function_definition",
      "start_line": 101,
      "end_line": 101,
      "symbols": [
        "initialize"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 31,
      "snippet": "    def initialize(seed: 0x42D)"
    },
    {
      "file": "lib/unworlding_involution.rb",
      "pattern_type": "function_definition",
      "start_line": 107,
      "end_line": 107,
      "symbols": [
        "observe_from"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 30,
      "snippet": "    def observe_from(frame_id)"
    },
    {
      "file": "lib/unworlding_involution.rb",
      "pattern_type": "function_definition",
      "start_line": 121,
      "end_line": 121,
      "symbols": [
        "frame_invariant?"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 24,
      "snippet": "    def frame_invariant?"
    },
    {
      "file": "lib/unworlding_involution.rb",
      "pattern_type": "function_definition",
      "start_line": 132,
      "end_line": 132,
      "symbols": [
        "loopy_strange"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 36,
      "snippet": "    def loopy_strange(iterations: 3)"
    },
    {
      "file": "lib/unworlding_involution.rb",
      "pattern_type": "function_definition",
      "start_line": 170,
      "end_line": 170,
      "symbols": [
        "initialize"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 31,
      "snippet": "    def initialize(seed: 0x42D)"
    },
    {
      "file": "lib/unworlding_involution.rb",
      "pattern_type": "function_definition",
      "start_line": 189,
      "end_line": 189,
      "symbols": [
        "best_response"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 28,
      "snippet": "    def best_response(my_id)"
    },
    {
      "file": "lib/unworlding_involution.rb",
      "pattern_type": "function_definition",
      "start_line": 206,
      "end_line": 206,
      "symbols": [
        "step!"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 13,
      "snippet": "    def step!"
    },
    {
      "file": "lib/unworlding_involution.rb",
      "pattern_type": "function_definition",
      "start_line": 220,
      "end_line": 220,
      "symbols": [
        "converge!"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 32,
      "snippet": "    def converge!(max_steps: 10)"
    },
    {
      "file": "lib/unworlding_involution.rb",
      "pattern_type": "function_definition",
      "start_line": 235,
      "end_line": 235,
      "symbols": [
        "gf3_conserved?"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 22,
      "snippet": "    def gf3_conserved?"
    },
    {
      "file": "lib/unworlding_involution.rb",
      "pattern_type": "function_definition",
      "start_line": 241,
      "end_line": 241,
      "symbols": [
        "nash_equilibrium?"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 25,
      "snippet": "    def nash_equilibrium?"
    },
    {
      "file": "lib/unworlding_involution.rb",
      "pattern_type": "function_definition",
      "start_line": 255,
      "end_line": 255,
      "symbols": [
        "self"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 31,
      "snippet": "  def self.unworld(seed: 0x42D)"
    },
    {
      "file": "lib/unworlding_involution.rb",
      "pattern_type": "function_definition",
      "start_line": 298,
      "end_line": 298,
      "symbols": [
        "self"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 15,
      "snippet": "  def self.demo"
    },
    {
      "file": "lib/voice_leading.rb",
      "pattern_type": "function_definition",
      "start_line": 13,
      "end_line": 13,
      "symbols": [
        "self"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 40,
      "snippet": "  def self.validate_satb(chord, octaves)"
    },
    {
      "file": "lib/voice_leading.rb",
      "pattern_type": "function_definition",
      "start_line": 45,
      "end_line": 45,
      "symbols": [
        "self"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 62,
      "snippet": "  def self.check_parallels(chord1, octaves1, chord2, octaves2)"
    },
    {
      "file": "lib/voice_leading.rb",
      "pattern_type": "function_definition",
      "start_line": 71,
      "end_line": 71,
      "symbols": [
        "self"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 66,
      "snippet": "  def self.smoothness_analysis(chord1, octaves1, chord2, octaves2)"
    },
    {
      "file": "lib/von_neumann.rb",
      "pattern_type": "function_definition",
      "start_line": 23,
      "end_line": 23,
      "symbols": [
        "initialize"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 36,
      "snippet": "    def initialize(memory_size: 256)"
    },
    {
      "file": "lib/von_neumann.rb",
      "pattern_type": "function_definition",
      "start_line": 31,
      "end_line": 31,
      "symbols": [
        "dup"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 11,
      "snippet": "    def dup"
    },
    {
      "file": "lib/von_neumann.rb",
      "pattern_type": "function_definition",
      "start_line": 41,
      "end_line": 41,
      "symbols": [
        "to_godel"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 16,
      "snippet": "    def to_godel"
    },
    {
      "file": "lib/von_neumann.rb",
      "pattern_type": "function_definition",
      "start_line": 50,
      "end_line": 50,
      "symbols": [
        "hash"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 64,
      "snippet": "    def hash; [memory, pc, accumulator, flags, halted].hash; end"
    },
    {
      "file": "lib/von_neumann.rb",
      "pattern_type": "function_definition",
      "start_line": 56,
      "end_line": 56,
      "symbols": [
        "self"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 21,
      "snippet": "    def self.first(n)"
    },
    {
      "file": "lib/von_neumann.rb",
      "pattern_type": "function_definition",
      "start_line": 66,
      "end_line": 66,
      "symbols": [
        "self"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 22,
      "snippet": "    def self.prime?(n)"
    },
    {
      "file": "lib/von_neumann.rb",
      "pattern_type": "function_definition",
      "start_line": 96,
      "end_line": 96,
      "symbols": [
        "self"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 25,
      "snippet": "    def self.decode(word)"
    },
    {
      "file": "lib/von_neumann.rb",
      "pattern_type": "function_definition",
      "start_line": 102,
      "end_line": 102,
      "symbols": [
        "self"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 36,
      "snippet": "    def self.encode(opcode, operand)"
    },
    {
      "file": "lib/von_neumann.rb",
      "pattern_type": "function_definition",
      "start_line": 112,
      "end_line": 112,
      "symbols": [
        "initialize"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 36,
      "snippet": "    def initialize(memory_size: 256)"
    },
    {
      "file": "lib/von_neumann.rb",
      "pattern_type": "function_definition",
      "start_line": 120,
      "end_line": 120,
      "symbols": [
        "load"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 21,
      "snippet": "    def load(program)"
    },
    {
      "file": "lib/von_neumann.rb",
      "pattern_type": "function_definition",
      "start_line": 125,
      "end_line": 125,
      "symbols": [
        "input"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 21,
      "snippet": "    def input(values)"
    },
    {
      "file": "lib/von_neumann.rb",
      "pattern_type": "function_definition",
      "start_line": 130,
      "end_line": 130,
      "symbols": [
        "step"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 12,
      "snippet": "    def step"
    },
    {
      "file": "lib/von_neumann.rb",
      "pattern_type": "function_definition",
      "start_line": 149,
      "end_line": 149,
      "symbols": [
        "run"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 31,
      "snippet": "    def run(max_cycles: 10_000)"
    },
    {
      "file": "lib/von_neumann.rb",
      "pattern_type": "function_definition",
      "start_line": 159,
      "end_line": 159,
      "symbols": [
        "output"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 35,
      "snippet": "    def output; @output_buffer; end"
    },
    {
      "file": "lib/von_neumann.rb",
      "pattern_type": "function_definition",
      "start_line": 163,
      "end_line": 163,
      "symbols": [
        "execute"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 32,
      "snippet": "    def execute(opcode, operand)"
    },
    {
      "file": "lib/von_neumann.rb",
      "pattern_type": "function_definition",
      "start_line": 192,
      "end_line": 192,
      "symbols": [
        "update_flags"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 20,
      "snippet": "    def update_flags"
    },
    {
      "file": "lib/von_neumann.rb",
      "pattern_type": "function_definition",
      "start_line": 203,
      "end_line": 203,
      "symbols": [
        "initialize"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 44,
      "snippet": "    def initialize(seed: 0x6761795f636f6c6f)"
    },
    {
      "file": "lib/von_neumann.rb",
      "pattern_type": "function_definition",
      "start_line": 212,
      "end_line": 212,
      "symbols": [
        "enumerate_machines"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 58,
      "snippet": "    def enumerate_machines(max_program_length: 8, base: 3)"
    },
    {
      "file": "lib/von_neumann.rb",
      "pattern_type": "function_definition",
      "start_line": 232,
      "end_line": 232,
      "symbols": [
        "dovetail_execute"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 66,
      "snippet": "    def dovetail_execute(max_steps_per_round: 10, max_rounds: 100)"
    },
    {
      "file": "lib/von_neumann.rb",
      "pattern_type": "function_definition",
      "start_line": 276,
      "end_line": 276,
      "symbols": [
        "moebius_invert_outputs"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 30,
      "snippet": "    def moebius_invert_outputs"
    },
    {
      "file": "lib/von_neumann.rb",
      "pattern_type": "function_definition",
      "start_line": 284,
      "end_line": 284,
      "symbols": [
        "find_machines_producing"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 39,
      "snippet": "    def find_machines_producing(target)"
    },
    {
      "file": "lib/von_neumann.rb",
      "pattern_type": "function_definition",
      "start_line": 291,
      "end_line": 291,
      "symbols": [
        "godel_to_program"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 41,
      "snippet": "    def godel_to_program(n, length, base)"
    },
    {
      "file": "lib/von_neumann.rb",
      "pattern_type": "function_definition",
      "start_line": 309,
      "end_line": 309,
      "symbols": [
        "initialize"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 32,
      "snippet": "    def initialize(seed_program)"
    },
    {
      "file": "lib/von_neumann.rb",
      "pattern_type": "function_definition",
      "start_line": 315,
      "end_line": 315,
      "symbols": [
        "replicate"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 17,
      "snippet": "    def replicate"
    },
    {
      "file": "lib/von_neumann.rb",
      "pattern_type": "function_definition",
      "start_line": 327,
      "end_line": 327,
      "symbols": [
        "construct"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 28,
      "snippet": "    def construct(blueprint)"
    },
    {
      "file": "lib/von_neumann.rb",
      "pattern_type": "class_definition",
      "start_line": 200,
      "end_line": 299,
      "symbols": [
        "UniversalSimulator"
      ],
      "complexity": 4.7,
      "leitmotif_type": "synthesis",
      "snippet_length": 2798,
      "snippet": "  class UniversalSimulator\n    attr_reader :machines, :results\n\n    def initialize(seed: 0x6761795f636f6c6f)\n      @seed = seed\n      @rng = Random.new(seed)\n      @machines = {}\n      @results = {}\n      @chaitin = ChaitinMachine::TernaryChaitinMachine.new(seed: seed)\n    end\n\n    # Generate all vo"
    },
    {
      "file": "lib/von_neumann.rb",
      "pattern_type": "class_definition",
      "start_line": 306,
      "end_line": 332,
      "symbols": [
        "SelfReplicator"
      ],
      "complexity": 0.6,
      "leitmotif_type": "synthesis",
      "snippet_length": 552,
      "snippet": "  class SelfReplicator\n    attr_reader :tape, :generations\n\n    def initialize(seed_program)\n      @tape = seed_program.dup\n      @generations = [seed_program.dup]\n    end\n\n    # Quine-like self-replication\n    def replicate\n      # Read own code\n      own_code = @tape.dup\n      \n      # Append copy"
    },
    {
      "file": "lib/world_broadcast.rb",
      "pattern_type": "function_definition",
      "start_line": 258,
      "end_line": 258,
      "symbols": [
        "self"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 36,
      "snippet": "    def self.encode(depth, position)"
    },
    {
      "file": "lib/world_broadcast.rb",
      "pattern_type": "function_definition",
      "start_line": 268,
      "end_line": 268,
      "symbols": [
        "self"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 28,
      "snippet": "    def self.decode(address)"
    },
    {
      "file": "lib/world_broadcast.rb",
      "pattern_type": "function_definition",
      "start_line": 273,
      "end_line": 273,
      "symbols": [
        "self"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 37,
      "snippet": "    def self.conjugacy_class(address)"
    },
    {
      "file": "lib/world_broadcast.rb",
      "pattern_type": "function_definition",
      "start_line": 281,
      "end_line": 281,
      "symbols": [
        "self"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 39,
      "snippet": "    def self.equivalence_class(address)"
    },
    {
      "file": "lib/world_broadcast.rb",
      "pattern_type": "function_definition",
      "start_line": 288,
      "end_line": 288,
      "symbols": [
        "self"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 27,
      "snippet": "    def self.depth(address)"
    },
    {
      "file": "lib/world_broadcast.rb",
      "pattern_type": "function_definition",
      "start_line": 293,
      "end_line": 293,
      "symbols": [
        "self"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 28,
      "snippet": "    def self.parent(address)"
    },
    {
      "file": "lib/world_broadcast.rb",
      "pattern_type": "function_definition",
      "start_line": 298,
      "end_line": 298,
      "symbols": [
        "self"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 30,
      "snippet": "    def self.children(address)"
    },
    {
      "file": "lib/world_broadcast.rb",
      "pattern_type": "function_definition",
      "start_line": 312,
      "end_line": 312,
      "symbols": [
        "self"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 35,
      "snippet": "    def self.riemann(s, terms: 100)"
    },
    {
      "file": "lib/world_broadcast.rb",
      "pattern_type": "function_definition",
      "start_line": 318,
      "end_line": 318,
      "symbols": [
        "self"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 75,
      "snippet": "    def self.euler_product(s, primes: [2, 3, 5, 7, 11, 13, 17, 19, 23, 29])"
    },
    {
      "file": "lib/world_broadcast.rb",
      "pattern_type": "function_definition",
      "start_line": 323,
      "end_line": 323,
      "symbols": [
        "self"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 50,
      "snippet": "    def self.dirichlet_l(s, character, terms: 100)"
    },
    {
      "file": "lib/world_broadcast.rb",
      "pattern_type": "function_definition",
      "start_line": 328,
      "end_line": 328,
      "symbols": [
        "self"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 44,
      "snippet": "    def self.moebius_weighted(s, terms: 100)"
    },
    {
      "file": "lib/world_broadcast.rb",
      "pattern_type": "function_definition",
      "start_line": 333,
      "end_line": 333,
      "symbols": [
        "self"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 23,
      "snippet": "    def self.reflect(s)"
    },
    {
      "file": "lib/world_broadcast.rb",
      "pattern_type": "function_definition",
      "start_line": 340,
      "end_line": 340,
      "symbols": [
        "self"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 40,
      "snippet": "    def self.regularize(sequence, s: -1)"
    },
    {
      "file": "lib/world_broadcast.rb",
      "pattern_type": "function_definition",
      "start_line": 357,
      "end_line": 357,
      "symbols": [
        "self"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 52,
      "snippet": "    def self.profinite_approximate(value, levels: 3)"
    },
    {
      "file": "lib/world_broadcast.rb",
      "pattern_type": "function_definition",
      "start_line": 367,
      "end_line": 367,
      "symbols": [
        "self"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 46,
      "snippet": "    def self.liquid_norm(coefficients, r: 0.5)"
    },
    {
      "file": "lib/world_broadcast.rb",
      "pattern_type": "function_definition",
      "start_line": 374,
      "end_line": 374,
      "symbols": [
        "self"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 39,
      "snippet": "    def self.solid_completion(sequence)"
    },
    {
      "file": "lib/world_broadcast.rb",
      "pattern_type": "function_definition",
      "start_line": 380,
      "end_line": 380,
      "symbols": [
        "self"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 36,
      "snippet": "    def self.analytic_stack(objects)"
    },
    {
      "file": "lib/world_broadcast.rb",
      "pattern_type": "function_definition",
      "start_line": 396,
      "end_line": 396,
      "symbols": [
        "self"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 62,
      "snippet": "    def self.generate(mathematician, operation, args, address)"
    },
    {
      "file": "lib/world_broadcast.rb",
      "pattern_type": "function_definition",
      "start_line": 413,
      "end_line": 413,
      "symbols": [
        "self"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 28,
      "snippet": "    def self.to_string(sexp)"
    },
    {
      "file": "lib/world_broadcast.rb",
      "pattern_type": "function_definition",
      "start_line": 429,
      "end_line": 429,
      "symbols": [
        "self"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 23,
      "snippet": "    def self.parse(str)"
    },
    {
      "file": "lib/world_broadcast.rb",
      "pattern_type": "function_definition",
      "start_line": 437,
      "end_line": 437,
      "symbols": [
        "self"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 33,
      "snippet": "    def self.parse_tokens(tokens)"
    },
    {
      "file": "lib/world_broadcast.rb",
      "pattern_type": "function_definition",
      "start_line": 485,
      "end_line": 485,
      "symbols": [
        "self"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 43,
      "snippet": "    def self.lww_register(value, timestamp)"
    },
    {
      "file": "lib/world_broadcast.rb",
      "pattern_type": "function_definition",
      "start_line": 495,
      "end_line": 495,
      "symbols": [
        "self"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 53,
      "snippet": "    def self.pn_counter_value(p_counters, n_counters)"
    },
    {
      "file": "lib/world_broadcast.rb",
      "pattern_type": "function_definition",
      "start_line": 507,
      "end_line": 507,
      "symbols": [
        "initialize"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 31,
      "snippet": "    def initialize(profile_key)"
    },
    {
      "file": "lib/world_broadcast.rb",
      "pattern_type": "function_definition",
      "start_line": 515,
      "end_line": 515,
      "symbols": [
        "step!"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 13,
      "snippet": "    def step!"
    },
    {
      "file": "lib/world_broadcast.rb",
      "pattern_type": "function_definition",
      "start_line": 545,
      "end_line": 545,
      "symbols": [
        "generate_args"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 32,
      "snippet": "    def generate_args(operation)"
    },
    {
      "file": "lib/world_broadcast.rb",
      "pattern_type": "function_definition",
      "start_line": 567,
      "end_line": 567,
      "symbols": [
        "zeta_regularize"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 30,
      "snippet": "    def zeta_regularize(s = 2)"
    },
    {
      "file": "lib/world_broadcast.rb",
      "pattern_type": "function_definition",
      "start_line": 589,
      "end_line": 589,
      "symbols": [
        "to_s"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 12,
      "snippet": "    def to_s"
    },
    {
      "file": "lib/world_broadcast.rb",
      "pattern_type": "function_definition",
      "start_line": 598,
      "end_line": 598,
      "symbols": [
        "world_action"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 27,
      "snippet": "    def world_action(input)"
    },
    {
      "file": "lib/world_broadcast.rb",
      "pattern_type": "function_definition",
      "start_line": 628,
      "end_line": 628,
      "symbols": [
        "coworld_action"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 31,
      "snippet": "    def coworld_action(utility)"
    },
    {
      "file": "lib/world_broadcast.rb",
      "pattern_type": "function_definition",
      "start_line": 658,
      "end_line": 658,
      "symbols": [
        "bidirectional_step!"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 43,
      "snippet": "    def bidirectional_step!(input, utility)"
    },
    {
      "file": "lib/world_broadcast.rb",
      "pattern_type": "function_definition",
      "start_line": 679,
      "end_line": 679,
      "symbols": [
        "initialize"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 76,
      "snippet": "    def initialize(mathematician_keys = [:ramanujan, :grothendieck, :euler])"
    },
    {
      "file": "lib/world_broadcast.rb",
      "pattern_type": "function_definition",
      "start_line": 692,
      "end_line": 692,
      "symbols": [
        "step!"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 13,
      "snippet": "    def step!"
    },
    {
      "file": "lib/world_broadcast.rb",
      "pattern_type": "function_definition",
      "start_line": 729,
      "end_line": 729,
      "symbols": [
        "compute_superposition"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 47,
      "snippet": "    def compute_superposition(results, weights)"
    },
    {
      "file": "lib/world_broadcast.rb",
      "pattern_type": "function_definition",
      "start_line": 747,
      "end_line": 747,
      "symbols": [
        "polarity_weight"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 33,
      "snippet": "    def polarity_weight(polarity)"
    },
    {
      "file": "lib/world_broadcast.rb",
      "pattern_type": "function_definition",
      "start_line": 757,
      "end_line": 757,
      "symbols": [
        "run!"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 24,
      "snippet": "    def run!(steps = 12)"
    },
    {
      "file": "lib/world_broadcast.rb",
      "pattern_type": "function_definition",
      "start_line": 768,
      "end_line": 768,
      "symbols": [
        "at_address"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 27,
      "snippet": "    def at_address(address)"
    },
    {
      "file": "lib/world_broadcast.rb",
      "pattern_type": "function_definition",
      "start_line": 774,
      "end_line": 774,
      "symbols": [
        "analytic_continuation"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 36,
      "snippet": "    def analytic_continuation(s = 2)"
    },
    {
      "file": "lib/world_broadcast.rb",
      "pattern_type": "function_definition",
      "start_line": 784,
      "end_line": 784,
      "symbols": [
        "to_s"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 12,
      "snippet": "    def to_s"
    },
    {
      "file": "lib/world_broadcast.rb",
      "pattern_type": "function_definition",
      "start_line": 793,
      "end_line": 793,
      "symbols": [
        "self"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 95,
      "snippet": "  def self.world(mathematicians: [:ramanujan, :grothendieck, :euler], steps: 12, verbose: true)"
    },
    {
      "file": "lib/world_broadcast.rb",
      "pattern_type": "function_definition",
      "start_line": 844,
      "end_line": 844,
      "symbols": [
        "self"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 32,
      "snippet": "  def self.run!(*args, **kwargs)"
    },
    {
      "file": "lib/world_demo_topos.rb",
      "pattern_type": "function_definition",
      "start_line": 168,
      "end_line": 168,
      "symbols": [
        "initialize"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 32,
      "snippet": "    def initialize(seed = 0x42D)"
    },
    {
      "file": "lib/world_demo_topos.rb",
      "pattern_type": "function_definition",
      "start_line": 176,
      "end_line": 176,
      "symbols": [
        "run_demo"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 22,
      "snippet": "    def run_demo(name)"
    },
    {
      "file": "lib/world_demo_topos.rb",
      "pattern_type": "function_definition",
      "start_line": 210,
      "end_line": 210,
      "symbols": [
        "run_triplet"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 19,
      "snippet": "    def run_triplet"
    },
    {
      "file": "lib/world_demo_topos.rb",
      "pattern_type": "function_definition",
      "start_line": 233,
      "end_line": 233,
      "symbols": [
        "run_category"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 30,
      "snippet": "    def run_category(category)"
    },
    {
      "file": "lib/world_demo_topos.rb",
      "pattern_type": "function_definition",
      "start_line": 239,
      "end_line": 239,
      "symbols": [
        "run_all_ruby"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 20,
      "snippet": "    def run_all_ruby"
    },
    {
      "file": "lib/world_demo_topos.rb",
      "pattern_type": "function_definition",
      "start_line": 245,
      "end_line": 245,
      "symbols": [
        "run_ruby_demo"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 27,
      "snippet": "    def run_ruby_demo(demo)"
    },
    {
      "file": "lib/world_demo_topos.rb",
      "pattern_type": "function_definition",
      "start_line": 255,
      "end_line": 255,
      "symbols": [
        "run_julia_demo"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 28,
      "snippet": "    def run_julia_demo(demo)"
    },
    {
      "file": "lib/world_demo_topos.rb",
      "pattern_type": "function_definition",
      "start_line": 261,
      "end_line": 261,
      "symbols": [
        "run_elisp_demo"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 28,
      "snippet": "    def run_elisp_demo(demo)"
    },
    {
      "file": "lib/world_demo_topos.rb",
      "pattern_type": "function_definition",
      "start_line": 267,
      "end_line": 267,
      "symbols": [
        "run_babashka_demo"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 31,
      "snippet": "    def run_babashka_demo(demo)"
    },
    {
      "file": "lib/world_demo_topos.rb",
      "pattern_type": "function_definition",
      "start_line": 273,
      "end_line": 273,
      "symbols": [
        "capture_output"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 22,
      "snippet": "    def capture_output"
    },
    {
      "file": "lib/world_demo_topos.rb",
      "pattern_type": "function_definition",
      "start_line": 299,
      "end_line": 299,
      "symbols": [
        "initialize"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 32,
      "snippet": "    def initialize(seed = 0x42D)"
    },
    {
      "file": "lib/world_demo_topos.rb",
      "pattern_type": "function_definition",
      "start_line": 304,
      "end_line": 304,
      "symbols": [
        "objects"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 15,
      "snippet": "    def objects"
    },
    {
      "file": "lib/world_demo_topos.rb",
      "pattern_type": "function_definition",
      "start_line": 309,
      "end_line": 309,
      "symbols": [
        "morphisms"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 17,
      "snippet": "    def morphisms"
    },
    {
      "file": "lib/world_demo_topos.rb",
      "pattern_type": "function_definition",
      "start_line": 314,
      "end_line": 314,
      "symbols": [
        "compose"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 29,
      "snippet": "    def compose(demo1, demo2)"
    },
    {
      "file": "lib/world_demo_topos.rb",
      "pattern_type": "function_definition",
      "start_line": 331,
      "end_line": 331,
      "symbols": [
        "terminal"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 16,
      "snippet": "    def terminal"
    },
    {
      "file": "lib/world_demo_topos.rb",
      "pattern_type": "function_definition",
      "start_line": 336,
      "end_line": 336,
      "symbols": [
        "initial"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 15,
      "snippet": "    def initial"
    },
    {
      "file": "lib/world_demo_topos.rb",
      "pattern_type": "function_definition",
      "start_line": 345,
      "end_line": 345,
      "symbols": [
        "self"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 45,
      "snippet": "  def self.world(seed: 0x42D, mode: :summary)"
    },
    {
      "file": "lib/world_demo_topos.rb",
      "pattern_type": "function_definition",
      "start_line": 407,
      "end_line": 407,
      "symbols": [
        "self"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 15,
      "snippet": "  def self.list"
    },
    {
      "file": "lib/world_demo_topos.rb",
      "pattern_type": "function_definition",
      "start_line": 418,
      "end_line": 418,
      "symbols": [
        "self"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 35,
      "snippet": "  def self.run_triplet(seed: 0x42D)"
    },
    {
      "file": "lib/world_demo_topos.rb",
      "pattern_type": "class_definition",
      "start_line": 287,
      "end_line": 386,
      "symbols": [
        "DemoTopos"
      ],
      "complexity": 5.9,
      "leitmotif_type": "synthesis",
      "snippet_length": 2779,
      "snippet": "  class DemoTopos\n    # Morphisms between demos (dependencies/compositions)\n    MORPHISMS = {\n      [:xoroshiro_3color, :tritwise] => :color_composition,\n      [:synadia, :glass_bead] => :game_broadcast,\n      [:rama_acset, :colored_sexp_acset] => :acset_coloring,\n      [:narya_bridge, :gay_3color] "
    },
    {
      "file": "lib/worlds.rb",
      "pattern_type": "function_definition",
      "start_line": 10,
      "end_line": 10,
      "symbols": [
        "initialize"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 35,
      "snippet": "    def initialize(name, metric_fn)"
    },
    {
      "file": "lib/worlds.rb",
      "pattern_type": "function_definition",
      "start_line": 16,
      "end_line": 16,
      "symbols": [
        "add_object"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 23,
      "snippet": "    def add_object(obj)"
    },
    {
      "file": "lib/worlds.rb",
      "pattern_type": "function_definition",
      "start_line": 20,
      "end_line": 20,
      "symbols": [
        "appearance"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 23,
      "snippet": "    def appearance(obj)"
    },
    {
      "file": "lib/worlds.rb",
      "pattern_type": "function_definition",
      "start_line": 44,
      "end_line": 44,
      "symbols": [
        "distance"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 28,
      "snippet": "    def distance(obj1, obj2)"
    },
    {
      "file": "lib/worlds.rb",
      "pattern_type": "function_definition",
      "start_line": 51,
      "end_line": 51,
      "symbols": [
        "validate_metric_space"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 29,
      "snippet": "    def validate_metric_space"
    },
    {
      "file": "lib/worlds.rb",
      "pattern_type": "function_definition",
      "start_line": 92,
      "end_line": 92,
      "symbols": [
        "reachable?"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 42,
      "snippet": "    def reachable?(other_world, depth = 3)"
    },
    {
      "file": "lib/worlds.rb",
      "pattern_type": "function_definition",
      "start_line": 110,
      "end_line": 110,
      "symbols": [
        "self"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 30,
      "snippet": "    def self.functional_metric"
    },
    {
      "file": "lib/worlds.rb",
      "pattern_type": "function_definition",
      "start_line": 127,
      "end_line": 127,
      "symbols": [
        "self"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 18,
      "snippet": "    def self.world"
    },
    {
      "file": "lib/worlds.rb",
      "pattern_type": "function_definition",
      "start_line": 135,
      "end_line": 135,
      "symbols": [
        "self"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 25,
      "snippet": "    def self.group_metric"
    },
    {
      "file": "lib/worlds.rb",
      "pattern_type": "function_definition",
      "start_line": 139,
      "end_line": 139,
      "symbols": [
        "self"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 36,
      "snippet": "    def self.cayley_distance(g1, g2)"
    },
    {
      "file": "lib/worlds.rb",
      "pattern_type": "function_definition",
      "start_line": 145,
      "end_line": 145,
      "symbols": [
        "self"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 18,
      "snippet": "    def self.world"
    },
    {
      "file": "lib/worlds.rb",
      "pattern_type": "function_definition",
      "start_line": 150,
      "end_line": 150,
      "symbols": [
        "self"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 28,
      "snippet": "  def self.pitch_space_world"
    },
    {
      "file": "lib/worlds.rb",
      "pattern_type": "function_definition",
      "start_line": 154,
      "end_line": 154,
      "symbols": [
        "self"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 28,
      "snippet": "  def self.chord_space_world"
    },
    {
      "file": "lib/worlds.rb",
      "pattern_type": "class_definition",
      "start_line": 132,
      "end_line": 158,
      "symbols": [
        "TransformationWorld"
      ],
      "complexity": 1.5,
      "leitmotif_type": "synthesis",
      "snippet_length": 623,
      "snippet": "  class TransformationWorld < World\n    ELEMENTS = [:id, :P, :R, :L, :PR, :RL]\n    \n    def self.group_metric\n      lambda { |g1, g2| cayley_distance(g1, g2) }\n    end\n    \n    def self.cayley_distance(g1, g2)\n       # Simplified stub: real impl would use BFS on Cayley graph\n       return 0 if g1 =="
    },
    {
      "file": "lib/worlds/computational_world.rb",
      "pattern_type": "function_definition",
      "start_line": 20,
      "end_line": 20,
      "symbols": [
        "initialize"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 44,
      "snippet": "    def initialize(seed: 0x6761795f636f6c6f)"
    },
    {
      "file": "lib/worlds/computational_world.rb",
      "pattern_type": "function_definition",
      "start_line": 38,
      "end_line": 38,
      "symbols": [
        "add_program"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 40,
      "snippet": "    def add_program(code, encoding: nil)"
    },
    {
      "file": "lib/worlds/computational_world.rb",
      "pattern_type": "function_definition",
      "start_line": 47,
      "end_line": 47,
      "symbols": [
        "execute_all"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 36,
      "snippet": "    def execute_all(max_cycles: 100)"
    },
    {
      "file": "lib/worlds/computational_world.rb",
      "pattern_type": "function_definition",
      "start_line": 61,
      "end_line": 61,
      "symbols": [
        "omega"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 44,
      "snippet": "    def omega(max_length: 8, max_steps: 500)"
    },
    {
      "file": "lib/worlds/computational_world.rb",
      "pattern_type": "function_definition",
      "start_line": 66,
      "end_line": 66,
      "symbols": [
        "moebius_invert"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 31,
      "snippet": "    def moebius_invert(outputs)"
    },
    {
      "file": "lib/worlds/computational_world.rb",
      "pattern_type": "function_definition",
      "start_line": 71,
      "end_line": 71,
      "symbols": [
        "simulate_all_von_neumann"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 55,
      "snippet": "    def simulate_all_von_neumann(max_program_length: 6)"
    },
    {
      "file": "lib/worlds/computational_world.rb",
      "pattern_type": "function_definition",
      "start_line": 77,
      "end_line": 77,
      "symbols": [
        "semantic_closure_validation"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 35,
      "snippet": "    def semantic_closure_validation"
    },
    {
      "file": "lib/worlds/computational_world.rb",
      "pattern_type": "function_definition",
      "start_line": 91,
      "end_line": 91,
      "symbols": [
        "validate_triangle_inequality"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 48,
      "snippet": "    def validate_triangle_inequality(p1, p2, p3)"
    },
    {
      "file": "lib/worlds/computational_world.rb",
      "pattern_type": "function_definition",
      "start_line": 99,
      "end_line": 99,
      "symbols": [
        "self"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 62,
      "snippet": "    def self.from_color_chain(chain, seed: 0x6761795f636f6c6f)"
    },
    {
      "file": "lib/worlds/computational_world.rb",
      "pattern_type": "function_definition",
      "start_line": 115,
      "end_line": 115,
      "symbols": [
        "prefix_distance"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 31,
      "snippet": "    def prefix_distance(p1, p2)"
    },
    {
      "file": "lib/worlds/computational_world.rb",
      "pattern_type": "function_definition",
      "start_line": 129,
      "end_line": 129,
      "symbols": [
        "validate_prefix_free"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 28,
      "snippet": "    def validate_prefix_free"
    },
    {
      "file": "lib/worlds/computational_world.rb",
      "pattern_type": "function_definition",
      "start_line": 136,
      "end_line": 136,
      "symbols": [
        "validate_moebius_invertible"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 35,
      "snippet": "    def validate_moebius_invertible"
    },
    {
      "file": "lib/worlds/computational_world.rb",
      "pattern_type": "function_definition",
      "start_line": 144,
      "end_line": 144,
      "symbols": [
        "validate_consistency"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 28,
      "snippet": "    def validate_consistency"
    },
    {
      "file": "lib/worlds/computational_world.rb",
      "pattern_type": "function_definition",
      "start_line": 149,
      "end_line": 149,
      "symbols": [
        "validate_existence"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 26,
      "snippet": "    def validate_existence"
    },
    {
      "file": "lib/worlds/computational_world.rb",
      "pattern_type": "function_definition",
      "start_line": 154,
      "end_line": 154,
      "symbols": [
        "validate_completeness"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 29,
      "snippet": "    def validate_completeness"
    },
    {
      "file": "lib/worlds/computational_world.rb",
      "pattern_type": "function_definition",
      "start_line": 163,
      "end_line": 163,
      "symbols": [
        "program_to_notes"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 64,
      "snippet": "    def program_to_notes(program, scale: [0, 2, 4, 5, 7, 9, 11])"
    },
    {
      "file": "lib/worlds/computational_world.rb",
      "pattern_type": "function_definition",
      "start_line": 174,
      "end_line": 174,
      "symbols": [
        "extract_motifs"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 31,
      "snippet": "    def extract_motifs(outputs)"
    },
    {
      "file": "lib/worlds/computational_world.rb",
      "pattern_type": "function_definition",
      "start_line": 183,
      "end_line": 183,
      "symbols": [
        "color_chain_to_music"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 35,
      "snippet": "    def color_chain_to_music(chain)"
    },
    {
      "file": "lib/worlds/computational_world.rb",
      "pattern_type": "class_definition",
      "start_line": 17,
      "end_line": 116,
      "symbols": [
        "ComputationalWorld"
      ],
      "complexity": 3.0,
      "leitmotif_type": "synthesis",
      "snippet_length": 3202,
      "snippet": "  class ComputationalWorld < World\n    attr_reader :programs, :chaitin, :simulator, :moebius_lattice\n\n    def initialize(seed: 0x6761795f636f6c6f)\n      # Metric: algorithmic distance (approximated by encoding length difference)\n      metric = lambda do |p1, p2|\n        len1 = p1.is_a?(ChaitinMachin"
    },
    {
      "file": "lib/worlds/computational_world.rb",
      "pattern_type": "class_definition",
      "start_line": 161,
      "end_line": 195,
      "symbols": [
        "MusicalComputationalWorld"
      ],
      "complexity": 2.1,
      "leitmotif_type": "synthesis",
      "snippet_length": 967,
      "snippet": "  class MusicalComputationalWorld < ComputationalWorld\n    # Map computation to music\n    def program_to_notes(program, scale: [0, 2, 4, 5, 7, 9, 11])\n      result = @chaitin.execute(program, max_cycles: 100)\n      \n      # Registers \u2192 pitches\n      result[:registers].map do |r|\n        midi = 60 + "
    },
    {
      "file": "lib/worlds/form_world.rb",
      "pattern_type": "function_definition",
      "start_line": 6,
      "end_line": 6,
      "symbols": [
        "initialize"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 16,
      "snippet": "  def initialize"
    },
    {
      "file": "lib/worlds/group_theory_world.rb",
      "pattern_type": "function_definition",
      "start_line": 16,
      "end_line": 65,
      "symbols": [
        "initialize"
      ],
      "complexity": 1.0,
      "leitmotif_type": "synthesis",
      "snippet_length": 1361,
      "snippet": "  def initialize\n    # S\u2081\u2082 = symmetric group on 12 pitch classes\n    @symmetric_group = S12.new\n\n    # Metric: Cayley graph distance in S\u2081\u2082\n    metric = lambda { |perm1, perm2|\n      @symmetric_group.distance(perm1, perm2)\n    }\n\n    super(\"Group Theory World (S\u2081\u2082)\", metric)\n\n    @chord_objects = {}"
    },
    {
      "file": "lib/worlds/group_theory_world.rb",
      "pattern_type": "function_definition",
      "start_line": 32,
      "end_line": 81,
      "symbols": [
        "add_chord"
      ],
      "complexity": 2.0,
      "leitmotif_type": "synthesis",
      "snippet_length": 1584,
      "snippet": "  def add_chord(chord, label = nil)\n    label ||= chord.to_s\n\n    # Record the chord\n    @chord_objects[label] = chord\n\n    # Add identity permutation (the chord itself)\n    @objects.add(Permutation.identity(12))\n  end\n\n  # Add a permutation (group element)\n  def add_permutation(permutation, label ="
    },
    {
      "file": "lib/worlds/group_theory_world.rb",
      "pattern_type": "function_definition",
      "start_line": 43,
      "end_line": 92,
      "symbols": [
        "add_permutation"
      ],
      "complexity": 1.8,
      "leitmotif_type": "synthesis",
      "snippet_length": 1619,
      "snippet": "  def add_permutation(permutation, label = nil)\n    label ||= permutation.to_s\n    @objects.add(permutation)\n  end\n\n  # Verify group axioms hold in this world\n  # Returns hash with validation results\n  def validate_group_axioms\n    validation = @symmetric_group.validate_group_axioms\n\n    # Additiona"
    },
    {
      "file": "lib/worlds/group_theory_world.rb",
      "pattern_type": "function_definition",
      "start_line": 50,
      "end_line": 99,
      "symbols": [
        "validate_group_axioms"
      ],
      "complexity": 2.8,
      "leitmotif_type": "synthesis",
      "snippet_length": 1673,
      "snippet": "  def validate_group_axioms\n    validation = @symmetric_group.validate_group_axioms\n\n    # Additional world-specific checks\n    world_checks = {\n      closure_in_world: check_closure_in_world,\n      triangle_inequality_in_world: check_triangle_inequality_in_world,\n      voice_leading_preserved: chec"
    },
    {
      "file": "lib/worlds/group_theory_world.rb",
      "pattern_type": "function_definition",
      "start_line": 64,
      "end_line": 113,
      "symbols": [
        "apply_permutation_to_chord"
      ],
      "complexity": 4.3,
      "leitmotif_type": "synthesis",
      "snippet_length": 1648,
      "snippet": "  def apply_permutation_to_chord(permutation, chord)\n    @symmetric_group.voice_leading_action(chord, permutation)\n  end\n\n  # Analyze voice leading under permutation group action\n  def analyze_voice_leading_under_action(chord1, chord2, max_perms = 5)\n    # Find permutations that transform chord1 to "
    },
    {
      "file": "lib/worlds/group_theory_world.rb",
      "pattern_type": "function_definition",
      "start_line": 69,
      "end_line": 118,
      "symbols": [
        "analyze_voice_leading_under_action"
      ],
      "complexity": 5.1,
      "leitmotif_type": "synthesis",
      "snippet_length": 1662,
      "snippet": "  def analyze_voice_leading_under_action(chord1, chord2, max_perms = 5)\n    # Find permutations that transform chord1 to chord2\n    results = []\n\n    # Sample permutations (full enumeration expensive for S\u2081\u2082)\n    sample_size = [max_perms, @objects.size].min\n    sample_perms = @objects.to_a.sample(sa"
    },
    {
      "file": "lib/worlds/group_theory_world.rb",
      "pattern_type": "function_definition",
      "start_line": 95,
      "end_line": 144,
      "symbols": [
        "check_closure_in_world"
      ],
      "complexity": 4.6,
      "leitmotif_type": "synthesis",
      "snippet_length": 1507,
      "snippet": "  def check_closure_in_world\n    return true if @objects.empty? || @objects.size < 2\n\n    # Sample pairs of objects\n    pairs = @objects.to_a.sample([@objects.size, 5].min).combination(2).to_a\n    pairs.each do |perm1, perm2|\n      composition = @symmetric_group.multiply(perm1, perm2)\n      # Compos"
    },
    {
      "file": "lib/worlds/group_theory_world.rb",
      "pattern_type": "function_definition",
      "start_line": 109,
      "end_line": 158,
      "symbols": [
        "check_triangle_inequality_in_world"
      ],
      "complexity": 3.6,
      "leitmotif_type": "synthesis",
      "snippet_length": 1476,
      "snippet": "  def check_triangle_inequality_in_world\n    return true if @objects.size < 3\n\n    # Sample triples\n    sample_size = [@objects.size, 5].min\n    sample_objs = @objects.to_a.sample(sample_size)\n\n    sample_objs.combination(3).each do |a, b, c|\n      unless @symmetric_group.triangle_inequality_satisfi"
    },
    {
      "file": "lib/worlds/group_theory_world.rb",
      "pattern_type": "function_definition",
      "start_line": 126,
      "end_line": 175,
      "symbols": [
        "check_voice_leading_preservation"
      ],
      "complexity": 3.6,
      "leitmotif_type": "synthesis",
      "snippet_length": 1466,
      "snippet": "  def check_voice_leading_preservation\n    return true if @chord_objects.size < 2\n\n    chords = @chord_objects.values.sample([@chord_objects.size, 3].min)\n    return true if chords.size < 2\n\n    chord1, chord2 = chords.sample(2)\n\n    # Compare direct distance to distance through permutation\n    dire"
    },
    {
      "file": "lib/worlds/group_theory_world.rb",
      "pattern_type": "function_definition",
      "start_line": 148,
      "end_line": 179,
      "symbols": [
        "semantic_closure_validation"
      ],
      "complexity": 2.4,
      "leitmotif_type": "synthesis",
      "snippet_length": 829,
      "snippet": "  def semantic_closure_validation\n    # Group-theoretic closure conditions\n    {\n      group_axioms_valid: validate_group_axioms[:valid],\n      cayley_metric_consistent: check_cayley_metric_consistency,\n      voice_leading_under_actions: check_voice_leading_preservation,\n      metric_space_valid: va"
    },
    {
      "file": "lib/worlds/group_theory_world.rb",
      "pattern_type": "function_definition",
      "start_line": 160,
      "end_line": 179,
      "symbols": [
        "check_cayley_metric_consistency"
      ],
      "complexity": 2.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 477,
      "snippet": "  def check_cayley_metric_consistency\n    return true if @objects.size < 3\n\n    # Verify Cayley metric properties\n    sample_size = [@objects.size, 5].min\n    sample_objs = @objects.to_a.sample(sample_size)\n\n    # Check identity distance\n    identity = Permutation.identity(12)\n    sample_objs.each d"
    },
    {
      "file": "lib/worlds/group_theory_world.rb",
      "pattern_type": "function_definition",
      "start_line": 182,
      "end_line": 182,
      "symbols": [
        "self"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 41,
      "snippet": "  def self.create_with_pitch_permutations"
    },
    {
      "file": "lib/worlds/group_theory_world.rb",
      "pattern_type": "function_definition",
      "start_line": 200,
      "end_line": 200,
      "symbols": [
        "self"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 33,
      "snippet": "  def self.create_with_generators"
    },
    {
      "file": "lib/worlds/group_theory_world.rb",
      "pattern_type": "function_definition",
      "start_line": 213,
      "end_line": 213,
      "symbols": [
        "self"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 47,
      "snippet": "  def self.create_chord_family_world(root_note)"
    },
    {
      "file": "lib/worlds/group_theory_world.rb",
      "pattern_type": "class_definition",
      "start_line": 13,
      "end_line": 179,
      "symbols": [
        "GroupTheoryWorld"
      ],
      "complexity": 10.0,
      "leitmotif_type": "synthesis",
      "snippet_length": 4804,
      "snippet": "class GroupTheoryWorld < MusicalWorlds::World\n  attr_reader :symmetric_group, :chord_objects\n\n  def initialize\n    # S\u2081\u2082 = symmetric group on 12 pitch classes\n    @symmetric_group = S12.new\n\n    # Metric: Cayley graph distance in S\u2081\u2082\n    metric = lambda { |perm1, perm2|\n      @symmetric_group.distan"
    },
    {
      "file": "lib/worlds/group_theory_world.rb",
      "pattern_type": "class_definition",
      "start_line": 180,
      "end_line": 231,
      "symbols": [
        "GroupTheoryWorld"
      ],
      "complexity": 2.1,
      "leitmotif_type": "synthesis",
      "snippet_length": 1418,
      "snippet": "class GroupTheoryWorld\n  # Create world with standard pitch permutations\n  def self.create_with_pitch_permutations\n    world = new\n\n    # Add C Major chord\n    c_major = Chord.from_notes(['C', 'E', 'G'])\n    world.add_chord(c_major, \"C Major\")\n\n    # Add some transpositions\n    (0..11).each do |pitc"
    },
    {
      "file": "lib/worlds/harmonic_function_world.rb",
      "pattern_type": "function_definition",
      "start_line": 16,
      "end_line": 65,
      "symbols": [
        "initialize"
      ],
      "complexity": 2.3,
      "leitmotif_type": "synthesis",
      "snippet_length": 1403,
      "snippet": "  def initialize(key = 'C')\n    @key = key\n\n    # Metric: functional distance\n    # Valid progressions (distance 1): T\u2192S, S\u2192D, D\u2192T\n    # Deceptive progressions (distance 2): avoid cycles\n    # Invalid progressions (distance 3): backwards motion\n    metric = lambda { |func1, func2|\n      if func1.is_"
    },
    {
      "file": "lib/worlds/harmonic_function_world.rb",
      "pattern_type": "function_definition",
      "start_line": 38,
      "end_line": 87,
      "symbols": [
        "add_functional_chord"
      ],
      "complexity": 3.3,
      "leitmotif_type": "synthesis",
      "snippet_length": 1480,
      "snippet": "  def add_functional_chord(chord, function_symbol = nil)\n    # Get root from first voice (bass note in SATB)\n    root = chord.voices.first.value rescue 0\n    function_symbol ||= HarmonicFunction.analyze_function(root, @key)\n    hf = HarmonicFunction.new(chord, function_symbol, @key)\n\n    @objects.ad"
    },
    {
      "file": "lib/worlds/harmonic_function_world.rb",
      "pattern_type": "function_definition",
      "start_line": 49,
      "end_line": 98,
      "symbols": [
        "add_progression"
      ],
      "complexity": 3.1,
      "leitmotif_type": "synthesis",
      "snippet_length": 1484,
      "snippet": "  def add_progression(chord_sequence)\n    functional_chord_sequence = chord_sequence.map do |chord|\n      add_functional_chord(chord)\n    end\n\n    @progressions << functional_chord_sequence\n    functional_chord_sequence\n  end\n\n  # Validate functional progression rules\n  def validate_progression(chor"
    },
    {
      "file": "lib/worlds/harmonic_function_world.rb",
      "pattern_type": "function_definition",
      "start_line": 59,
      "end_line": 108,
      "symbols": [
        "validate_progression"
      ],
      "complexity": 2.6,
      "leitmotif_type": "synthesis",
      "snippet_length": 1472,
      "snippet": "  def validate_progression(chord_sequence)\n    errors = []\n\n    chord_sequence.each_with_index do |chord, idx|\n      next if idx == 0\n\n      prev_chord = chord_sequence[idx - 1]\n      func_curr = HarmonicFunction.from_chord(chord, @key)\n      func_prev = HarmonicFunction.from_chord(prev_chord, @key)"
    },
    {
      "file": "lib/worlds/harmonic_function_world.rb",
      "pattern_type": "function_definition",
      "start_line": 86,
      "end_line": 135,
      "symbols": [
        "analyze_cadence"
      ],
      "complexity": 3.3,
      "leitmotif_type": "synthesis",
      "snippet_length": 1660,
      "snippet": "  def analyze_cadence(chord_sequence)\n    return nil if chord_sequence.length < 2\n\n    second_last = chord_sequence[-2]\n    last = chord_sequence[-1]\n\n    func_penultimate = HarmonicFunction.from_chord(second_last, @key)\n    func_final = HarmonicFunction.from_chord(last, @key)\n\n    {\n      penultima"
    },
    {
      "file": "lib/worlds/harmonic_function_world.rb",
      "pattern_type": "function_definition",
      "start_line": 107,
      "end_line": 156,
      "symbols": [
        "semantic_closure_validation"
      ],
      "complexity": 4.3,
      "leitmotif_type": "synthesis",
      "snippet_length": 1587,
      "snippet": "  def semantic_closure_validation\n    {\n      pitch_space: @progressions.all? { |seq| seq.all? { |fc| fc.chord.valid? } },\n      chord_space: @progressions.all? { |seq| seq.length >= 2 },\n      metric_valid: validate_metric_space[:valid],\n      appearance: @objects.length > 0,\n      transformations_"
    },
    {
      "file": "lib/worlds/harmonic_function_world.rb",
      "pattern_type": "function_definition",
      "start_line": 121,
      "end_line": 170,
      "symbols": [
        "verify_functional_rules"
      ],
      "complexity": 5.8,
      "leitmotif_type": "synthesis",
      "snippet_length": 1478,
      "snippet": "  def verify_functional_rules\n    return true if @progressions.empty?\n\n    @progressions.all? do |progression|\n      validation = validate_progression(progression.map(&:chord))\n      validation[:valid] || validation[:errors].length <= 1  # Allow at most one unusual transition\n    end\n  end\n\n  # Veri"
    },
    {
      "file": "lib/worlds/harmonic_function_world.rb",
      "pattern_type": "function_definition",
      "start_line": 131,
      "end_line": 180,
      "symbols": [
        "verify_no_contradictions"
      ],
      "complexity": 4.8,
      "leitmotif_type": "synthesis",
      "snippet_length": 1397,
      "snippet": "  def verify_no_contradictions\n    # Check: chord root should map to only one function in given key\n    root_to_function = {}\n\n    @objects.each do |hf|\n      root = hf.chord.root\n      if root_to_function[root] && root_to_function[root] != hf.function\n        return false  # Contradiction: root map"
    },
    {
      "file": "lib/worlds/harmonic_function_world.rb",
      "pattern_type": "function_definition",
      "start_line": 148,
      "end_line": 194,
      "symbols": [
        "verify_closure"
      ],
      "complexity": 4.1,
      "leitmotif_type": "synthesis",
      "snippet_length": 1247,
      "snippet": "  def verify_closure\n    return false if @progressions.empty?\n\n    @progressions.all? do |progression|\n      closure = HarmonicFunction.functional_closure(progression.map(&:chord))\n      closure[:cycle_complete]  # At least T and D present\n    end\n  end\n\n  # Harmonic rhythm: analyze timing of functi"
    },
    {
      "file": "lib/worlds/harmonic_function_world.rb",
      "pattern_type": "function_definition",
      "start_line": 158,
      "end_line": 194,
      "symbols": [
        "harmonic_rhythm"
      ],
      "complexity": 2.9,
      "leitmotif_type": "synthesis",
      "snippet_length": 934,
      "snippet": "  def harmonic_rhythm(chord_sequence)\n    functions = chord_sequence.map do |chord|\n      HarmonicFunction.from_chord(chord, @key).function\n    end\n\n    # Count function changes\n    changes = 0\n    (1...functions.length).each do |i|\n      changes += 1 if functions[i] != functions[i - 1]\n    end\n\n   "
    },
    {
      "file": "lib/worlds/harmonic_function_world.rb",
      "pattern_type": "function_definition",
      "start_line": 180,
      "end_line": 194,
      "symbols": [
        "distance_between_functions"
      ],
      "complexity": 1.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 372,
      "snippet": "  def distance_between_functions(func1, func2)\n    case [func1, func2]\n    when [HarmonicFunction::TONIC, HarmonicFunction::SUBDOMINANT]\n      1\n    when [HarmonicFunction::SUBDOMINANT, HarmonicFunction::DOMINANT]\n      1\n    when [HarmonicFunction::DOMINANT, HarmonicFunction::TONIC]\n      1\n    els"
    },
    {
      "file": "lib/worlds/harmonic_function_world.rb",
      "pattern_type": "function_definition",
      "start_line": 197,
      "end_line": 197,
      "symbols": [
        "self"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 53,
      "snippet": "  def self.create_with_common_progressions(key = 'C')"
    },
    {
      "file": "lib/worlds/harmonic_function_world.rb",
      "pattern_type": "function_definition",
      "start_line": 222,
      "end_line": 222,
      "symbols": [
        "self"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 43,
      "snippet": "  def self.create_analysis_world(key = 'C')"
    },
    {
      "file": "lib/worlds/harmonic_function_world.rb",
      "pattern_type": "class_definition",
      "start_line": 13,
      "end_line": 194,
      "symbols": [
        "HarmonicFunctionWorld"
      ],
      "complexity": 10.0,
      "leitmotif_type": "synthesis",
      "snippet_length": 5325,
      "snippet": "class HarmonicFunctionWorld < MusicalWorlds::World\n  attr_reader :key, :progressions\n\n  def initialize(key = 'C')\n    @key = key\n\n    # Metric: functional distance\n    # Valid progressions (distance 1): T\u2192S, S\u2192D, D\u2192T\n    # Deceptive progressions (distance 2): avoid cycles\n    # Invalid progressions "
    },
    {
      "file": "lib/worlds/harmonic_function_world.rb",
      "pattern_type": "class_definition",
      "start_line": 195,
      "end_line": 238,
      "symbols": [
        "HarmonicFunctionWorld"
      ],
      "complexity": 1.4,
      "leitmotif_type": "synthesis",
      "snippet_length": 1221,
      "snippet": "class HarmonicFunctionWorld\n  # Create world with common progressions\n  def self.create_with_common_progressions(key = 'C')\n    world = new(key)\n\n    # I-IV-V-I (Common, opens with authentic cadence)\n    progression1 = [\n      Chord.from_notes([key, (key.upcase[0].chr.succ + 'Maj3').to_sym],  1),\n  "
    },
    {
      "file": "lib/worlds/modulation_world.rb",
      "pattern_type": "function_definition",
      "start_line": 121,
      "end_line": 138,
      "symbols": [
        "verify_transposition_rules"
      ],
      "complexity": 1.1,
      "leitmotif_type": "synthesis",
      "snippet_length": 469,
      "snippet": "  def verify_transposition_rules\n    # Transposition preserves interval relationships\n    # If T maps C\u2192D, all notes shift by 2 semitones\n    true  # Simplified\n  end\n\n  def verify_no_key_contradictions\n    # Check: each key appears consistently\n    @keys_visited.all? { |k| k.is_a?(String) }\n  end\n\n"
    },
    {
      "file": "lib/worlds/modulation_world.rb",
      "pattern_type": "function_definition",
      "start_line": 127,
      "end_line": 138,
      "symbols": [
        "verify_no_key_contradictions"
      ],
      "complexity": 0.9,
      "leitmotif_type": "synthesis",
      "snippet_length": 301,
      "snippet": "  def verify_no_key_contradictions\n    # Check: each key appears consistently\n    @keys_visited.all? { |k| k.is_a?(String) }\n  end\n\n  def verify_modulation_closure\n    # Check: modulation paths form closed system\n    @modulation_paths.any? { |path| path.keys.length >= 2 }\n  end\nend\n\n# Factory method"
    },
    {
      "file": "lib/worlds/modulation_world.rb",
      "pattern_type": "function_definition",
      "start_line": 132,
      "end_line": 138,
      "symbols": [
        "verify_modulation_closure"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 169,
      "snippet": "  def verify_modulation_closure\n    # Check: modulation paths form closed system\n    @modulation_paths.any? { |path| path.keys.length >= 2 }\n  end\nend\n\n# Factory methods"
    },
    {
      "file": "lib/worlds/modulation_world.rb",
      "pattern_type": "function_definition",
      "start_line": 140,
      "end_line": 140,
      "symbols": [
        "self"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 36,
      "snippet": "  def self.create_related_keys_world"
    },
    {
      "file": "lib/worlds/modulation_world.rb",
      "pattern_type": "function_definition",
      "start_line": 158,
      "end_line": 158,
      "symbols": [
        "self"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 45,
      "snippet": "  def self.create_chromatic_progression_world"
    },
    {
      "file": "lib/worlds/modulation_world.rb",
      "pattern_type": "function_definition",
      "start_line": 168,
      "end_line": 168,
      "symbols": [
        "self"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 40,
      "snippet": "  def self.create_circle_of_fifths_world"
    },
    {
      "file": "lib/worlds/modulation_world.rb",
      "pattern_type": "class_definition",
      "start_line": 139,
      "end_line": 178,
      "symbols": [
        "ModulationWorld"
      ],
      "complexity": 0.6,
      "leitmotif_type": "synthesis",
      "snippet_length": 933,
      "snippet": "class ModulationWorld\n  def self.create_related_keys_world\n    world = new\n\n    # Add C and its related keys\n    world.add_key('C')          # Tonic\n    world.add_key('G')          # Dominant (5 sharps away)\n    world.add_key('F')          # Subdominant (1 flat)\n    world.add_key('A')          # Rel"
    },
    {
      "file": "lib/worlds/polyphonic_world.rb",
      "pattern_type": "function_definition",
      "start_line": 6,
      "end_line": 6,
      "symbols": [
        "initialize"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 16,
      "snippet": "  def initialize"
    },
    {
      "file": "lib/worlds/polyphonic_world.rb",
      "pattern_type": "function_definition",
      "start_line": 14,
      "end_line": 14,
      "symbols": [
        "add_satb"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 30,
      "snippet": "  def add_satb(chord, octaves)"
    },
    {
      "file": "lib/worlds/polyphonic_world.rb",
      "pattern_type": "class_definition",
      "start_line": 5,
      "end_line": 19,
      "symbols": [
        "PolyphonicWorld"
      ],
      "complexity": 0.9,
      "leitmotif_type": "synthesis",
      "snippet_length": 368,
      "snippet": "class PolyphonicWorld < MusicalWorlds::World\n  def initialize\n    # Metric: sum of absolute midi note motions\n    metric = lambda do |v1, v2|\n      v1.zip(v2).map { |n1, n2| (n1 - n2).abs }.sum\n    end\n    super(\"Polyphonic World (SATB)\", metric)\n  end\n\n  def add_satb(chord, octaves)\n    midi_notes "
    },
    {
      "file": "lib/worlds/progression_world.rb",
      "pattern_type": "function_definition",
      "start_line": 6,
      "end_line": 6,
      "symbols": [
        "initialize"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 16,
      "snippet": "  def initialize"
    },
    {
      "file": "lib/worlds/progression_world.rb",
      "pattern_type": "class_definition",
      "start_line": 5,
      "end_line": 15,
      "symbols": [
        "ProgressionWorld"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 298,
      "snippet": "class ProgressionWorld < MusicalWorlds::World\n  def initialize\n    # Metric: Levenshtein-style distance between progressions\n    metric = lambda do |p1, p2|\n      # Simplified: number of different chords\n      (p1.size - (p1 & p2).size).abs\n    end\n    super(\"Progression World\", metric)\n  end\nend\n"
    },
    {
      "file": "lib/worlds/spectral_world.rb",
      "pattern_type": "function_definition",
      "start_line": 6,
      "end_line": 6,
      "symbols": [
        "initialize"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 16,
      "snippet": "  def initialize"
    },
    {
      "file": "lib/worlds/spectral_world.rb",
      "pattern_type": "class_definition",
      "start_line": 5,
      "end_line": 14,
      "symbols": [
        "SpectralWorld"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 245,
      "snippet": "class SpectralWorld < MusicalWorlds::World\n  def initialize\n    # Metric: Distance between fundamental frequencies\n    metric = lambda do |s1, s2|\n      (s1.fundamental - s2.fundamental).abs\n    end\n    super(\"Spectral World\", metric)\n  end\nend\n"
    },
    {
      "file": "lib/worlds/structural_world.rb",
      "pattern_type": "function_definition",
      "start_line": 6,
      "end_line": 6,
      "symbols": [
        "initialize"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 16,
      "snippet": "  def initialize"
    },
    {
      "file": "lib/xor_guarantee_test.rb",
      "pattern_type": "function_definition",
      "start_line": 11,
      "end_line": 11,
      "symbols": [
        "self"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 48,
      "snippet": "  def self.test_involutory(seed, n_trials = 100)"
    },
    {
      "file": "lib/xor_guarantee_test.rb",
      "pattern_type": "function_definition",
      "start_line": 32,
      "end_line": 32,
      "symbols": [
        "self"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 54,
      "snippet": "  def self.spectral_gap_estimate(seed, n_steps = 1000)"
    },
    {
      "file": "lib/xor_guarantee_test.rb",
      "pattern_type": "function_definition",
      "start_line": 65,
      "end_line": 65,
      "symbols": [
        "self"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 29,
      "snippet": "  def self.demo(seed = 0x42D)"
    },
    {
      "file": "lib/xoroshiro_3color.rb",
      "pattern_type": "function_definition",
      "start_line": 29,
      "end_line": 29,
      "symbols": [
        "self"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 21,
      "snippet": "  def self.rotl(x, k)"
    },
    {
      "file": "lib/xoroshiro_3color.rb",
      "pattern_type": "function_definition",
      "start_line": 40,
      "end_line": 40,
      "symbols": [
        "initialize"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 24,
      "snippet": "    def initialize(seed)"
    },
    {
      "file": "lib/xoroshiro_3color.rb",
      "pattern_type": "function_definition",
      "start_line": 46,
      "end_line": 46,
      "symbols": [
        "splitmix64_init"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 26,
      "snippet": "    def splitmix64_init(x)"
    },
    {
      "file": "lib/xoroshiro_3color.rb",
      "pattern_type": "function_definition",
      "start_line": 53,
      "end_line": 53,
      "symbols": [
        "next_u64"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 16,
      "snippet": "    def next_u64"
    },
    {
      "file": "lib/xoroshiro_3color.rb",
      "pattern_type": "function_definition",
      "start_line": 65,
      "end_line": 65,
      "symbols": [
        "jump"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 12,
      "snippet": "    def jump"
    },
    {
      "file": "lib/xoroshiro_3color.rb",
      "pattern_type": "function_definition",
      "start_line": 86,
      "end_line": 86,
      "symbols": [
        "long_jump"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 17,
      "snippet": "    def long_jump"
    },
    {
      "file": "lib/xoroshiro_3color.rb",
      "pattern_type": "function_definition",
      "start_line": 107,
      "end_line": 107,
      "symbols": [
        "fork"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 12,
      "snippet": "    def fork"
    },
    {
      "file": "lib/xoroshiro_3color.rb",
      "pattern_type": "function_definition",
      "start_line": 131,
      "end_line": 131,
      "symbols": [
        "initialize"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 41,
      "snippet": "    def initialize(polarity, master_seed)"
    },
    {
      "file": "lib/xoroshiro_3color.rb",
      "pattern_type": "function_definition",
      "start_line": 152,
      "end_line": 152,
      "symbols": [
        "next_color"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 18,
      "snippet": "    def next_color"
    },
    {
      "file": "lib/xoroshiro_3color.rb",
      "pattern_type": "function_definition",
      "start_line": 175,
      "end_line": 175,
      "symbols": [
        "color_at"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 21,
      "snippet": "    def color_at(idx)"
    },
    {
      "file": "lib/xoroshiro_3color.rb",
      "pattern_type": "function_definition",
      "start_line": 194,
      "end_line": 194,
      "symbols": [
        "constrain_hue"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 24,
      "snippet": "    def constrain_hue(h)"
    },
    {
      "file": "lib/xoroshiro_3color.rb",
      "pattern_type": "function_definition",
      "start_line": 218,
      "end_line": 218,
      "symbols": [
        "self"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 30,
      "snippet": "  def self.lch_to_hex(l, c, h)"
    },
    {
      "file": "lib/xoroshiro_3color.rb",
      "pattern_type": "function_definition",
      "start_line": 244,
      "end_line": 244,
      "symbols": [
        "initialize"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 45,
      "snippet": "    def initialize(seed = 0x6761795f636f6c6f)"
    },
    {
      "file": "lib/xoroshiro_3color.rb",
      "pattern_type": "function_definition",
      "start_line": 253,
      "end_line": 253,
      "symbols": [
        "next_triplet"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 20,
      "snippet": "    def next_triplet"
    },
    {
      "file": "lib/xoroshiro_3color.rb",
      "pattern_type": "function_definition",
      "start_line": 266,
      "end_line": 266,
      "symbols": [
        "triplet_at"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 23,
      "snippet": "    def triplet_at(idx)"
    },
    {
      "file": "lib/xoroshiro_3color.rb",
      "pattern_type": "function_definition",
      "start_line": 277,
      "end_line": 277,
      "symbols": [
        "generate"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 19,
      "snippet": "    def generate(n)"
    },
    {
      "file": "lib/xoroshiro_3color.rb",
      "pattern_type": "function_definition",
      "start_line": 282,
      "end_line": 282,
      "symbols": [
        "verify_conservation"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 27,
      "snippet": "    def verify_conservation"
    },
    {
      "file": "lib/xoroshiro_3color.rb",
      "pattern_type": "function_definition",
      "start_line": 287,
      "end_line": 287,
      "symbols": [
        "resolve_uri"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 24,
      "snippet": "    def resolve_uri(uri)"
    },
    {
      "file": "lib/xoroshiro_3color.rb",
      "pattern_type": "function_definition",
      "start_line": 321,
      "end_line": 321,
      "symbols": [
        "initialize"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 32,
      "snippet": "    def initialize(seed = 0x42D)"
    },
    {
      "file": "lib/xoroshiro_3color.rb",
      "pattern_type": "function_definition",
      "start_line": 332,
      "end_line": 332,
      "symbols": [
        "rewrite"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 37,
      "snippet": "    def rewrite(term, max_steps: 100)"
    },
    {
      "file": "lib/xoroshiro_3color.rb",
      "pattern_type": "function_definition",
      "start_line": 371,
      "end_line": 371,
      "symbols": [
        "matches_pattern?"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 39,
      "snippet": "    def matches_pattern?(term, pattern)"
    },
    {
      "file": "lib/xoroshiro_3color.rb",
      "pattern_type": "function_definition",
      "start_line": 375,
      "end_line": 375,
      "symbols": [
        "apply_rule"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 30,
      "snippet": "    def apply_rule(term, rule)"
    },
    {
      "file": "lib/xoroshiro_3color.rb",
      "pattern_type": "function_definition",
      "start_line": 384,
      "end_line": 384,
      "symbols": [
        "self"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 34,
      "snippet": "  def self.demo(seed: 0x42D, n: 6)"
    },
    {
      "file": "test/test_phase_3_ramanujan.rb",
      "pattern_type": "function_definition",
      "start_line": 21,
      "end_line": 21,
      "symbols": [
        "initialize"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 18,
      "snippet": "    def initialize"
    },
    {
      "file": "test/test_phase_3_ramanujan.rb",
      "pattern_type": "function_definition",
      "start_line": 43,
      "end_line": 43,
      "symbols": [
        "print_header"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 27,
      "snippet": "    def print_header(title)"
    },
    {
      "file": "test/test_phase_3_ramanujan.rb",
      "pattern_type": "function_definition",
      "start_line": 49,
      "end_line": 49,
      "symbols": [
        "print_subheader"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 30,
      "snippet": "    def print_subheader(title)"
    },
    {
      "file": "test/test_phase_3_ramanujan.rb",
      "pattern_type": "function_definition",
      "start_line": 54,
      "end_line": 54,
      "symbols": [
        "print_summary"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 21,
      "snippet": "    def print_summary"
    },
    {
      "file": "test/test_phase_3_ramanujan.rb",
      "pattern_type": "function_definition",
      "start_line": 74,
      "end_line": 74,
      "symbols": [
        "run_all_tests"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 21,
      "snippet": "    def run_all_tests"
    },
    {
      "file": "test/test_phase_3_ramanujan.rb",
      "pattern_type": "function_definition",
      "start_line": 93,
      "end_line": 93,
      "symbols": [
        "test_sierpinski_addressing"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 34,
      "snippet": "    def test_sierpinski_addressing"
    },
    {
      "file": "test/test_phase_3_ramanujan.rb",
      "pattern_type": "function_definition",
      "start_line": 135,
      "end_line": 135,
      "symbols": [
        "test_vector_clock_causality"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 35,
      "snippet": "    def test_vector_clock_causality"
    },
    {
      "file": "test/test_phase_3_ramanujan.rb",
      "pattern_type": "function_definition",
      "start_line": 212,
      "end_line": 212,
      "symbols": [
        "test_crdt_operation_routing"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 35,
      "snippet": "    def test_crdt_operation_routing"
    },
    {
      "file": "test/test_phase_3_ramanujan.rb",
      "pattern_type": "function_definition",
      "start_line": 237,
      "end_line": 237,
      "symbols": [
        "test_distributed_merge"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 30,
      "snippet": "    def test_distributed_merge"
    },
    {
      "file": "test/test_phase_3_ramanujan.rb",
      "pattern_type": "function_definition",
      "start_line": 309,
      "end_line": 309,
      "symbols": [
        "test_polarity_semantics"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 31,
      "snippet": "    def test_polarity_semantics"
    },
    {
      "file": "test/test_phase_3_ramanujan.rb",
      "pattern_type": "function_definition",
      "start_line": 363,
      "end_line": 363,
      "symbols": [
        "test_concurrent_operations"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 34,
      "snippet": "    def test_concurrent_operations"
    },
    {
      "file": "test/test_phase_3_ramanujan.rb",
      "pattern_type": "function_definition",
      "start_line": 425,
      "end_line": 425,
      "symbols": [
        "test_performance_metrics"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 32,
      "snippet": "    def test_performance_metrics"
    },
    {
      "file": "test/test_unworld.rb",
      "pattern_type": "function_definition",
      "start_line": 11,
      "end_line": 11,
      "symbols": [
        "self"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 18,
      "snippet": "  def self.run_all"
    },
    {
      "file": "test/test_unworld.rb",
      "pattern_type": "function_definition",
      "start_line": 56,
      "end_line": 56,
      "symbols": [
        "self"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 41,
      "snippet": "  def self.test_seed_chaining_determinism"
    },
    {
      "file": "test/test_unworld.rb",
      "pattern_type": "function_definition",
      "start_line": 65,
      "end_line": 65,
      "symbols": [
        "self"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 39,
      "snippet": "  def self.chain_sequence(seed, length)"
    },
    {
      "file": "test/test_unworld.rb",
      "pattern_type": "function_definition",
      "start_line": 77,
      "end_line": 77,
      "symbols": [
        "self"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 40,
      "snippet": "  def self.test_color_chain_verification"
    },
    {
      "file": "test/test_unworld.rb",
      "pattern_type": "function_definition",
      "start_line": 85,
      "end_line": 85,
      "symbols": [
        "self"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 27,
      "snippet": "  def self.test_gf3_balance"
    },
    {
      "file": "test/test_unworld.rb",
      "pattern_type": "function_definition",
      "start_line": 95,
      "end_line": 95,
      "symbols": [
        "self"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 39,
      "snippet": "  def self.test_involution_self_inverse"
    },
    {
      "file": "test/test_unworld.rb",
      "pattern_type": "function_definition",
      "start_line": 103,
      "end_line": 103,
      "symbols": [
        "self"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 31,
      "snippet": "  def self.test_three_match_gf3"
    },
    {
      "file": "test/test_unworld.rb",
      "pattern_type": "function_definition",
      "start_line": 112,
      "end_line": 112,
      "symbols": [
        "self"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 32,
      "snippet": "  def self.test_nash_equilibrium"
    },
    {
      "file": "test/test_unworld.rb",
      "pattern_type": "function_definition",
      "start_line": 120,
      "end_line": 120,
      "symbols": [
        "self"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 32,
      "snippet": "  def self.test_frame_invariance"
    },
    {
      "file": "test/test_unworld.rb",
      "pattern_type": "function_definition",
      "start_line": 133,
      "end_line": 133,
      "symbols": [
        "self"
      ],
      "complexity": 0.2,
      "leitmotif_type": "synthesis",
      "snippet_length": 41,
      "snippet": "  def self.property_test_gf3_transitivity"
    }
  ]
}