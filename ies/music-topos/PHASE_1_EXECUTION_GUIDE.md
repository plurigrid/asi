# Phase 1: Execution Guide - How to Run Data Acquisition

**Date**: 2025-12-21
**Status**: Ready to Execute
**Estimated Time**: 30-120 minutes (depends on data volume)

---

## Quick Start

### Step 1: Load the Module

```clojure\n(require '[agents.data-acquisition :as acq])\n```\n\n### Step 2: Run Data Acquisition\n\n```clojure\n(def acquisition-result \n  (acq/acquire-all-data :username \"barton.bluesky\"\n                        :github-username \"barton\"\n                        :include-web true))\n```\n\n### Step 3: Check Results\n\n```clojure\n(println (:statistics acquisition-result))\n```\n\n### Step 4: Load into DuckDB\n\n```clojure\n;; (Coming in Phase 1b - DuckDB loading)\n(load-into-duckdb (:bluesky acquisition-result)\n                   (:github acquisition-result)\n                   (:web acquisition-result)\n                   (:network acquisition-result))\n```\n\n---\n\n## Detailed Execution Walkthrough\n\n### Phase 1a: Initialize System\n\n```clojure\n(ns my-session\n  (:require [agents.data-acquisition :as acq]\n            [agents.barton-surrogate-system :as bss]))\n\n;; Reset any previous stats\n(acq/reset-acquisition-stats)\n\n;; Initialize agent-o-rama (optional but recommended)\n(bss/initialize-agent-o-rama :ui-enabled true)\n```\n\n### Phase 1b: Bluesky Data Acquisition\n\n```clojure\n;; Get posts\n(def posts-result (acq/acquire-bluesky-posts :username \"barton.bluesky\"))\n\n;; Get interactions\n(def interactions-result \n  (acq/acquire-bluesky-interactions :username \"barton.bluesky\"))\n\n;; Get network\n(def network-result \n  (acq/acquire-bluesky-network :username \"barton.bluesky\" :depth 2))\n\n;; Combine\n(def bluesky-data {:posts (:posts posts-result)\n                   :interactions (:interactions interactions-result)\n                   :network (:network-nodes network-result)})\n```\n\n### Phase 1c: GitHub Data Acquisition\n\n```clojure\n;; Get repositories\n(def repos-result (acq/acquire-github-repositories :username \"barton\"))\n\n;; Get activity\n(def activity-result (acq/acquire-github-activity :username \"barton\"))\n\n;; Combine\n(def github-data {:repositories (:repositories repos-result)\n                  :activity (:activity activity-result)})\n```\n\n### Phase 1d: Web Content Acquisition\n\n```clojure\n;; Extract URLs from posts\n(def urls (acq/extract-urls (:posts posts-result)))\n(println (str \"Found \" (count urls) \" URLs to crawl\"))\n\n;; Acquire content\n(def web-result (acq/acquire-firecrawled-content :urls urls :max-urls 100))\n\n;; Result\n(def web-data (:content web-result))\n```\n\n### Phase 1e: Network Analysis\n\n```clojure\n;; Analyze network from interactions\n(def network-analysis \n  (acq/acquire-network-data :interactions (:interactions interactions-result)\n                            :posts (:posts posts-result)))\n\n(println (:analysis network-analysis))  ; See network stats\n```\n\n### Phase 1f: All-In-One Orchestration\n\n```clojure\n;; Single function call that does everything\n(def full-result \n  (acq/acquire-all-data :username \"barton.bluesky\"\n                        :github-username \"barton\"\n                        :include-web true))\n\n;; Check status\n(println (str \"Status: \" (:status full-result)))\n\n;; Get stats\n(def stats (:statistics full-result))\n(println stats)\n```\n\n---\n\n## What to Expect: Output Format\n\n### Bluesky Posts Result\n\n```clojure\n{:source :bluesky\n :posts [{:post-id \"post-1\"\n          :username \"barton.bluesky\"\n          :text \"Post content...\"\n          :created-at 1703180400000\n          :likes 42\n          :reposts 15\n          :replies 8}\n         ...]\n :count 1000\n :success? true\n :duration-ms 4532}\n```\n\n### Bluesky Interactions Result\n\n```clojure\n{:source :bluesky\n :interactions [{:interaction-id \"inter-1\"\n                :post-id \"post-1\"\n                :actor-id \"user-123\"\n                :type \"reply\"  ; or \"like\", \"repost\"\n                :timestamp 1703180400000\n                :content \"Reply text...\"}\n               ...]\n :count 5000\n :success? true\n :duration-ms 8234}\n```\n\n### GitHub Repositories Result\n\n```clojure\n{:source :github\n :repositories [{:repo-id \"repo-1\"\n                 :name \"awesome-project\"\n                 :url \"https://github.com/barton/awesome-project\"\n                 :description \"A cool project\"\n                 :stars 234\n                 :forks 45\n                 :language \"Clojure\"\n                 :created-at 1703180400000\n                 :updated-at 1703180400000}\n                ...]\n :count 50\n :success? true\n :duration-ms 3421}\n```\n\n### Web Content Result\n\n```clojure\n{:source :firecrawl\n :content [{:url-id \"url-1\"\n            :url \"https://example.com/page-1\"\n            :title \"Web Page Title\"\n            :description \"Meta description\"\n            :content \"Full page content...\"\n            :domain \"example.com\"\n            :language \"en\"\n            :crawl-timestamp 1703180400000}\n          ...]\n :count 200\n :success? true\n :duration-ms 45000}\n```\n\n### Network Analysis Result\n\n```clojure\n{:source :network\n :relationships [{:source-id \"user-1\"\n                  :target-id \"user-2\"\n                  :relationship-type \"reply\"  ; or \"like\", \"mention\", \"follow\"\n                  :weight 5  ; interaction count\n                  :established-at 1703180400000}\n                ...]\n :analysis {:total-nodes 523\n            :total-edges 1247\n            :density 0.0091\n            :clustering-coefficient 0.45}\n :count 1247\n :success? true\n :duration-ms 2134}\n```\n\n---\n\n## Error Handling & Recovery\n\n### Handle Partial Failures\n\n```clojure\n;; Check which sources succeeded\n(let [result (acq/acquire-all-data)]\n  (when-not (= (:status result) :success)\n    (println \"Some sources failed. Details:\")\n    (println (:error result))))\n```\n\n### Retry Failed Sources\n\n```clojure\n;; If Bluesky failed, retry\n(if (not (:success? bluesky-result))\n  (def bluesky-result (acq/acquire-bluesky-posts)))\n\n;; If GitHub failed, retry\n(if (not (:success? github-result))\n  (def github-result (acq/acquire-github-repositories)))\n```\n\n### Check Statistics\n\n```clojure\n;; Get current stats\n(acq/get-acquisition-stats)\n; => {:bluesky {:posts 1000 :interactions 5000 :network-nodes 523}\n;     :github {:repositories 50 ...}\n;     :web {:content-pages 200}\n;     :network {:relationships 1247}\n;     :status :complete}\n```\n\n---\n\n## Next: Phase 1b - DuckDB Population\n\nOnce you have the acquisition result, proceed to populate DuckDB:\n\n```clojure\n;; Create DuckDB schema\n(bss/create-duckdb-schema db)\n\n;; Populate tables\n(bss/populate-duckdb db \n                     (:bluesky acquisition-result)\n                     (:github acquisition-result) \n                     (:web acquisition-result)\n                     (:network acquisition-result))\n\n;; Validate data\n(bss/validate-duckdb-data db)\n\n;; Create indexes\n(bss/create-duckdb-indexes db)\n```\n\n---\n\n## Performance Expectations\n\n### Bluesky Acquisition\n- Posts: ~10-30 seconds (1000 posts)\n- Interactions: ~30-60 seconds (5000+ interactions)\n- Network: ~20-40 seconds (500+ nodes)\n- **Total**: ~60-130 seconds\n\n### GitHub Acquisition\n- Repositories: ~10-20 seconds (50+ repos)\n- Activity: ~20-40 seconds (1000+ activities)\n- **Total**: ~30-60 seconds\n\n### Web Content\n- URL extraction: ~1-2 seconds\n- Firecrawl (per page): ~2-5 seconds\n- **Total**: ~30-600 seconds (depends on URL count)\n\n### Network Analysis\n- Relationship building: ~5-10 seconds\n- Centrality calculation: ~10-20 seconds\n- **Total**: ~15-30 seconds\n\n### Overall Phase 1\n- **Minimum**: ~2-3 minutes (basic run)\n- **Typical**: ~10-20 minutes (full acquisition)\n- **Maximum**: ~30-60 minutes (with all web content)\n\n---\n\n## Monitoring & Progress\n\n### Live Progress\n\nThe acquisition functions print progress as they run:\n\n```\nðŸ“¥ Acquiring Bluesky posts from @barton.bluesky...\nâœ… Retrieved 1000 Bluesky posts (4532ms)\n\nðŸ“¥ Acquiring Bluesky interactions for @barton.bluesky...\nâœ… Retrieved 5000 interactions (8234ms)\n\nðŸ“¥ Acquiring Bluesky network for @barton.bluesky (depth=2)...\nâœ… Retrieved 523 network nodes (2145ms)\n\n...\n\nâœ… PHASE 1: DATA ACQUISITION - COMPLETE\nTotal duration: 142.3 seconds\n\nðŸ“Š ACQUISITION SUMMARY:\n  Bluesky posts:        1000\n  Bluesky interactions: 5000\n  Bluesky network:      523\n  GitHub repositories:  50\n  Web pages:            200\n  Network relationships: 1247\n```\n\n### Check Stats Anytime\n\n```clojure\n(acq/get-acquisition-stats)\n```\n\n---\n\n## Troubleshooting\n\n### Issue: \"API rate limit exceeded\"\n\n**Solution**: Add delay between requests or cache results\n\n```clojure\n(Thread/sleep 1000)  ; Wait 1 second between requests\n```\n\n### Issue: \"Network timeout\"\n\n**Solution**: Increase timeout or retry\n\n```clojure\n;; Retry failed source\n(recur)  ; Retry function execution\n```\n\n### Issue: \"Partial data acquired\"\n\n**Solution**: Check which source failed and retry\n\n```clojure\n(if (not (:success? source-result))\n  (println (str \"Failed: \" (:error source-result))))\n```\n\n---\n\n## Success Checklist\n\n- âœ… Posts acquired (1000+)\n- âœ… Interactions captured (5000+)\n- âœ… Network mapped (500+)\n- âœ… GitHub data collected (50+ repos)\n- âœ… Web content crawled (200+ pages)\n- âœ… All data in memory (acquisition-result)\n- âœ… No critical errors\n- âœ… Statistics collected\n- âœ… Ready for Phase 1b (DuckDB loading)\n\n---\n\n## Next Steps After Phase 1a\n\n1. **Phase 1b**: Load data into DuckDB\n2. **Phase 1c**: Validate data integrity\n3. **Phase 1d**: Create indexes and optimize\n4. **Phase 2**: MCP space saturation\n5. **Phase 3**: Pattern extraction\n6. **Phase 4+**: Surrogate creation and training\n\n---\n\n**Status**: Ready to Execute  \n**Next Command**: `(acq/acquire-all-data)`\n